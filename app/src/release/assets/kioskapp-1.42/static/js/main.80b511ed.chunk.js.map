{"version":3,"sources":["bos_common/src/types/AppType.ts","bos_common/src/types/ClientType.ts","bos_common/src/types/SocketIOTypes.ts","bos_common/src/types/DeviceType.ts","bos_common/src/hooks.ts","bos_common/src/components/PageHeader.tsx","bos_common/src/types/MerchantCouponType.ts","services/models.tsx","bos_common/src/types/MerchantType.ts","bos_common/src/services/backendAxios.ts","bos_common/src/pages/PrivacyPolicyPage.tsx","bos_common/src/pages/TermsOfServicePage.tsx","bos_common/src/components/Papers.tsx","bos_common/src/types/UserTypes.ts","bos_common/src/utils.tsx","config/config.ts","bos_common/src/types/OrderTypes.ts","services/logger/sentry.ts","services/logger/console.ts","context/AppContext.tsx","reportWebVitals.ts","bos_common/src/types/MerchantPromotionType.ts","bos_common/src/services/PromotionUtils.ts","bos_common/src/services/CouponUtils.ts","services/hoursUtils.tsx","assets/icons/PercentageIcon.tsx","assets/icons/DiamondIcon.tsx","utils.tsx","redux/slice/auth/authActions.ts","redux/slice/auth/authSaga.ts","redux/slice/vote/voteAction.ts","services/votesApiService.ts","redux/slice/auth/authSelector.ts","services/merchantsApiService.ts","redux/slice/merchant/action.ts","redux/slice/vote/voteSaga.ts","redux/rootSaga.ts","redux/slice/auth/authSlice.ts","redux/slice/auth/index.ts","redux/slice/vote/voteSlice.ts","redux/slice/vote/index.ts","redux/slice/merchant/reducerSlice.ts","redux/slice/merchant/index.ts","redux/slice/marketPlace/marketPlaceAction.ts","redux/slice/marketPlace/index.ts","redux/slice/marketPlace/marketPlaceSlice.ts","services/reviewsApiService.ts","redux/slice/review/reviewAction.ts","redux/slice/review/reducerSlice.ts","redux/slice/review/index.ts","services/ordersApiService.ts","redux/slice/order/orderAction.ts","redux/slice/order/reducerSlice.ts","redux/slice/order/index.ts","services/merchantPromotionsApiService.ts","redux/slice/merchantPromotion/merchantPromotionAction.ts","redux/slice/merchantPromotion/reducerSlice.ts","redux/slice/merchantPromotion/index.ts","services/stripeApiService.ts","redux/slice/stripe/stripeAction.ts","redux/slice/stripe/reducerSlice.ts","redux/slice/stripe/index.ts","redux/store.ts","bos_common/src/services/auth0.ts","bos_common/src/constants.ts","bos_common/src/context/UserContext.tsx","bos_common/src/pages/CallbackPage.tsx","webpack:///./src/assets/icons/logo.svg?0705","bos_common/src/pages/CopyrightPolicyPage.tsx","bos_common/src/context/UserContextProvider.tsx","bos_common/src/components/ErrorBoundary.tsx","components/ProtectedRoute.tsx","bos_common/src/components/VersionNumber.tsx","bos_common/src/components/TOSString.tsx","bos_common/src/components/PhoneVerificationDialog.tsx","components/User/SignupDrawer.tsx","bos_common/src/components/PhoneSignup.tsx","config/constants.ts","components/common/WaitTime.tsx","bos_common/src/services/orderUtils.ts","redux/hooks.ts","components/common/OneMarketPointString.tsx","assets/images/congratulations-rewards.svg","assets/images/warning-error.svg","assets/icons/OneMarketIcon.tsx","components/common/CustomizedChip.tsx","assets/icons/OrdersMenuIcon.tsx","components/common/MenuDrawer.tsx","bos_common/src/services/urls.ts","context/VisitedMerchantContext/VisitedMerchantContext.tsx","components/common/DocumentMetaTags.tsx","components/common/PageHeader.tsx","services/Tracking/EventsTracking.tsx","pages/NoneExistPage.tsx","bos_common/src/components/FabContainers.tsx","bos_common/src/components/SimpleLoader.tsx","bos_common/src/services/orderPricingUtils.ts","services/cartUtils.tsx","bos_common/src/assets/icons/allergens/kosher.svg","bos_common/src/components/Merchandise/MerchandiseCategoriesHeader.tsx","bos_common/src/components/Merchandise/MerchandiseListing.tsx","bos_common/src/services/merchandiseUtils.ts","bos_common/src/components/Merchandise/MerchandiseDescription.tsx","components/common/MerchandiseHelper.tsx","bos_common/src/components/Price.tsx","components/MerchantMenu/MerchandisePrice.tsx","bos_common/src/assets/icons/allergens/halal.svg","bos_common/src/assets/icons/allergens/vegan.svg","bos_common/src/assets/icons/allergens/spicy.svg","bos_common/src/assets/icons/allergens/locally-grown.svg","bos_common/src/assets/icons/allergens/caffeine-free.svg","bos_common/src/assets/icons/allergens/cold.svg","bos_common/src/assets/icons/allergens/dairy-free.svg","bos_common/src/assets/icons/allergens/gluten-free.svg","bos_common/src/assets/icons/allergens/hot.svg","bos_common/src/assets/icons/allergens/peanut-free.svg","bos_common/src/assets/icons/allergens/shellfish-free.svg","bos_common/src/assets/icons/allergens/soy-free.svg","bos_common/src/assets/icons/allergens/vegetarian.svg","bos_common/src/components/Merchandise/MerchandiseAllergens.tsx","components/MerchantMenu/MenuItemCard.tsx","components/common/MarketingOneLiner.tsx","components/common/CountBox.tsx","components/CustomDrawer.tsx","components/Promotions/PromotionDialog.tsx","components/Promotions/PromotionButton.tsx","components/MerchantMenu/MerchantMenu.tsx","bos_common/src/components/OutlinedFab.tsx","bos_common/src/components/ConfirmationAlert.tsx","components/Order/OrderOptionsGroup.tsx","components/common/FavoriteButton.tsx","components/common/WaitTimeSlider.tsx","bos_common/src/components/BottomDrawer.tsx","components/MerchantInfo/MerchantStoreHours.tsx","components/MerchantInfo/MerchantRatingInfo.tsx","components/MerchantInfo/MerchantInfoDrawer.tsx","assets/icons/table-icon.svg","components/common/MerchantRewards.tsx","components/MerchantInfo/MerchantInfoHeader.tsx","services/createOrderService.ts","components/PickupDetails/ScheduleOrderDrawer.tsx","components/MerchantInfo/MerchantAddress.tsx","components/PickupDetails/PickupOptions.tsx","components/ShoppingCart/ShoppingCartHeader.tsx","components/common/BackButton.tsx","components/ShoppingCart/TipOptions.tsx","bos_common/src/components/Merchandise/MerchandiseModifiers.tsx","bos_common/src/components/Merchandise/MerchandiseNote.tsx","components/MerchantMenu/QuantityInput.tsx","context/ShoppingCart/ShoppingCartContext.ts","components/ShoppingCart/CartItemCard.tsx","components/ShoppingCart/CartItems.tsx","bos_common/src/components/PriceSummary.tsx","bos_common/src/components/OrderSummary.tsx","services/localStorage.ts","components/ShoppingCart/CartSummary.tsx","components/ShoppingCart/StartOverDialog.tsx","bos_common/src/services/featureFlagUtils.ts","redux/slice/marketPlace/marketPlaceSelector.ts","components/ShoppingCart/ShoppingCartCouponInput.tsx","components/ShoppingCart/CartBagItemCard.tsx","components/ShoppingCart/OrderPickupTypeOptions.tsx","components/ShoppingCart/ShoppingCartDrawer.tsx","bos_common/src/types/MerchantAnnouncementTypes.ts","components/MerchantOfflineDrawer.tsx","context/ShoppingCart/ShoppingCartContextProvider.tsx","components/common/FormGroupCardWrapper.tsx","components/MerchantMenu/ModifierTemplate.tsx","pages/MerchandiseReviewsDrawerPage.tsx","pages/MerchandiseDrawerPage.tsx","bos_common/src/types/ClassifiedType.ts","components/common/MerchantPromotionsDrawer.tsx","pages/MerchantPage.tsx","components/ShoppingCart/PointsRedemptionButton.tsx","pages/ShoppingCartPage.tsx","assets/icons/logo.svg","components/Classifieds/styledComponents.tsx","components/common/MerchantCategoriesList.tsx","components/common/MerchantItemCard.tsx","components/MerchantInfo/MerchantPromotionsEntries.tsx","components/common/PromotionsDrawer.tsx","assets/images/merchant-placeholder.png","assets/icons/ExclusiveTickIcon.tsx","components/common/MerchantPromotionChip.tsx","components/common/MerchantOrderAheadChip.tsx","components/MerchantCard.tsx","components/MerchantCardPlaceholder.tsx","components/Stores/StoresListDetailed.tsx","pages/HomePage.tsx","components/Order/Order1MPoints.tsx","components/Order/OrderItemCard.tsx","components/Order/OrderItems.tsx","components/PickupDetails/PickupDetails.tsx","components/common/CloseButton.tsx","components/Order/OrderLocalImpact.tsx","components/Order/OrderReviewCTA.tsx","pages/OrderStatusPage.tsx","bos_common/src/types/UserTransactionHistoryType.ts","components/common/AutoRedirectProgress.tsx","components/KioskOrderStatus/styles.ts","components/KioskOrderStatus/KioskOrderStatus.tsx","pages/KioskOrderStatusPage.tsx","components/Payment/utils.ts","components/Payment/CreditCardList.tsx","assets/images/card_visa.png","assets/images/card_mc.png","assets/images/card_amex.png","assets/images/card_others.png","redux/slice/stripe/stripeSelector.ts","components/Payment/AddPaymentFormDrawer.tsx","components/Payment/StripePaymentForm.tsx","components/Payment/NoPaymentForm.tsx","pages/CheckoutPage.tsx","pages/LogoutPage.tsx","components/User/styles.ts","components/User/UserProfileSettings.tsx","components/User/UserFoodPreference.tsx","components/User/UserApplicationPreferences.tsx","styles/Common.style.ts","bos_common/src/components/ImageUploadButton.tsx","bos_common/src/components/ImageUploadAvatar.tsx","pages/UserSettingsPage.tsx","components/OneMarketPointsCard.tsx","pages/OneMarketPointsPage.tsx","pages/FavoritesPage.tsx","pages/LoginPage.tsx","pages/NotificationPage.tsx","components/common/FloatingSectionsHeader.tsx","assets/icons/CheckIcon.tsx","pages/OrdersPage.tsx","components/LearnMoreDialog.tsx","assets/images/banner/deserve-rewards.png","assets/images/merchant-rewards-card.png","assets/images/redeem-reminder.png","assets/icons/ShoppingIcon.tsx","assets/icons/ReviewIcon.tsx","assets/icons/LootboxIcon.tsx","assets/icons/JoinPromotionIcon.tsx","components/common/RewardsInfoContent.tsx","components/RewardsEducationInfo.tsx","pages/HelpOneMarketPointsPage.tsx","pages/PlaceOpenCheckOrderPage.tsx","assets/images/sharing-happiness.svg","pages/OpenCheckOrderStatusPage.tsx","bos_common/src/types/ReviewType.ts","pages/VisitHistoryPage.tsx","redux/slice/review/reviewSelector.ts","redux/slice/order/orderSelector.ts","redux/slice/merchant/merchantSelector.ts","components/Review/ReviewFAB.tsx","pages/ReviewPage.tsx","components/common/StarReview.tsx","components/Review/RatingField.tsx","pages/ReviewMerchandisePage.tsx","components/NativeAuthHandler.tsx","context/Reducers.tsx","context/AppContextProvider.tsx","theme/MUIThemeProvider.tsx","context/VisitedMerchantContext/VisitedMerchantContextProvider.tsx","services/logger/index.ts","assets/icons/1m-points-alternate.png","assets/icons/1m-points.svg","assets/icons/treasure-icon.svg","assets/icons/lootbox-icon-with-shine.png","assets/icons/loot-box.svg","components/common/OneMarketIcons.tsx","components/Lootbox/styles.tsx","components/Lootbox/FeaturedItemCard.tsx","components/Lootbox/LootboxFeaturedItems.tsx","components/Lootbox/SectionHeader.tsx","components/Lootbox/RewardsTag.tsx","components/Lootbox/LootboxCounter.tsx","components/Lootbox/ProgressIndicator.tsx","components/Lootbox/LootboxMissions.tsx","components/Lootbox/LootboxVoteCard.tsx","components/Lootbox/LootboxVotes.tsx","context/LootboxThemeContextProvider.tsx","redux/slice/vote/voteSelector.ts","pages/LootboxPage.tsx","components/Lootbox/LootboxVoteDrawer.tsx","components/Lootbox/LootboxVotedDialog.tsx","pages/LootboxVotesPage.tsx","bos_common/src/assets/icons/Map-Marker.svg","bos_common/src/assets/icons/Map-Marker-with-store-icon.svg","bos_common/src/components/EmbededMap.tsx","components/Stores/StoreSearchBox.tsx","components/Stores/StoreSearchDrawer.tsx","pages/MapSearchPage.tsx","assets/icons/OpenNowIcon.tsx","assets/icons/categories/AmericanIcon.tsx","assets/icons/categories/ChineseIcon.tsx","assets/icons/categories/TacoIcon.tsx","assets/icons/categories/OutlineHotpotIcon.tsx","assets/icons/categories/JapaneseFoodIcon.tsx","assets/icons/categories/FishIcon.tsx","assets/icons/categories/PizzaIcon.tsx","assets/icons/categories/SteakIcon.tsx","assets/icons/categories/BowlIcon.tsx","assets/icons/categories/RiceBowlIcon.tsx","assets/icons/categories/CocktailIcon.tsx","assets/icons/categories/BurgerIcon.tsx","assets/icons/categories/BurritoIcon.tsx","assets/icons/categories/CoffeeCupIcon.tsx","assets/icons/categories/CoffeeBeanIcon.tsx","assets/icons/categories/CakeIcon.tsx","assets/icons/categories/FusionIcon.tsx","assets/icons/categories/LaddooIcon.tsx","assets/icons/categories/NoodlesIcon.tsx","assets/icons/categories/ChickenWingsIcon.tsx","assets/icons/categories/HotpotIcon.tsx","assets/icons/categories/PastaIcon.tsx","assets/icons/categories/RamenIcon.tsx","assets/icons/categories/SaladIcon.tsx","assets/icons/categories/SoupIcon.tsx","assets/icons/categories/BeverageIcon.tsx","assets/icons/categories/BrazilianIcon.tsx","assets/icons/categories/BreakfastIcon.tsx","assets/icons/categories/ItalianIcon.tsx","assets/icons/categories/JuiceIcon.tsx","assets/icons/categories/KimchiIcon.tsx","assets/icons/categories/GuacamoleIcon.tsx","assets/icons/categories/VietnameseFoodIcon.tsx","assets/icons/categories/SandwichIcon.tsx","assets/icons/categories/SushiIcon.tsx","assets/icons/categories/EcoFriendlyIcon.tsx","assets/icons/OneMarketVerticalLogo.tsx","services/Tracking/FbPixelTracking.ts","components/common/AppFooter.tsx","assets/icons/1m-logo.svg","components/common/Navbar.tsx","pages/MerchantDiscoveryPage.tsx","components/Classifieds/styles.ts","components/Classifieds/ClassifiedShowAllCard.tsx","assets/icons/ArrowDownFilledIcon.tsx","components/Classifieds/ClassifiedMerchantCard.tsx","components/Classifieds/ClassifiedPromotionCard.tsx","assets/icons/HotItemsIcon.tsx","components/Classifieds/ClassifiedMerchandiseCard.tsx","components/Classifieds/utils.tsx","components/Classifieds/ClassifiedDrawer.tsx","components/Classifieds/ClassifiedCarousel.tsx","assets/icons/CouponIcon.tsx","assets/icons/LocationIcon.tsx","assets/icons/NoFeesBubble.tsx","assets/icons/NoFeesIcon.tsx","assets/icons/TelescopeIcon.tsx","assets/images/banner/san-mateo-banner.png","assets/images/banner/san-mateo-banner-mobile.png","assets/images/banner/dialog-banner.png","assets/icons/MapColoredIcon.tsx","assets/icons/ExclusiveDealsIcon.tsx","assets/icons/RewardsIcon.tsx","components/DiscoveryPageHeader.tsx","assets/images/banner/orange-bubbles.svg","assets/images/banner/green-bubbles.svg","assets/images/banner/deserve-rewards-landscape.png","assets/images/banner/deserve-rewards-landscape-min.png","assets/images/banner/no-markup-offer.svg","components/DeserveRewardsDialog.tsx","assets/images/banner/fee-free.png","assets/icons/CommissionIcon.tsx","components/NoMarkupDialog.tsx","pages/SanMateoDiscoveryPage.tsx","pages/UserPaymentMethods.tsx","components/common/RewardsEducationDrawer.tsx","App.tsx","index.tsx","services/logger/loggerTypes.ts"],"names":["AppType","ClientType","SocketEvent","DeviceType","useWindowStorage","key","initialValue","storageType","useState","item","window","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","setValue","value","valueToStore","Function","setItem","stringify","useFetchApiOnInterval","fetcherFinction","interval","exponentialBackoff","timer","newInterval","executeFunc","then","res","status","setTimeout","clearTimeout","catch","err","useEffect","useFunctionOnInterval","func","immediate","timerRef","useRef","current","makeStyles","theme","createStyles","root","display","justifyContent","padding","flexShrink","alignItems","paddingLeft","spacing","CouponValueType","ItemType","QRCodeType","MerchantInheritanceType","MerchantTag","backendBaseURL","apiBaseURL","axios","Axios","create","baseURL","cache","LRU","max","maxAge","configure","backendURL","backendAPIURL","PrivacyPolicyPage","location","assign","TermsOfServicePage","ColoredPaper","props","style","backgroundColor","useTheme","palette","background","paper","flex","square","children","FullscreenPaper","flexDirection","borderRadius","WhitePaper","AvatarPaper","finalProps","elevation","IdentityRole","formatDate","date","dateFormat","format","Date","getUTCDate","d","UTC","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","displayTime","t","long","timeZone","utcDate","now","timeStampDiff","Math","abs","differenceInMilliseconds","sixHourDiff","floor","finalDate","utcToZonedTime","displayDate","daysDiff","secondsDiff","seconds","minuteDiff","minutes","hourDiff","hours","dayDiff","lapsedTime","DAYS_OF_WEEK","repeatAudio","audio","times","assert","played","addEventListener","repeat","play","removeEventListener","getAuthHeaders","token","pluralString","count","singular","plural","pluarlFinal","itemStr","getAPIErrorMessage","response","data","errors","bosError","internal","toFixed2","num","round","withFallbackPath","Component","fallbackUrl","onError","e","target","onerror","src","resizeFile","file","width","height","a","Promise","resolve","FileResizer","imageFileResizer","uri","uploadimgByUrl","url","backendAxios","put","headers","uploadThumbnail","small","medium","buf","length","size","buf1","response1","smallThumbnailUrl","config","mediumThumbnailUrl","loadOptionalParam","paramName","defaultValue","process","appConfig","appType","MARKETPLACE","deviceType","Regular","clientType","Web","buildEnv","gaTrackingId","gtmTrackingId","pixelId","env","isStaging","parseInt","OrderStatus","OrderType","OrderPickupType","SkipPaymentReason","VOIDED","PAID_EXTERNALLY","IGNORE_ERRORS","_userProperties","clientConfiguration","environment","transport","Sentry","FetchTransport","attachStacktrace","integrations","filter","name","concat","RewriteFrames","iteratee","rewriteFrame","TryCatch","requestAnimationFrame","ignoreErrors","shouldIgnoreError","isCancel","some","matcher","match","message","frame","filename","replace","sentryLog","level","exception","tags","LogLevels","info","debug","includes","hub","withScope","scope","setLevel","fingerprint","Error","push","setFingerprint","Object","keys","forEach","setExtra","setContext","setTag","captureException","setUserId","userId","updateUserScope","setUserProperties","userProperties","configureScope","userData","id","setUser","dsn","beforeSend","event","hint","originalException","sentryLogger","fatal","bind","warning","setVersion","version","setDeviceId","deviceId","consoleLog","payload","consoleLogger","_version","_deviceId","_userId","CartType","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","PromotionValueType","PromotionCriteriaType","TreatmentType","defaultTipData","tipRate","undefined","AppContext","React","createContext","cart","tip","setTip","_","orderType","PICKUP","setOrderType","__","setPickupTime","addItemToCart","removeItemFromCart","redeemItems","cancelRedemption","setCoupon","clearCart","setActiveOrder","setCartType","___","reFetchMerchandisesForCart","setSwitchMerchantAlert","orderPickupType","setOrderPickupType","isPromotionValid","promotion","live","limit","usedCount","valueType","PERCENTAGE_DISCOUNT","startDate","endDate","promotionRoutines","dayOfWeek","getDay","minutesOffset","getHours","getMinutes","found","find","startMinOffset","endMinOffset","isCouponValid","coupon","PERCENTAGE","isCouponValidOnMerchandise","merchandise","result","isCouponValidOnMerchandises","merchandises","affectedItems","aitem","type","CATEGORY","categoryId","MERCHANDISE","isValidExpiryDate","today","_endDate","getFullYear","isAfter","daysOfWeek","Map","getSpecialTimings","customizations","pipe","groupBy","customization","specificDate","mapObjIndexed","day","sort","ascend","prop","nextOpenHour","merchant","dayMinutesOffset","get","dateStr","tomorrow","tomorrowOfWeek","tomorrowDateStr","setDate","getDate","isEmptyOrNil","defaultFromMinOffset","defaultToMinOffset","formattedSpecialTimings","hourGroups","hourGroup","hg","fromMinOffset","toMinOffset","tomorrowHourGroups","PercentageIcon","SvgIcon","color","sx","viewBox","fillRule","clipRule","DiamondIcon","isProduction","anyPass","isEmpty","isNil","isKioskDevice","Kiosk","isAppEmbed","AppEmbed","isWebViewEmbed","WebviewEmbed","isEmbeddedMode","getMinutesOffset","h","m","getTimeLabelFromOffset","timeOffset","formatTime","setHours","getStoreStatusLabel","isMerchantOrderingAvailable","isMerchantOnline","label","canOrder","nextOpenHourOffset","isStoreOpen","currentMinsOffset","weekday","propOr","specialHours","sh","isOpenTimeValid","isCloseTimeValid","DINEIN","kioskOrdering","online","isValidTime","orderingConfig","orderAhead","getOfflineMerchantMessage","isMerchandiseStockLow","inventory","dailyCurrentStock","getSortedMerchantsListBasedOnStatus","list","openStores","closedStores","openLaterStore","storeStatus","enableOrderItemNote","featureFlags","pathEq","enableRedeemPoints","enableSanMateoMP","getRequiredRedemptionPoints","itemPrice","Number","price","pointsToRedeem","defaultPointsToRedeemADollar","isMerchandiseAvailable","currentDailyStock","path","isDineInPaymentDisabled","disableDineInPayment","isUserEligibleForPromotion","user","criteriaType","NEW_USER","NONE","isMerchandisePromoted","getPromotionChipStyleConfig","ABSOLUTE_DISCOUNT","isDiscountPromotion","icon","isNotificationSoundEnabled","pathOr","getLiveMerchantPromotion","p","isAddingItemToOpenTab","cartType","ADD_ITEMS_OPEN_CHECK","isCartFromAnOpenTabOrder","FROM_OPEN_CHECK","commaSeparatedValue","toString","scrollToTop","elementId","scrollTo","el","document","getElementById","top","behavior","stripePublicKey","production","getMerchandiseOverallRatings","toFixed","lineItemWithoutCarryoutBag","authFetching","createAction","authFetchSucceed","authFetchFailed","fetchAuth","loadAuth","authSaga","action","takeLatest","storesToVoteFetching","storesToVoteFetchSucceed","storesToVoteFetchFailed","fetchStoresToVote","votedStoresFetching","votedStoresFetchSucceed","votedStoresFetchFailed","fetchVotedStores","voteCountFetching","voteCountFetchSucceed","voteCountFetchFailed","fetchVoteCount","voteCreating","voteCreateSucceed","voteCreateFailed","createVote","voteRemainingFetching","voteRemainingFetchSucceed","voteRemainingFetchFailed","fetchVoteRemaining","getStoresToVote","request","method","getVotedStores","postVote","voteBody","getStoreVotesCount","merchantIds","URL","searchParams","append","join","getRemainingVotes","getToken","state","auth","entities","getUser","getMerchant","queryParams","getMerchantByNameQuery","searchQuery","params","merchantsFetchSucceed","searchQueryUpdated","setShowRewardsEducationDrawer","searchMerchantByName","createAsyncThunk","thunkAPI","getState","fetchMerchant","voteSaga","select","call","merchants","storesToVoteIds","map","fetchVoteCountAction","votedStoreIds","counts","mappedIds","merchantId","voteCount","createdVote","voteRemaining","all","rootSaga","sagas","saga","spawn","authSlice","createSlice","initialState","loading","reducers","setLoadingAuth","stopLoadingAuth","updateAuth","resetAuth","actions","voteSlice","ids","byId","setLoadingVote","stopLoadingVote","setUpdatingVote","updating","stopUpdatingVote","updateVote","updateStoreToVoteIds","indexOf","updateVotedStoreIds","updateVoteCount","voteCreated","indexToRemove","splice","updateVoteRemaining","commonUpdate","byNameSearchParams","subItem","currentSearchQuery","merchantSlice","showRewardsEducationDrawer","setLoadingMerchant","stopLoadingMerchant","updateMerchant","updatedState","updateCurrentSearchQuery","toggleShowEducationDrawer","extraReducers","builder","addCase","pending","fulfilled","rejected","reducerSlice","fetchUserPromotionEntries","marketPlaceSlice","userPromotionEntriesList","getReviewsForOrder","orderId","postReview","body","review","hideEarnRewardsDrawerUI","showEarnRewardsDrawerUI","fetchReviewsForOrder","createReview","order","byOrder","reviewSlice","ui","earnRewardsShown","setLoading","stopLoading","updateReview","setUpdating","stopUpdating","showEarnRewards","hideEarnRewards","getOrder","fetchOrderDetail","String","tempRef","orderSlice","updateOrder","getMerchantPromotions","fetchMerchantPromotion","merchantPromotionSlice","updateMerchantPromotion","setupIntentCreateSucceed","fetchUserPaymentMethods","stripeApiService","createPaymentMethod","stripe","card","resSetupIntent","confirmCardSetup","client_secret","payment_method","billing_details","setupIntent","dispatch","resPaymentMethod","updatePaymentMethods","paymentMethod","stripePaymentMethods","stripeSlice","updatePaymentMethod","updateSetupIntent","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","authReducer","vote","voteReducer","marketPlace","marketPlaceReducer","merchantReducer","reviewReducer","orderReducer","merchantPromotion","merchantPromotionReducer","stripeReducer","middleware","getDefaultMiddleware","thunk","logger","run","LOCALSTORAGE_AUTH_KEYS","auth0","WebAuth","domain","clientID","redirectUri","origin","responseType","storeAuthMeta","lastTimeSMS","phoneNumber","email","localStorage","LAST_TIME","phoneNumberHash","PHONE_HASH","phoneHashArr","split","emailNumberHash","EMAIL_HASH","emailHashArr","hash","createHash","update","hex","digest","unshift","slice","getAuthState","nonce","NONCE","STATE","USER_JWT_TOKEN","getJWTTokenFromHeader","authorization","extractJWT","LOCALSTORAGE_APP_KEYS","loginWithAuth0Token","post","authMethod","newToken","logout","logoutURL","returnTo","removeItem","URLSearchParams","UserContext","setLoginState","u","authenticating","setAuthenticating","refreshUser","updateUserPicture","picture","MERCHANT_EXPENSE_LEVELS","_path","_path2","CallbackPage","history","useHistory","setErrorMsg","useContext","parseHash","authResult","input","storeAuthState","idTokenPayload","idToken","cachedDisplayName","sessionStorage","USER_DISPLAY_NAME","userPayload","authState","pathname","LinearProgress","CardContent","Alert","severity","CopyrightPolicyPage","UserContextProvider","setToken","userLoading","setUserLoading","USER_PHONE_NUMBER","displayName","skipLogin","checkSession","authState1","Provider","pictureUrl","defaultErrorBoundary","textAlign","ErrorBoundary","hasError","errorInfo","this","source","reportError","errorFallbackComponent","ProtectedRoute","rest","useLocation","to","from","VersionNumber","lastUpdateTime","fromUnixTime","buildTimestamp","versionNumber","Typography","variant","component","_extends","i","arguments","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","fill","xmlns","ref","ForwardRef","TOSString","fontSize","Transition","forwardRef","Slide","direction","SignupEntrance","useStyles","paddingRight","WebkitAppearance","margin","paddingTop","paddingBottom","PhoneVerificationDialog","classes","errorMsg","progress","setProgress","hasConsent","setConsent","code","setCode","codeInputKey","setCodeInputKey","isInvalidPhoneNumber","setIsInvalidPhoneNumber","phoneNo","open","setOpen","redirectTo","startsWith","sendSMSCode","authMeta","emailAddrHash","phoneHashArray","emailHashArray","getAuthMeta","isPhoneNumberCached","passwordlessStart","connection","send","statusCode","description","setInterval","prevProgress","clearInterval","kickOfftimer","handleSignup","passwordlessLogin","verificationCode","error_description","authorizeSMS","Dialog","onClose","aria-labelledby","TransitionComponent","keepMounted","className","DialogTitle","fields","autoFocus","inputMode","onChange","c","gutterBottom","Divider","DialogActions","Fab","onClick","disabled","fullwidth","marginLeft","countryPhoneLength","PhoneSignup","showActionBtn","cachedConsumerPhoneNumber","phone","_setPhone","countryData","setCountryData","phoneSignupOpen","setPhoneSignupOpen","submitPhoneNumber","isValid","webkit","messageHandlers","authMessageHandler","postMessage","country","countryCodeLength","dialCode","countryCode","countryPLength","inputClass","onlyCountries","specialLabel","onEnterKeyPress","setPhone","IconButton","aria-label","NavigateNext","Button","fullWidth","marginTop","WAIT_TIME_ON_ORDER_STATUS_INTERVAL","PHONE_ONLY_COUNTRIES","footerData","urlsList","heading","links","bottomLinks","lineHeight","marginRight","RenderWaitTime","withIcon","short","typographyProps","waitColor","setWaitColor","useAxios","manual","waitTime","executeGet","timerHandler","readyTime","maxMinutes","success","main","getWaitTimeString","minMinutes","condition","Schedule","AlarmOn","priorOrdersInQueue","priorItemsInQueue","displayOrderShortCode","orderNo","toUpperCase","isOrderActive","PREPARING","PAID","OPEN_CHECK","displayOrderStatus","toMerchant","PENDING","FULFILLED","REFUNDED","getTime","isPickupASAP","toPickupTime","createdAt","getItemsInOrder","ignoreRefundedItems","lineItems","reduce","acc","refunded","quantity","useAppDispatch","useDispatch","useAppSelector","useSelector","cursor","secondary","textDecoration","OneMarketPointString","text","reduxDispatch","Link","preventDefault","stopPropagation","classNames","Boolean","drawer","overflowY","content","position","left","transform","pointerEvents","objectFit","SignupCTA","LeaveOrSignupCTA","marginBottom","onLeave","SignupDrawer","entrance","forceShow","onCTA","redirectAfterSignup","playNotificationSound","noShow","EARNED_POINTS","notifAudio","RenderEarnedPointsTitle","oneMarketPoints","RenderUserLoginSignupTitle","fontWeight","useMemo","FAVORTIE","imageSrc","PromotionIllustration","CTA","USER_LOGIN","SAVE_ORDER","WarningIllustration","NEW_ORDER","PLACE_ORDER","getConfig","toggleDrawer","SwipeableDrawer","ModalProps","anchor","onOpen","role","Grid","container","xs","sm","lg","CardMedia","Toolbar","OneMarketIcon","gap","CustomizedChip","clickProp","Chip","OrdersMenuIcon","textTransform","flexGrow","light","rgba","primary","MENU_ITEMS_LIST","Star","AccountBalanceWallet","AccessTimeFilled","AccountCircle","MenuIconRenderer","ListItem","button","NavLink","exact","activeClassName","ListItemIcon","ListItemText","ChevronRight","MenuDrawer","menuButtonProps","openDrawer","drawerOpen","setDrawerOpen","signupDrawerOpen","setSignupDrawerOpen","userLogout","logoutMessageHandler","OneMarketSupportButton","href","Support","minWidth","Menu","Drawer","currentUser","Box","Avatar","alt","wallet","points","List","startIcon","Logout","RenderUserList","AppLogoIcon","Login","getMarketPlaceURL","withWWW","VisitedMerchantContext","visitedMerchant","setVisitedMerchant","visitedMenu","setVisitedMenu","visitedMerchantList","DocumentMetaTags","meta","officialName","category","canonical","username","HideOnScroll","trigger","useScrollTrigger","appear","in","EVENT_TYPES","EVENT_ACTIONS","headerTheme","dark","overflow","textOverflow","whiteSpace","common","white","PageHeader","leftChild","hideOnScroll","rightChild","Content","AppBar","NoneExistPage","Card","alignment","buttonCount","boxShadow","bottom","right","zIndex","breakpoints","down","visibility","ctaFadeTopStyling","fadeTop","MultiFabContainer","fabStyle","FabContainer","colorPaperClasses","SimpleLoader","getOrderSubtotalPrice","items","ignoreRefundedRedeemedItem","b","quantityRedeemed","getOrderPriceBreakdown","breakdowns","Array","couponRedemptionInfo","amountRedeemed","couponCode","pointsRedemptionInfo","tax","beforeRefundInfo","refundedAmount","getTotalItems","getItemsRedeemAmount","getDiscountedAmount","subtotal","ABSOLUTE","min","getCartDiscountedAmount","filteredCart","isCouponValidOnCartItems","newSubtotal","getSubtotalPrice","getTotalTip","customTip","_getSubtotalToPay","discountedAmount","redeemedAmount","getSubtotalToPay","_getTotalTax","subtotalToPay","merchantTaxRate","taxRate","getTotalPrice","tipAmount","taxAmount","defaultTipRatesConfig","GA_OPTIONS","siteSpeedSampleRate","getUserDimension","_id","_email","_phone","getMerchantDimension","getOrderDimension","getMerchandiseDimension","sendEventData","eventData","ReactGA","captureSwitchMerchantEvent","VISITED_MERCHANT_MENU","SWITCHED_MERCHANT","dimension1","dimension2","captureClickEvent","CLICK_ACTION","dimension3","dimension4","categoriesList","overflowX","listStyleType","flexWrap","justifyItems","borderColor","toolbarContainer","toolbarPlaceholder","sortCategoriesByDisplayOrder","displayOrder","MerchandiseCategoriesHeader","categories","setSelectedCategory","selectedCategory","isToolbar","customAppbarClass","customToolbarClass","CategoriesList","activeClass","spy","smooth","duration","offset","onSetActive","clickable","MerchandiseListing","menuItemsAvailable","CardHeader","subheader","groupMerchandiseDataByCategories","groupedData","hasCategoryInMerchandises","defaultCategory","updatedAt","generateEverythingElseCategory","categoryIndex","findIndex","featuredMercs","featured","sortMerchandiseByName","group","isOverInventoryLimit","WebkitBoxOrient","WebkitLineClamp","maxHeight","MerchandiseDescription","styles","RenderLowStockWarning","FlashOn","RenderSoldOut","ErrorOutline","renderPrice","currency","valueString","toLocaleString","navigator","language","maximumFractionDigits","minimumFractionDigits","renderMerchadisePrice","newValue","MerchandisePrice","SvgKosher","opacity","_path3","SvgHalal","SvgVegan","SvgSpicy","_g","_defs","SvgLocallyGrown","clipPath","x","rx","SvgCaffeineFree","_rect","SvgCold","SvgDairyFree","_path4","_path5","_path6","SvgGlutenFree","_circle","SvgHot","cx","cy","r","stroke","strokeWidth","SvgPeanutFree","_path7","SvgShellfishFree","SvgSoyFree","SvgVegetarian","strokeLinejoin","AllergenIngredientsLabelsMap","MerchandiseAllergens","allergens","iconSize","getAllergenIcon","allergen","HalalIcon","VeganIcon","SpicyIcon","KosherIcon","CaffeineFreeIcon","ColdIcon","DairyFreeIcon","GluttenFreeIcon","HotIcon","PeanutFreeIcon","ShellfishFreeIcon","SoyFreeIcon","VegetarianIcon","LocallyGrownIcon","allergensList","Tooltip","Stack","up","MenuItemCard","modifiers","merchantUserName","merchandiseId","merchandisePhoto","defaultTo","head","itemPageLink","isKioskModeEnabled","onAddToCartClick","quantityUsedWithinCart","propEq","willBeOverStockLimit","overallRatings","numberOfReviews","RenderCTA","modifierTemplateId","Add","CardMediaEnhanced","MerchandiseRating","CardActionArea","RouterLink","flexFlow","ingredientTags","MarketingOneLiner","tag","CountBox","maxWidth","grey","CustomDrawer","isOpen","setIsOpen","promotionImage","gridTemplateColumns","gridGap","PromotionDialog","handleClose","PromotionButton","coupons","isPromotionDrawerOpen","setPromotionDrawerOpen","isPromotionDialogOpen","setPromotionDialogOpen","isMobile","useMediaQuery","DialogProps","DialogContent","PromotionIcon","oneliner","minHeight","RenderMerchandises","visible","unmountIfInvisible","RenderFeaturedDeals","featuredDealItems","MerchantMenu","merchandiseData","fetchMerchandises","mercCategories","groupedMerchandises","without","pluck","idx","OutlinedFab","styled","border","ConfirmationAlert","onConfirm","onCancel","cancelLabel","confirmLabel","aria-describedby","DialogContentText","OrderOptions","RESERVATION","boxRootStyle","cardRootStyle","buttonRootStyle","OrderOptionsGroup","useParams","tableQrCodeObject","showOrderTypeAlert","setShowOrderTypeAlert","orderOptions","setOrderOptions","isReservationFeatureEnabled","enabledReservations","isReservationsEnabled","REGULAR","orderOption","handleSwitchOption","transition","FavoriteButton","favorited","setFavorited","favLoading","setFavLoading","showSignup","setShowSignup","isFavoriteCallback","executeFavoritePut","toggleMerchantFavoriteState","newFav","onUpdateSuccess","isFavorite","getStoreFavoriteState","redirectUrl","FavoriteBorderSharp","boxRoot","mask","backgroundImage","RenderWaitTimeSlider","BottomDrawer","listStyle","HourGroup","timing","SpecialTimings","days","values","MerchantStoreHoursForToday","prev","curr","MerchantStoreHours","noTimingsAvailable","MerchantRatingInfo","merchantRating","starOnly","paperClassNames","overallRating","reviewCount","Paper","MerchantInfoDrawer","address","rating","Place","Phone","Description","renderMerchantRewards","pointsPerDollar","borderBottom","divider","alignSelf","RenderMerchantOrderingStatusBanner","isMerchanStoreOpen","RenderOfflineMessage","offlineStatusClasses","openFromMinOffset","storeTimingsLabel","claimed","MerchantInfoHeader","logo","showDetailInfo","setShowInfo","AvatarEnhanced","rewards","avatar","identifier","TableIcon","createOrderService","appContext","paymentIntentId","orderStatus","allowedOrderStatus","merchantConfig","pickupTime","openCheckOrder","isDineinOrderType","isOpenCheckOrder","isUpdatingOpenCheck","orderLineItems","categoryItem","categoryOrder","note","customizationDisplayOrder","modifiersDisplayOrder","customizationSignature","modifiersSignature","remainInventory","pointsRedeemed","getPointsRedeemInfo","getCouponRedemptionInfo","couponId","getOrderAmountSummary","totalAmount","getTotalTax","amount","getOrderData","paymentId","userDisplayName","tableId","enabledEatHere","pickupType","sourceInfo","device","app","formatMinutes","findSpecialDays","merchantSpecialHours","ScheduleOrderDrawer","todayTS","defaultDate","pickupDateTS","pickupMinuteOffset","setMinuteOffset","isOpenOnDay","specialDays","specialDay","isTimeSelectionInvalid","timeValue","pickupStartsAtOffset","pickupEndsAtOffset","isTimeSelectionInvalidForSpecialHours","isValidTimeValue","any","isTimeItemDisabled","invalidCheck","pickupDateOptions","index","dateOptions","numDaysToOrderAhead","getPickupDateOptions","pickupTimeOptions","timeOptions","val","hour","j","over","lensPath","getPickUpTimeOptions","align","my","TextField","InputProps","startAdornment","InputAdornment","DateRange","MenuItem","SelectProps","displayEmpty","pickupFinalDateTime","onSchedule","MerchantAddress","showIcon","kioskOptionsContainer","RenderKioskModeOption","RenderNoScheduleOptions","RenderStandardPickupOptions","isValidPickupTime","Icon","EventAvailable","pickupTimeLabel","pickupTimeString","rootClasses","PickupOptions","ShoppingCartHeader","errorMessage","disableGutters","Grow","BackButton","onBack","goBack","NavigateBefore","borderLeft","TipOptions","subTotal","merchantTipOptions","tipOptions","getMerchantTipRatesConfig","tipOptionDisplay","tipOption","tipPercent","priceDisplay","percentDisplay","currentOption","option","setOption","setCustomTip","isCustomTipSelected","setCustomTipSelected","debouncedHandler","debounce","ToggleButtonGroup","exclusive","newOption","newTip","ToggleButton","selected","inputProps","placeholder","newVal","paddingInlineStart","MerchandiseModifiers","modifierKeys","toDisplayList","MerchandiseNotes","QuantityInput","minQuantity","maxQuantity","onQuantityChange","setCount","increment","newCount","minusDisabled","plusDisabled","Remove","Delete","InputBase","ml","onFocus","oldCount","defaultRedeemPointsInfo","redeemPointsToBeApplied","redeemAmount","ShoppingCartContext","pointsRedeemedInfo","soldoutItems","appliedRedemption","setPointsRedemptionInfo","setApplyRedemption","clearSoldOutItems","shoppingBagError","setShoppingBagError","row1","row2","CartItemCard","readOnly","currentInventory","isItemOutOfStock","RenderItemQtyAndPrice","newQuantity","change","newItem","photo","photos","MerchandiseNote","CartItems","cartItems","cartList","PriceSummary","prefix","parseFloat","toLocaleUpperCase","postfix","LOCALSTORAGE_MARKETPLACE_APP_KEYS","OrderSummaryTemplate","priceBreakdown","OrderSummary","CartSummary","tipVal","getPriceBreakdown","StartOverDialog","timeout","toggleIsOpen","enableStartOver","useIdleTimer","onIdle","isCouponEnabled","feature","isFeatureEnabled","getUserPromotionEntries","ShoppingCartCouponInput","setCouponCode","couponMessage","setMessage","userPromotionEntries","promotionEntry","treatment","COUPON","executeCouponCheck","checkCouponCode","curCoupon","couponRst","clear","enabledCoupons","hiddenLabel","flush","Loyalty","helperText","storeAppContextState","appState","storageData","storedTimestamp","APP_CONTEXT_STATE","removeAppContextStateStorage","CartBagItemCart","cartItemCardRef","bagsCount","setBagsCount","merchantCarryoutBag","setMerchantCarryoutBag","CARRYOUT_BAG_CHOSEN","bagChosen","setBagChosen","carryoutBagInCart","carryoutBag","onChangeBagsQuantity","FormControl","FormLabel","RadioGroup","bagsAddition","FormControlLabel","control","Radio","OrderPickupTypeOptions","clasess","TO_GO","EAT_HERE","nativeHandler","onPaymentMessage","copyHandler","reject","AnnouncementType","ShoppingCartDrawer","setError","showCart","setShowCart","total","sendMessageToNative","checkoutMessageHandler","handlePaymentResponse","paymentResJson","payment_intent_id","cancelled","results","new","RenderFabCTA","areCartItemsOutOfOrder","getBoundingClientRect","CreditCard","CircularProgress","closeDrawer","offlineMerchantImageContainer","offlineMerchantImage","RenderOfflineMerchantDrawer","isDrawerOpen","sessionStorageKey","OFFLINE","announcement","executeAnnouncementGet","showOfflineBanner","OfflineIllustration","ShoppingCartContextProvider","setSoldoutItems","cartItemQuantities","invalidItems","clearThisItemFromCart","formGroup","FormGroupCardWrapper","checkSelectionLimitForCategory","categoryModifiersValues","defaultReturn","getModifierLabel","ModifierTemplate","templateId","mercData","template","modiTemplates","toModifiers","modifier","modifierCategoryIds","numCategoryId","modiCategories","useFormContext","formState","categoryFieldName","modifierIds","modifierId","defaultModifier","isDefault","available","required","rules","render","field","FormHelperText","renderModifierRadioSelect","getValues","watch","formValues","controlName","categoryModifiersIds","pick","hasNoMax","hasNoMin","isMaximumSelectionLimitReached","verifyMinimumModifiersSelection","useCallback","maxSelectionLimitText","minimumText","maximumText","FormGroup","isDisabledAfterMaxSelection","isCheckboxDisabled","validate","Checkbox","defaultChecked","renderModifierMultiSelect","borderWidth","BorderStyle","darken","bottomDrawer","getChipClassName","currentActiveFilter","chipActiveValue","active","ReviewsFilter","currentFilter","setFilter","ReviewDrawerHeader","UserReviewCard","getRatingValue","Rating","precision","comment","MerchandiseReviewsDrawerPage","reviews","filteredreviews","descend","reviewRating","filterNum","ClassifiedType","ClassifiedKey","pointsEarnedContainer","RenderOrderNoteItem","formMethods","orderNoteError","orderNoteHelperText","maxLength","multiline","rows","RenderMerchandiseFab","isAnyRequiredModifiersUnavailable","RenderModifierForm","onSubmit","setQuantity","handleSubmit","enabledNotes","q","updateMerchandisePrice","modifierCost","merchandiseCopy","getUpdatedMerchandiseWithPrice","modifiersList","selectedModifiers","updatedModifiers","entries","mid","updatedMerchandise","CalculatePerItemEarnedPoints","merchantPointsPerDollar","modifierFormValues","handlePointsClick","totalPoints","RenderMerchandise","merchandisePhotos","handleDragStart","onDragStart","getPhotos","useForm","mode","defaultValues","isRedeem1mPointsEnabled","pointsRequiredForRedemption","numOfReviews","md","autoHeight","disableButtonsControls","mouseTracking","mb","pr","MerchandiseDrawerPage","setMerchandiseData","showDrawer","promotions","fetchMerchandise","isReviewPageActive","endsWith","handleBack","queryParam","cartItem","promoContent","PromoContent","ReactHtmlParser","MerchantPromotionsDrawer","promotionEntries","storageKey","PROMO_MERCHANT_DRAWER","localStorageData","visitedDrawers","lastDateStr","lastTime","differenceInMinutes","toISOString","totalCartItems","MerchantPage","tableQueryParam","search","tableQrObject","qrCodes","oType","Table","RenderMerchantFab","VISITED_SHOPPING_CART","Badge","badgeContent","ShoppingCart","qs","ignoreQueryPrefix","sanMateo","PointsRedemptionButton","handleClick","checked","ORDER_1M_POINTS","zeroCurrencyRegExpt","RegExp","RenderPickUpCartContent","handleContinuePaymentClick","test","RenderDineInCartContent","isCheckoutPage","showPayOptionsDrawer","togglePayOptionsDrawer","isDisabled","isOpenCheckCart","enabledOpenCheck","isOpenCheckEnabled","isPaymentDisabledForDineIn","handleOpenCheckOrderCheckout","handleOrderCheckout","ORDER_CHECKOUT_STARTED","PayOptionsDrawer","ShoppingCartPage","isDineInOrderType","hasChanged","userWalletPoints","redeemPoints","couponAmount","redeemedCartItems","pointsPerItem","remainingPrice","toRedeemCouponAmount","remainingPointsToRedeem","toRedeemPoints","calculateAmountForRedeemedItems","CardHighlightChip","gridColumnGap","StyledGreenChip","StyledGreyChip","StyledExpenseChip","CarousellNavigationButton","CarousellWrapper","CarousellItemWrapper","EllipsizedText","MerchantCategoriesList","mt","StyledChip","RenderCardLabels","RenderDot","MerchantItemCard","promotionText","subtitles","getSubtitles","Fragment","random","currentIdx","AppLogo","px","MerchantPromotionsEntries","PromotionsDrawer","PROMOTION_DRAWER","ExclusiveTickIcon","MerchantPromotionChip","MerchantOrderAheadChip","isOrderAheadVisible","AccessTime","borderBottomLeftRadius","borderBottomRightRadius","MerchantCard","storeStatusLabel","overlayClasses","highlightedPromotion","highlightedClassifiedLabel","dropRepeats","classifiedEntries","EnhancedHeroImage","heroPhoto","BannerImg","expenseLevel","labelsList","RenderMerchantRewards","renderLabels","MerchantCardPlaceholder","Skeleton","animation","borderTopLeftRadius","borderTopRightRadius","StoresListDetailed","capToMD","PageTitleMarkup","MerchantListHeader","HomePage","fetchedMerchantList","mr","Order1MPoints","OrderItemCard","OrderItems","RenderOrderReceipt","InfoOutlined","PickupDetails","getMarketPlaceOrderStatusURL","openAlert","setOpenAlert","reason","shareUrl","share","clipboard","writeText","RenderCopyToClipboard","copyAddressToClipboard","FileCopyOutlined","Snackbar","autoHideDuration","CloseButton","Close","OrderLocalImpact","save","OrderReviewCTA","POINTS_TRANSACTION_TYPE","RenderOrderStatus","enqueueTime","GetPickUpDetails","isKioskMode","RenderSignupDrawer","signupEntrace","setShowDrawer","exitPage","OrderStatusPage","activeOrder","setOrder","setMerchant","setSignupEntrance","newOrder","fetch","ORDER_CHECKOUT_COMPLETED","ON_PAGE_LOAD","captureOrderCheckoutCompleteEvent","thrown1","thrown","Home","orderInfo","getOrderType","needReview","enableReviews","AutoRedirectProgress","onCompleteAction","autoRedirectDuration","wideMode","compactMode","KioskOrderStatusWideMode","Check","HeartIllustration","KioskOrderStatusCompactMode","KioskModeStatusContent","KioskOrderStatusPage","checkCartItemsAvailability","getItemsQuantityAlreadyBought","isAnyCartItemsNotAvailable","merch","itemCount","cartUsedModifiersList","flatten","uniq","isAnyModifierItemUnavailable","lineItem","sum","CreditCardLogo","brand","decoding","useStylesForCreditCardListItem","CreditCardListItem","withCheckBox","containerClassNames","selectable","toLowerCase","last4","exp_month","exp_year","checkedIcon","CreditCardList","paymentMethods","selectedPaymentMethodId","onClickItem","handleClickCard","creditCardsEl","getStripeLoadingStatus","getStripeUpdatingStatus","getUserPaymentMethods","getUserPaymentMethod","options","base","fontSmoothing","invalid","iconColor","AddPaymentFormDrawer","hidePhoneNumber","onPaymentMethodCreated","elements","useElements","useStripe","setName","setPhoneNumber","getElement","CardElement","createdPaymentMethod","trim","CreditCardPaymentForm","amountInCents","createOrder","processing","setProcessing","checkPrerequisite","userPaymentMethods","paymentMethodLoading","paymentMethodId","setPaymentMethodId","addCardShown","setShowAddCard","handleSubmitPay","ev","attemptToPay","customerId","customer","paymentIntent","msg","StripePaymentForm","cachedPhone","onSuccessSubmit","NoPaymentForm","createOrderWithoutPaymentIntent","register","inputRef","registerTextField","shouldValidate","shouldTouch","CheckoutPage","isStripePaymentAcceptable","isPaymentDisabled","stripeTestAccountId","stripeAccountId","stripePromise","loadStripe","onSuccessPayment","stripeTitle","LogoutPage","UserProfileSettings","activeRow","setActiveRow","getUserData","localUser","profileValues","setProfileValues","inputRefs","inputLabels","handleChange","handleEdit","focus","handleDone","blur","RenderAdornment","edge","Done","Edit","generateRow","inputId","InputLabel","htmlFor","OutlinedInput","onBlur","endAdornment","UserFoodPreferences","getFoodPrefData","vegan","foodPreference","vegetarian","lactoseFree","glutenFree","kosher","islam","hindu","foodPrefsChecked","setFoodPrefsChecked","toggleLabels","handleToggle","currentValue","newChecked","UserApplicationPreferences","getApplicationPrefData","notificationSound","applicationPreferences","preferences","setPreferences","updatedPrefs","headerCustomStyle","RewardsContentStyled","objectPosition","ImageUploadButton","multiple","handleFiles","addCBParams","files","currentTarget","accept","profilePhoto","profilePhotoNoHero","ImageUploadAvatar","logoSrc","heroSrc","onPhotoSelect","showHeroCover","onAddPhoto","photoType","avatarContainerClasses","overlap","anchorOrigin","vertical","horizontal","AddAPhoto","navWrapper","UserSettingsPage","userPicture","executeGetUploadUrl","isEmbedApp","f0","uploadUrl","uploadFileResponse","UserFoodPreference","boxSadow","verticalAlign","cover","OneMarketPointsCard","rel","Help","transactionProgressbar","pointsBar","default","getTransactionFlow","UserHistoricalEarningAndRedemptions","userTransactionsList","OneMarketPointsBar","currentBalance","calculateLifetimeEarnedPoints","rewardsList","totalEarnedPoints","currentPointIndex","after","getPointsRewardsList","maxRewardPoints","last","minRewardPoints","OneMarketPointsPage","fetchTransactionHistory","_userTransactionsList","reverse","sortBy","FavoritesPage","favorites","setData","LoginPage","NotificationPage","bodyText","setBodyText","alertType","setAlertType","userRef","orderUpdateAudio","setAudio","topic","io","reconnectionDelayMax","query","on","updatedMerchant","MERCHANT_STATUS_UPDATED","reload","socket","newOrderData","link","ORDER_PREPARING","ORDER_READY","off","ORDER_UDPATED","ORDER_REFUNDED","transitionDuration","FloatingSectionsHeader","sections","CheckIcon","getChipClass","orderSummary","totalItems","OrdersPage","orderLoading","setOrderLoading","merchantLookup","lookup","orders","filerAndSortOrders","searchFn","filtered","pastOrderTypes","CONFIRMED","section","canAddReviewToTheOrder","reviewedMerchandiseIds","carryoutBagId","hasNoLineItemWithReview","onOrderClick","ListItemSecondaryAction","ReviewsOutlined","dialogCard","DialogCard","LearnMoreDialog","subHeading","isMultiColumn","cardsHeading","illustration","cardsList","isTabletModeOnly","between","ShoppingIcon","ReviewIcon","LootBoxIcon","fillOpacity","JoinPromotionIcon","RewardsInfoContent","BannerImage","KnowYourRewardsImage","RedeemPointsImage","RewardsEducationInfo","openOnDrawer","HelpOneMarketPointsPage","PlaceOpenCheckOrderPage","onSuccessCreate","createOrderWithOpenCheck","OpenCheckOrderStatusPage","ReviewType","showAlert","setShowAlert","setMerchantConfig","orderResponse","orderData","merchantResponse","merchantData","merchandisesResponse","isOrderVoidedOrMarkAsPaid","totalQuantity","dineInPaymentDisabled","SharingHappinessImage","AddShoppingCart","VisitHistoryPage","visitedMerchantsIn24Hrs","setVisitedMerchantsIn24Hrs","visitedMerchants","setVisitedMerchants","visitedKeys","nowTime","dayMs","merchantList","merchantA","merchantB","getLastVisited","merchantALastVisited","merchantBLastVisited","lastVisitedAt","sectionsList","getReviewLoadingStatus","getReviewUpdatingStatus","isEarnRewardsDrawerShown","getReviewsByOrder","getMerchantLoadingState","getFilteredMerchants","getShowRewardsEducationDrawer","ReviewFAB","onNext","disableNext","lastItem","ReviewPage","useRouteMatch","reviewedLineItemIds","renderLineItemOptions","StarReview","onChangeRating","getColor","starValue","handleClickRate","RatingField","fieldName","drawerContent","ReviewMerchandisePage","earnRewardsDrawerShown","lastItemToReview","taste","portion","overall","setRating","setComment","setErrorMessage","handleChangeRating","ratingField","handleClickConfirm","commentWordsCount","CommentWordCount","remainderWordCount","diff","newReview","reviewType","ReviewEarnRewards","NativeAuthHandler","authResponseJson","setAuthResponse","authResponseRef","ADD_MERCHANDISE","REMOVE_MERCHANDISE","CLEAR_CART","UPDATE_TIP_SELECTION","UPDATE_COUPON","REDEEM_MERCHANDISE","CANCEL_REDEMPTION","UPDATE_MERCHANDISE","UPDATE_PICKUPTIME","UPDATE_ORDER_TYPE","UPDATE_CART_TYPE","updatedCart","charCodeAt","simpleStringHash","updatedItemIndex","_item","updatedItem","newState","updateCartType","storedState","currState","storageDataStr","appStateCopy","getStoredAppContextState","selectedMerch","mercReducer","reinstallAppState","updateTipSelection","redeemedItem","redeemMerchandise","newCoupon","updateCoupon","selectedMerchandise","updateMerchandise","updatePickupTime","updateOrderType","AppContextProvider","useReducer","cartState","setFeatureFlags","previousMerchantName","currentMerchantName","switchMerchantAlert","itemToBeAddedRef","isFetchingMerchandises","fetchData","debounceHandler","closeMerchantSwitchAlert","_orderType","MUIThemeProvider","createMuiTheme","disabledBackground","shape","components","MuiPaper","styleOverrides","MuiFab","variants","typography","VisitedMerchantContextProvider","setVisitedMerchantList","setMerchantOrdering","doAsync","localforage","ready","updatedVisitedMerchants","require","OneMarketPointsAlternateIcon","OneMarketPointsAlternateSrc","TreasureIcon","TreasureSrc","LootboxWithShineIcon","LootboxWithShineSrc","FeaturedItemCard","earnedReward","LootboxFeaturedItems","SectionHeader","subtitle","CountComponent","RewardsTag","RewardsLabel","LootboxCounter","suffix","CustomLinearProgress","linearProgressClasses","colorPrimary","bar","ProgressIndicator","CardTitle","mission","MissionCard","LootboxMissions","AssignmentOutlined","fs14","fs12","fs10","cardHeader","metric","metric0","voteButton","float","voteButtonCaption","LootBoxVoteCard","votable","onVote","handleClickVote","HowToVote","LootboxVotes","countTable","onClickSeeVotes","handleVote","LootboxTheme","LootboxThemeContextProvider","ThemeProvider","getStoreVoteCount","getVotesRemaining","RenderMainComponent","storesToVote","voteStoreCount","totalVotes","LootboxTitle","LootboxPage","AllVotesDrawer","LootboxVotedCustomDialog","LootboxVotedDialog","votesRemaining","storeVoteCount","Cancel","CheckCircle","drawerShown","setDrawerShown","voteDone","setVoteDone","votedStore","setVotedStore","votedStores","MapStyleArray","CustomClusterRenderer","stats","google","maps","Marker","MapMarker","labelOrigin","Point","scaledSize","Size","MAX_ZINDEX","EmbededMap","loader","Loader","apiKey","storeLocations","setMap","markers","setMarkers","markerclusterer","setMarkerClusterer","load","initMap","markerList","updateMarkers","getPosition","setCenter","MarkerClusterer","renderer","center","LatLng","lat","lng","zoom","mapTypeControl","zoomControl","streetViewControl","minZoom","disableDoubleClickZoom","gestureHandling","restriction","latLngBounds","north","south","east","west","marker","clearMarkers","MapMarkerStore","addListener","StyledTextField","StoreSearchBox","onChangeQuery","Root","StyledBox","StyledDrawer","StoreSearchDrawer","stores","filteredStoresList","CssBaseline","hideBackdrop","pb","MapSearchPageHeader","MapSearchPage","setStoreLocations","isFetchingMerchants","structuredAddress","OpenNowIcon","AmericanIcon","ChineseIcon","TacoIcon","OutlineHotpotIcon","JapaneseFoodIcon","FishIcon","PizzaIcon","SteakIcon","BowlIcon","RiceBowlIcon","CocktailIcon","BurgerIcon","BurritoIcon","CoffeeCupIcon","CoffeeBeanIcon","CakeIcon","FusionIcon","LaddooIcon","NoodlesIcon","ChickenWingsIcon","HotpotIcon","PastaIcon","RamenIcon","SaladIcon","SoupIcon","BeverageIcon","BrazilianIcon","BreakfastIcon","ItalianIcon","JuiceIcon","KimchiIcon","GuacamoleIcon","VietnameseFoodIcon","SandwichIcon","SushiIcon","EcoFriendlyIcon","OneMarketVerticalLogo","PIXEL_EVENTS_TYPE","gridRowGap","borderTop","borderRight","letterSpacing","UrlsList","AppFooter","Navbar","autoConfig","isPixelEnabled","trackRPEvent","_data","pickAll","RP","trackCustom","MERCHANTS_CATEGORIES_LIST","MerchantDiscoveryPage","MARKETPLACE_DISCOVERY_SEARCH_STATE","searchState","setSearchState","showOnlineOnlyMerchants","setShowOnlineOnlyMerchants","isTabletView","merchantsList","executeCall","visitedSanMateoMPDiscovery","zipcode","filteredMerchantsList","s","isCategorySelected","selectedIcon","openNowChip","Select","labelId","useCardStyles","ClassifiedShowAllCard","onCardClick","seeAllStyles","ArrowDownFilledIcon","ClassifiedMerchantCard","entry","getCardSubtitles","take","cardBackgroundSrc","PlaceholderImage","getCardBackgroundSrc","chipText","isBigSavingsClassified","getBigSavingsValue","EnhancedBackgroundImage","ClassifiedPromotionCard","HotItemsIcon","x1","y1","x2","y2","gradientUnits","stopColor","ClassifiedMerchandiseCard","isArray","promotionCoupon","classifiedOneLiner","isClassifiedForMerchant","isClassifiedForMerchandise","details","bigSavings","isPercentageType","getPromotionsList","itemsList","getPromotionsElementsList","includeWrapper","promotionsList","promotionCardElements","thisPromotionCardsList","classifiedDrawer","ClassfiedDrawer","classified","scrollTimeoutRef","isHotDealClassified","hotDeal","promotionElementsList","onScroll","forceCheck","ClassifiedCarousel","sortedClassifiedList","setSortedClassifiedList","sortOrder","setSortOrder","newSortOrder","listLength","generateSortOrder","sortedList","unsortedList","sortKey","sortClassifiedEntriesBySortOrder","cardsLimit","classifiedsList","partialList","cards","autoWidth","disableDotsControls","renderPrevButton","ChevronLeft","renderNextButton","ClassifiedDrawer","CouponIcon","LocationIcon","NoFeesBubble","y","patternContentUnits","xlinkHref","NoFeesIcon","TelescopeIcon","MapColoredIcon","ExclusiveDealsIcon","RewardsIcon","BannerIllustration","backgroundSize","backgroundRepeat","backgroundPosition","headerCard","HeaderCard","subheading","isDialogOpen","setDialogOpen","ArrowRightAlt","DiscoveryPageHeader","isMobileView","BannerMobile","DeserveRewardsDialog","CommisssionIcon","NoMarkupDialog","exploreButton","boxSizing","offerCard","menuToggleButtonContainer","OfferCard","illustrationsSrc","SanMateoDiscoveryPage","isTabletMode","offersList","RewardsOfferMobileImg","RewardsOfferImg","OrangeBubblesIllustrations","NoMarkupOfferImg","GreenBubblesIllustration","visitedSanMateoMP","autoPlayInterval","infinite","responsive","0","800","autoPlay","hotItem","localGem","UserPaymentMethods","pStripe","formShown","setFormShown","RewardsEducationDrawer","App","LootboxVotesPage","createHashHistory","ReactDOM","createBrowserHistory","initialize","gaOptions","pageView","pageview","initializeReactGA","GoogleTagsManager","gtmId","init"],"mappings":"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e,MACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,WACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,gBACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,kBACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,SACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,cACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,mBACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,qBACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,4BACf,YAAe,cACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,iBACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,eACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,SAIpB,CACE,YAAe,uBACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,aACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,gBAIpB,CACE,YAAe,OACf,YAAe,MACf,QAAW,CACT,CACE,YAAe,KAEjB,CACE,UAAa,IAEf,CACE,WAAc,QAIpB,CACE,YAAe,eACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,gBAIpB,CACE,YAAe,eACf,YAAe,gBACf,QAAW,CACT,CACE,MAAS,aAIf,CACE,YAAe,gBACf,YAAe,cACf,QAAW,CACT,CACE,WAAc,SAIpB,CACE,YAAe,UACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,SAIpB,CACE,YAAe,kBACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,gBAIpB,CACE,YAAe,0BACf,YAAe,MACf,QAAW,CACT,CACE,WAAc,QAIpB,CACE,YAAe,QACf,YAAe,MACf,QAAW,CACT,CACE,MAAS,WAEX,CACE,WAAc,SAMhBC,GAAwB,CAC5BjxB,OAAQ,WAAwCkxB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AER,CACErd,MAAO,YACPia,MAAO,YACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,SACPia,MAAO,SACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,OACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,SACPia,MAAO,SACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,WACPia,MAAO,WACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,SACPia,MAAO,SACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,SACPia,MAAO,SACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,WACPia,MAAO,WACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,QACPia,MAAO,QACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,SACPia,MAAO,SACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,QACPia,MAAO,QACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,QACPia,MAAO,QACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,QACPia,MAAO,QACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,QACPia,MAAO,QACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,WACPia,MAAO,WACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,OACPia,MAAO,OACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,UACPia,MAAO,UACPoD,KAAM,cAAC,GAAD,KAER,CACErd,MAAO,QACPia,MAAO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","file":"static/js/main.80b511ed.chunk.js","sourcesContent":["export enum AppType {\n  MERCHANT = \"Merchant\",\n  MARKETPLACE = \"Marketplace\",\n  ZEROANDAPP = \"zero_and_app\",\n  INTERNAL = 'INTERNAL',\n  All = \"All\",\n  UNKNOWN = 'Unknown',\n}\n\nexport const getAppType = (url: string): AppType => {\n  if (url.includes('manage.1m.app')) {\n    return AppType.MERCHANT\n  } else if (url.includes('1m.app')) {\n    return AppType.MARKETPLACE\n  }\n\n  return AppType.UNKNOWN\n}","export enum ClientType {\n  iOS = \"iOS\",\n  iPadOS = \"iPadOS\",\n  Android = \"Android\",\n  Windows = \"Windows\",\n  MacOS = \"MacOS\",\n  Linux = \"Linux\",\n  Web = \"Web\",\n  Unknown = \"Unknown\",\n  All = \"All\",\n}\n\nexport const getClientType = (): ClientType => {\n  return ClientType.Web\n}","export enum SocketEvent {\n  CONNECTION = 'connection',\n  NEW_ORDER = 'new_order',\n  ORDER_PREPARING = 'order_preparing',\n  ORDER_READY = 'order_ready',\n  ORDER_REFUNDED = 'order_refunded',\n  MERCHANDISE_UPDATED = 'merchandise_updated',\n  FUTURE_ORDER_PREP_REMINDER = 'future_order_prep_reminder',\n  ORDER_UDPATED = 'order_updated',\n  MERCHANT_STATUS_UPDATED = 'merchant_status_updated',\n  CALLBOARD_UPDATED = 'callboard_updated'\n}\n\nexport interface Message {\n  event: SocketEvent\n  merchantId?: string,\n  operatorId?: string,\n  orderId?: string,\n  payload: { [key: string]: any; };\n}","/**\n * Different device / scenariios the app will live in\n */\nexport enum DeviceType {\n  Regular = \"regular\",      // running in a web environment\n  Kiosk = \"kiosk\",          // embed web app in an ipad app for kiosk\n  KDS = \"kds\",\n  Handheld = \"handheld\",\n  AppEmbed = \"app_embed\",   // embed web app into a native shell for mobile phones\n  WebviewEmbed = \"webview_embed\",   // embed app web view into a native shell for mobile phones\n  OneMApp = \"one_m_app\",    // one market native app\n  ZeroAndApp = 'zero_and_app', // native app deved by zeroand eng team\n  Unknown = \"Unknown\",\n}\n\nexport const getDeviceType = (): DeviceType => {\n  return DeviceType.Regular\n}\n\nexport const getDeviceLabel = (type: DeviceType): string => {\n  switch (type) {\n    case DeviceType.Regular:\n      return 'Mobile';\n    case DeviceType.Kiosk:\n      return 'Kiosk';\n    case DeviceType.ZeroAndApp:\n      return 'Zero& App';\n    case DeviceType.AppEmbed:\n    case DeviceType.WebviewEmbed:\n      return '1m App';\n    default:\n      return 'Unknown';\n  }\n}","import React, { useState, useEffect, useRef } from 'react';\n\ntype WINDOW_STORAGE_TYPES = 'localStorage' | 'sessionStorage'\n\n// Hook\nexport function useWindowStorage<T>(\n  key: string,\n  initialValue: T,\n  storageType: WINDOW_STORAGE_TYPES = 'localStorage'\n): [T, (value: T | ((val: T) => T)) => void] {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      // Get from local storage by key\n      const item = window[storageType].getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window[storageType].setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\n// Hook to execute a Async function with specific Interval\nexport const useFetchApiOnInterval = (fetcherFinction: any, interval: number, exponentialBackoff?: boolean) => {\n  let timer: NodeJS.Timeout;\n  let newInterval: number = interval;\n  const executeFunc = () => {\n    fetcherFinction().then((res: any) => {\n      if (res.status === 200) {\n        timer = setTimeout(executeFunc, newInterval)\n        newInterval = (exponentialBackoff === true) ? newInterval * 2 : newInterval;\n      } else {\n        clearTimeout(timer)\n      }\n    }).catch((err: any) => {\n      console.error(err);\n      clearTimeout(timer)\n    })\n  }\n\n  useEffect(() => {\n    timer = setTimeout(executeFunc, newInterval)\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [])\n}\n\n// Hook to execute a Async function with specific Interval\nexport const useFunctionOnInterval = (func: any, interval: number, immediate?: boolean, exponentialBackoff?: boolean): React.MutableRefObject<NodeJS.Timeout | undefined> => {\n  const timerRef = useRef<NodeJS.Timeout>();\n  let newInterval: number = interval;\n  const executeFunc = () => {\n    try {\n      func();\n      newInterval = (exponentialBackoff === true) ? newInterval * 2 : newInterval;\n      timerRef.current = setTimeout(executeFunc, newInterval)\n    } catch (err) {\n      if (timerRef.current) clearTimeout(timerRef.current)\n    }\n  }\n\n  useEffect(() => {\n    if (immediate === true) {\n      try {\n        func();\n      } catch (err) {\n        if (timerRef.current) clearTimeout(timerRef.current)\n      }\n    }\n\n    timerRef.current = setTimeout(executeFunc, newInterval)\n    return () => {\n      if (timerRef.current) clearTimeout(timerRef.current)\n    }\n  }, [func])\n\n  return timerRef;\n}\n\n/**\n * Use setInterval with Hooks in a declarative way.\n *\n * @see https://stackoverflow.com/a/59274004/3723993\n * @see https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n */\nexport function useInterval(\n  callback: React.EffectCallback,\n  delay: number | null,\n): React.MutableRefObject<number | null> {\n  const intervalRef = useRef<number | null>(null);\n  const callbackRef = useRef(callback);\n\n  // Remember the latest callback:\n  //\n  // Without this, if you change the callback, when setInterval ticks again, it\n  // will still call your old callback.\n  //\n  // If you add `callback` to useEffect's deps, it will work fine but the\n  // interval will be reset.\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  // Set up the interval:\n\n  useEffect(() => {\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(() => callbackRef.current(), delay);\n\n      // Clear interval if the components is unmounted or the delay changes:\n      return () => window.clearInterval(intervalRef.current || 0);\n    }\n  }, [delay]);\n\n  // In case you want to manually clear the interval from the consuming component...:\n  return intervalRef;\n}","import React from \"react\";\nimport { AppBar, createStyles, makeStyles, Slide, Theme, Toolbar, Typography, useScrollTrigger } from \"@material-ui/core\";\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n  children: React.ReactElement;\n  hideOnScroll?: boolean;\n}\n\nfunction HideOnScroll(props: Props) {\n  const { children, window, hideOnScroll } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = (hideOnScroll === false)\n  ? false\n  : useScrollTrigger({\n    target: window ? window() : undefined,\n  });\n\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .toolbar': {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: 0,\n        '& .left': {\n          display: \"flex\",\n          flexShrink: 1,\n          justifyContent: \"flex-start\",\n        },\n        '& .title': {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        },\n        '& .leftTitle': {\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n          alignItems: \"center\",\n          paddingLeft: theme.spacing(2),\n        },\n        '& .right': {\n          display: \"flex\",\n          flexShrink: 0,\n          justifyContent: \"flex-end\",\n        },\n      }\n    }\n  }),\n);\n\nconst PageHeader = (props: {\n  title: string,\n  leftChild?: React.ReactNode,\n  rightChild?: React.ReactNode,\n  hideOnScroll?: boolean,\n  elevation?: number,\n}): React.ReactElement => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <HideOnScroll {...props}>\n        <AppBar color={'inherit'} elevation={props.elevation || 0}>\n          <Toolbar className=\"toolbar\">\n            <div className=\"left\">\n              {props.leftChild || ''}\n            </div>\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }} className={props.leftChild ? \"title\" : \"leftTitle\"}>\n              {props.title}\n            </Typography>\n            <div className=\"right\">\n              {props.rightChild || ''}\n            </div>\n          </Toolbar>\n        </AppBar>\n      </HideOnScroll>\n      <Toolbar />\n    </div>\n  );\n}\n\nexport default PageHeader;","import { MerchantPromotion } from \"./MerchantPromotionType\";\nimport { Merchant } from \"./MerchantType\";\n\nexport enum CouponValueType {\n  ABSOLUTE = 'absolute',\n  PERCENTAGE = 'percentage',\n}\n\nexport enum ItemType {\n  CATEGORY = 'category',\n  MERCHANDISE = 'merchandise',\n}\n\nexport interface AffectedItem {\n  type: ItemType,\n  id: number | string;\n}\n\nexport interface MerchantCoupon {\n  id: number;\n  merchant: Merchant;\n  code: string;\n  valueType: CouponValueType;\n  value: number;\n  limit: number;\n  usedCount: number;\n  startDate: Date;\n  endDate: Date;\n  live: boolean;\n  createdAt: Date;\n  updtedAt: Date;\n  version: number;\n  promotion?: MerchantPromotion;\n  affectedItems?: AffectedItem[];\n\n}\n","export * from '../bos_common/src/types/OrderTypes'\nexport * from '../bos_common/src/types/UserTypes'\nexport * from '../bos_common/src/types/MerchandiseType'\nexport * from '../bos_common/src/types/MerchantType'\nexport * from '../bos_common/src/types/FavoriteType'\nexport * from '../bos_common/src/types/FeatureFlagTypes'\nexport * from '../bos_common/src/types/MerchantCouponType'\n","import { StructuredAddress } from \"./AddressType\";\nimport { Base } from \"./Base\";\nimport { ClassifiedEntry } from \"./ClassifiedType\";\nimport { MerchantDevice } from \"./MerchantDeviceType\";\nimport { MerchantOrderingConfig } from \"./MerchantOrderingConfigType\";\nimport { MerchantPromotion } from \"./MerchantPromotionType\";\nimport { MerchantStripe } from \"./MerchantStripeType\";\nimport { Review } from \"./ReviewType\";\n\nexport interface SpecialHours {\n  // minutes offset from begin of the day, e.g. 480 => 9am\n  fromMinOffset: number;\n  // e.g. minutes offset from begin of the day\n  toMinOffset: number;\n  // Monday, Tuesday, ... Sunday\n  dayOfWeek: string;\n  // mm-dd\n  specificDate: string;\n}\n\nexport interface OperationHours {\n  // \"default from minutes offset\" from begin of the day, e.g. 540 => 9am\n  defaultFromMinOffset: number;\n  // minutes offset from begin of the day, e.g. 1500 => 1am next day\n  defaultToMinOffset: number;\n  customizations: SpecialHours[];\n}\n\nexport enum QRCodeType {\n  Social = 'social',\n  Table = 'table',\n}\n\nexport interface MerchantQRCode {\n  id: number;\n  type: QRCodeType;\n  identifier: string;\n  slogan?: string;\n  createdAt: Date;\n  updatedAt: Date;\n  version: number;\n}\n\nexport enum MerchantInheritanceType {\n  MENU = 'menu',\n  COUPON = 'coupon',\n}\n\nexport interface ParentMerchant {\n  id: string;\n  inheritance: MerchantInheritanceType[];\n}\nexport enum MerchantTag {\n  Hot = 'Hot',\n  Deal = 'Deal',\n  LocalChoice = \"Local Choice\"\n}\nexport interface MerchantOneLiner {\n  description: string;\n  tag: MerchantTag,\n  displayOrder: number\n}\n\nexport interface MerchantRating {\n  reviewCount: number;\n  overallRating: number; // average\n  ratingSum: number;\n}\nexport interface Merchant extends Base {\n  username: string;\n  id: string;\n  parentMerchant?: ParentMerchant;\n  email: string;\n  officialName: string;\n  category: string;\n  phoneNumber?: string;\n  logo?: string;\n  heroPhoto?: string;\n  address?: string;\n  structuredAddress?: StructuredAddress;\n  timeZone?: string;\n  instagramLink?: string;\n  ownerId?: string;\n  description?: string;\n  production: boolean;\n  online: boolean;\n  kioskOrdering: boolean;\n  hours: OperationHours;\n  stripe?: MerchantStripe;\n  orderingConfig?: MerchantOrderingConfig;\n  device?: MerchantDevice;\n  qrCodes?: MerchantQRCode[];\n  expenseLevel: number;\n  promotions?: MerchantPromotion[];\n  classifieds?: ClassifiedEntry[];\n  oneliners: MerchantOneLiner[];\n  rating: MerchantRating;\n  reviews: Review[];\n  thirdPartyReviewCount: number;\n  thirdPartyRating: number;\n  ranking: number;\n  claimed: boolean;\n}","import { configure } from 'axios-hooks';\nimport Axios from 'axios';\nimport LRU from 'lru-cache';\n\nlet backendBaseURL = 'http://localhost:7777';\nif (process.env.NODE_ENV === 'production') {\n  if (process.env.REACT_APP_IS_STAGING === '1') {\n    backendBaseURL = 'https://staging.api.1m.app';\n  } else {\n    backendBaseURL = 'https://api.1m.app';\n  }\n}\nconst apiBaseURL = backendBaseURL + '/api'\n\nconst axios = Axios.create({\n  baseURL: apiBaseURL,\n});\n\nconst cache = new LRU({ max: 10, maxAge: 120 * 1000 });\nconfigure({ axios, cache });\n\nexport default axios;\nexport const backendURL = backendBaseURL\nexport const backendAPIURL = apiBaseURL\n","import React from \"react\";\n\nconst PrivacyPolicyPage = () => {\n  window.location.assign(\"https://1m-help-docs.s3.us-west-1.amazonaws.com/privacy-policy.html\")\n  return null\n}\n\nexport default PrivacyPolicyPage","import React from \"react\";\n\nconst TermsOfServicePage = () => {\n  window.location.assign(\"https://1m-help-docs.s3.us-west-1.amazonaws.com/terms-of-use.html\")\n  return null\n}\n\nexport default TermsOfServicePage","import React from \"react\";\nimport { Paper, PaperProps, useTheme } from \"@material-ui/core\";\n\nexport const ColoredPaper = (props: PaperProps): React.ReactElement => {\n  const theme = useTheme()\n\n  const style = {\n    backgroundColor: theme.palette.background.paper,\n    flex: '1 1 auto',\n  }\n\n  return (\n    <Paper style={style} square={true} {...props}>\n      {props.children}\n    </Paper>\n  )\n}\n\nexport const FullscreenPaper = (props: PaperProps): React.ReactElement => {\n  const style = {\n    display: 'flex',\n    flex: '1 1 auto',\n    flexDirection: 'column' as const,\n    borderRadius: 0,\n  }\n\n  return (\n    <Paper style={style} square={true} {...props}>\n      {props.children}\n    </Paper>\n  )\n}\n\nexport const WhitePaper = (props: PaperProps): React.ReactElement => {\n  const style = {\n    backgroundColor: '#fff',\n  }\n  return (\n    <Paper style={style} {...props}>\n      {props.children}\n    </Paper>\n  )\n}\n\nexport const AvatarPaper = (props: PaperProps): React.ReactElement => {\n  const theme = useTheme()\n  const style = {\n    borderRadius: '50%',\n    padding: theme.spacing(.5)\n  }\n  const finalProps = { elevation: 3, ...props } as PaperProps\n\n  return (\n    <Paper style={style} {...finalProps}>\n      {props.children}\n    </Paper>\n  )\n}","import { Base } from \"./Base\";\nimport { MerchantPromotion, Treatment } from \"./MerchantPromotionType\";\nimport { Merchant } from \"./MerchantType\";\nimport UserMerchantVote from \"./UserMerchantVote\";\nimport { UserPurchaseProfile } from \"./UserPurchaseProfileType\";\nimport { UserStripe } from \"./UserStripeType\";\n\nexport interface Auth0User {\n  sub?: string;\n  name?: string;\n  email?: string;\n  picture?: string;\n  nickname?: string;\n  phone_number?: string;\n}\n\nexport interface Wallet {\n  userId: string;\n  points: number;\n}\n\nexport interface FoodPreference {\n  vegan: boolean;\n  vegetarian: boolean;\n  lactoseFree: boolean;\n  glutenFree: boolean;\n  kosher: boolean;\n  islam: boolean;\n  hindu: boolean;\n}\n\nexport interface ApplicationPreferences {\n  notificationSound: boolean;\n}\n\n\nexport enum IdentityRole {\n  User = \"User\",\n  MerchantStaff = \"MerchantStaff\",\n  MerchantAdmin = \"MerchantAdmin\",\n  OneMOperator = 'OneMOperator',\n  OneMOperatorAdmin = 'OneMOperatorAdmin',\n}\n\nexport interface User extends Base {\n  id: string;\n  displayName?: string;\n  picture?: string;\n  email?: string;\n  phoneNumber: string;\n  address?: string;\n  auth0Token?: string;\n  wallet?: Wallet;\n  foodPreference?: FoodPreference;\n  applicationPreferences?: ApplicationPreferences;\n  role: IdentityRole;\n  stripe: UserStripe;\n  votedStores: UserMerchantVote[] | null;\n  purchaseProfiles: UserPurchaseProfile[] | null;\n}\n\nexport interface UserPromotionEntry {\n  merchant: Merchant;\n  treatment: Treatment;\n  promotion: MerchantPromotion;\n  startDate: Date;\n  endDate: Date;\n}","import React, { ComponentType } from 'react'\nimport assert from 'assert';\nimport { format, differenceInMilliseconds } from 'date-fns';\nimport { utcToZonedTime } from 'date-fns-tz';\nimport backendAxios from \"./services/backendAxios\";\nimport FileResizer from 'react-image-file-resizer';\n\n// https://gist.github.com/gordonbrander/2230317\nconst ID = () => Math.random().toString(36).substr(2, 9);\n\nexport const merchantID = () => `b_${ID()}`;\n\nexport const merchandiseID = () => `m_${ID()}`;\n\nexport const userID = () => `u_${ID()}`;\n\nexport const photoID = () => `p_${ID()}`;\n\nexport const orderID = () => `o_${ID()}`;\n\nexport const randomID = () => `ran_${ID()}`;\n\nexport const dateString = (d: Date) => {\n  const mm = d.getMonth() + 1; // getMonth() is zero-based\n  const dd = d.getDate();\n\n  return [d.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('');\n};\n\nexport const formatDate = (date: Date | undefined, dateFormat = 'd/MM/yy') => date ? format(new Date(date), dateFormat) : \"\";\n\nexport const getUTCDate = (date: Date): Date => {\n  const d = new Date(date);\n  return new Date(Date.UTC(\n    d.getUTCFullYear(),\n    d.getUTCMonth(),\n    d.getUTCDate(),\n    d.getUTCHours(),\n    d.getUTCMinutes(),\n    d.getUTCSeconds()\n  ));\n};\n\nexport const lapsedTime = function (timeStampDiff: number): string {\n  const secondsDiff = timeStampDiff / 1000;\n  const seconds = Math.floor(secondsDiff % 60)\n  const minuteDiff = Math.floor(secondsDiff / 60)\n  const minutes = Math.floor(minuteDiff % 60)\n  const hourDiff = Math.floor(minuteDiff / 60)\n  const hours = hourDiff % 24\n  const dayDiff = Math.floor(hourDiff / 24);\n  const days = dayDiff\n\n  if (days > 0) {\n    return `${days} days ago`\n  } else if (hours > 0) {\n    return `${hours} hours ago`\n  } else if (minutes > 0) {\n    return `${minutes} minutes ago`\n  } else if (seconds > 0) {\n    return `${seconds} seconds ago`\n  } else {\n    return \"just now\"\n  }\n}\n\nexport const displayTime = (t: Date, long?: boolean, timeZone?: string): string => {\n  const utcDate = getUTCDate(t);\n  const now = getUTCDate(new Date());\n  const timeStampDiff = Math.abs(differenceInMilliseconds(now, utcDate));\n  const sixHourDiff = Math.floor(timeStampDiff / (6 * 60 * 60 * 1000));\n\n  let finalDate = utcDate;\n  if (timeZone) {\n    finalDate = utcToZonedTime(utcDate, timeZone);\n  }\n\n  if (sixHourDiff > 0) {\n    if (long) {\n      return format(finalDate, 'EEE, MMM d, p');\n    } else {\n      return format(finalDate, 'MMM d, p');\n    }\n  }\n  return format(finalDate, 'p');\n};\n\nexport const displayDateTime = (t: Date): string => {\n  const utcDate = getUTCDate(t);\n  return format(utcDate, 'MMM d, p');\n}\n\nexport const displayHourMinutes = (t: Date): string => {\n  const utcDate = getUTCDate(t);\n  return format(utcDate, 'p');\n}\n\nexport const displayDate = (t: Date): string => {\n  const utcDate = getUTCDate(t);\n  const now = getUTCDate(new Date());\n  const timeStampDiff = Math.abs(differenceInMilliseconds(now, utcDate));\n  const daysDiff = Math.floor(timeStampDiff / (24 * 60 * 60 * 1000));\n\n  if (daysDiff > 365) {\n    return format(utcDate, 'PP');\n  } else if (daysDiff > 2) {\n    return `${format(utcDate, 'MMM dd')} at ${format(utcDate, 'HH:mm')}`;\n  }\n  return lapsedTime(timeStampDiff)\n}\n\nexport const DAYS_OF_WEEK = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\nexport const repeatAudio = (audio: HTMLAudioElement, times: number): boolean => {\n  assert(times < 6 && times > 0 && audio)\n  try {\n    let played = 0;\n    const repeat = () => {\n      played++;\n      if (played < times) {\n        audio.play();\n      } else {\n        audio.removeEventListener(\"ended\", repeat)\n      }\n    }\n    audio.addEventListener(\"ended\", repeat, false);\n    audio.play();\n    return true\n  } catch (err) {\n    console.log(err)\n    return false\n  }\n}\n\nexport const getAuthHeaders = (token: string) => ({ 'Authorization': `JWT ${token}` });\n\nexport const pluralString = (count: number, singular: string, plural?: string) => {\n  const pluarlFinal = plural ?? `${singular}s`;\n  const itemStr = count === 1 ? singular : pluarlFinal;\n  return `${count} ${itemStr}`;\n}\n\nexport const getAPIErrorMessage = (err: any) => {\n  if (err?.response?.data?.errors?.bosError?.internal) {\n    return err?.response?.data?.errors?.bosError?.internal;\n  }\n  return null;\n}\n\nexport const toFixed2 = (num: number): number => {\n  return Math.round(num * 1e2) / 1e2;\n}\n\nexport function withFallbackPath<T>(Component: ComponentType<T>, fallbackUrl: string | null | undefined) {\n  const NewComponent = (props: T) => {\n    const handleImageError = (e: any) => {\n      e.target.onerror = null;\n      e.target.src = fallbackUrl\n    }\n\n    return (\n      <Component {...props} onError={handleImageError} />\n    )\n  }\n\n  return NewComponent\n}\n\n\nconst resizeFile = async (file: any, width: number, height: number) =>\n  new Promise((resolve) => {\n    FileResizer.imageFileResizer(\n      file,\n      width,\n      height,\n      \"JPEG\",\n      95, // quality\n      0,\n      (uri: any) => {\n        resolve(uri);\n      },\n      \"file\"\n    );\n  })\n\n\n  const uploadimgByUrl = async (data: any, url: string) =>\n  backendAxios.put(\n    url,\n    data,\n    { headers: { \"Content-Type\": \"image/jpeg\", } },\n  )\n\n\nexport const uploadThumbnail = async (url: string, data: any) => {\n  const small = url + \"_small\";\n  const medium = url + \"_medium\";\n  const buf: any = await resizeFile(data, 256, 256);\n  const response = await uploadimgByUrl(buf, small);\n  if (response.status === 200) {\n    console.log(\n      \"create and upload thumbnail_Small:Source Size:\" +\n      data?.length +\n      \"(b)  Small Size:\" +\n      buf?.size +\n      \"(b) \\n    url:\" +\n      small\n    );\n  }\n\n  const buf1: any = await resizeFile(data, 512, 512);\n  const response1 = await uploadimgByUrl(buf1, medium);\n\n  if (response1.status === 200) {\n    console.log(\n      \"create and upload thumbnail_Medium:Source Size:\" +\n      data.length +\n      \"(b)  Medium Size:\" +\n      buf1.size +\n      \"(b) \\n    url:\" +\n      medium\n    );\n  }\n\n  return {\n    smallThumbnailUrl: response.config.url,\n    mediumThumbnailUrl: response1.config.url,\n  }\n}","import { AppType, ClientType } from \"../bos_common/src\";\nimport { DeviceType } from \"../bos_common/src/types/DeviceType\";\n\n/**\n * Load parameter from envvar if specified, or throw an exception otherwise.\n * @param paramName - The name of the parameter to source from envvars (e.g. \"BACKEND_CONFIG_PARAM\")\n */\nconst loadRequiredParam = (paramName: string): string => {\n  const paramValue = process.env[paramName];\n  if (paramValue === undefined) {\n    throw new Error(`Required envvar ${paramName} not set.`);\n  }\n  return paramValue;\n};\n\n/**\n * Load parameter from envvar if specified, or fallback to specified default otherwise.\n * @param paramName - The name of the parameter to source from envvars (e.g. \"BACKEND_CONFIG_PARAM\")\n * @param defaultValue - The fallback value to be used if `paramName` var is not set\n */\nconst loadOptionalParam = (paramName: string, defaultValue: string): string => {\n  return process.env[paramName] || defaultValue;\n};\n\nconst loadConfig = (): Record<string, any> => ({\n  appConfig: {\n    appType: AppType.MARKETPLACE,\n    deviceType: loadOptionalParam('REACT_APP_DEVICE_TYPE', DeviceType.Regular),\n    clientType: loadOptionalParam('REACT_APP_CLIENT_TYPE', ClientType.Web),\n    buildEnv: loadOptionalParam('REACT_APP_BUILD_ENV', 'production'),\n    gaTrackingId: loadOptionalParam('REACT_APP_GA_TRACKING_ID', ''),\n    gtmTrackingId: loadOptionalParam('REACT_APP_GTM_TRACKING_ID', ''),\n    pixelId: loadOptionalParam('REACT_APP_FB_PIXEL_ID', '')\n  },\n  env: {\n    isStaging: parseInt(loadOptionalParam('REACT_APP_IS_STAGING', '0'), 10)\n  }\n});\n\nconst config = loadConfig();\nexport default config;\n","import { AppType } from \"./AppType\";\nimport { Base } from \"./Base\";\nimport { BaseIncrement } from \"./BaseIncrement\";\nimport { DeviceType } from \"./DeviceType\";\nimport { MerchandiseModifier, MerchandiseModifiersType } from \"./MerchandiseType\";\nimport { OrderSubscriber } from \"./OrderSubscriber\";\nimport { Review } from \"./ReviewType\";\nimport { User } from \"./UserTypes\";\n\n/**\n * The states machine of order status\n *\n *    PAID => FULFILLED\n *\n *    for unclaimed merchants' orders. Set by the operator\n *    PAID => CONFIRMED\n *\n *                /  PAID => FULFILLED\n *    OPEN_CHECK ==  VOIDED\n *                \\  PAID_EXTERNALLY\n *\n *    REFUNDED, PREPARING, PENDING are deprecated\n */\n\n export enum OrderStatus {\n  PENDING = 'pending',\n  OPEN_CHECK = 'open-check',\n  PAID = 'paid',\n  PREPARING = 'preparing',\n  FULFILLED = 'fulfiled',\n  CONFIRMED = 'confirmed',\n  REFUNDED = 'refunded',\n  VOIDED = 'voided',\n  PAID_EXTERNALLY = 'paid-externally',\n}\n\nexport enum OrderType {\n  DINEIN = 'dine-in',\n  PICKUP = 'pickup',\n  RESERVATION = 'reservation',\n}\n\nexport enum OrderPickupType {\n  TO_GO = 'to-go',\n  EAT_HERE = 'eat-here',\n}\n\n/**\n * customization: a map from modifiers to their respective prices, note that the price could be different from their current values.\n *                Thus, the order needs to capture their state in time\n * price: the total price of this item, including prices from modifiers\n */\nexport interface LineItem {\n  id: string;\n  name: string;\n  price: number;\n  quantity: number;\n  note: string | undefined;\n  customization: MerchandiseModifiersType;\n  customizationDisplayOrder: Array<string>;\n  appliedModifiers?: MerchandiseModifier[],\n  refunded: boolean;\n  categoryId?: string;\n  customizationSignature: number | undefined;\n  pointsRedeemed?: number;\n  quantityRedeemed?: number;\n  remainInventory: number | undefined;\n}\n\nexport interface OrderCancellationInfo extends BaseIncrement {\n  user: User;\n  order: Order;\n  lineItems: LineItem[] | null;\n  itemRefundAmount: number | null;\n  customRefundAmount: number | null;\n  taxRefundAmount: number;\n  tipRefundAmount: number;\n}\n\nexport interface PointsRedemptionInfo {\n  pointsRedeemed: number;\n  amountRedeemed: number;\n}\n\nexport interface CouponRedemptionInfo {\n  couponId: number;\n  amountRedeemed: number;\n  couponCode: string;\n}\n\nexport interface BeforeRefundInfo {\n  amount: number;\n  tip: number;\n  tax: number;\n}\n\nexport interface SourceInfo {\n  device: DeviceType;\n  app: AppType;\n  sessionId?: string;\n}\n\nexport enum SkipPaymentReason {\n  ORDER_VOIDED = OrderStatus.VOIDED,\n  PAID_EXTERNALLY = OrderStatus.PAID_EXTERNALLY,\n}\n\nexport interface OrderVoidOrSkipPaymentInfo extends Base {\n  orderId: string;\n  user?: User;\n  reason: SkipPaymentReason;\n  priorStatus: OrderStatus;\n  paymentMethod: string;\n}\n\nexport interface Order extends Base {\n  id: string;\n  orderNo: number | null;\n  userId: string | null;\n  userDisplayName: string | null;\n  merchantId: string;\n  description: string;\n  amount: number;\n  tax: number;\n  tip: number;\n  currency: string;\n  paymentId: string | null;\n  paymentMethodTypes: string[];\n  paymentMethod: string;\n  lineItems: LineItem[];\n  status: OrderStatus;\n  type: OrderType;\n  tableId?: number;\n  readyTime: Date | null;\n  toPickupTime: Date;\n  enqueueTime: Date;\n  oneMarketPoints: number;\n  refundedAmount: number;\n  production: boolean;\n  cancellationInfo: OrderCancellationInfo[] | null;\n  subscriber: OrderSubscriber | null;\n  pointsRedemptionInfo: PointsRedemptionInfo | null;\n  couponRedemptionInfo: CouponRedemptionInfo | null;\n  beforeRefundInfo: BeforeRefundInfo | null;\n  sourceInfo: SourceInfo;\n  remindersSentCount: number;\n  voidOrSkipPaymentInfo: OrderVoidOrSkipPaymentInfo | null;\n  pickupType: OrderPickupType | null;\n  reviews: Review[] | null;\n}\n","import * as Sentry from \"@sentry/react\"\nimport { RewriteFrames } from \"@sentry/integrations\"\nimport axios from \"axios\"\n\nimport { Logger, LogLevels } from \"./loggerTypes\"\nimport config from \"../../config/config\"\n\nconsole.log(\"------------ SENTRY LOG------------ \")\nconsole.log(\"------------ SENTRY LOG------------ \")\nconsole.log(`config.buildEnv: ${config.appConfig.buildEnv}`)\n\n/**\n * We use two Sentry instances\n * DSN is used for error and exception logging\n */\nconst DSN = \"https://ba9700e7f5944d1399f95dfa06f2fb59@o1031572.ingest.sentry.io/6020570\"\n\n/**\n * An array of strings or regexps that'll be used to ignore specific errors based on their type/message\n */\nconst IGNORE_ERRORS: (string | RegExp)[] = []\n\nconst _userId: string | null = null\nlet _userProperties: Record<string, any> = {}\n\nconst clientConfiguration: Partial<Sentry.BrowserOptions> = {\n  // production, staging or development environment\n  environment: config.appConfig.buildEnv,\n\n  // Required to resolve correct transport within webview\n  transport: Sentry.Transports.FetchTransport,\n\n  // // Used to resolve source maps uploaded at build time\n  // release: window.COMMIT_HASH,\n\n  // Capture stack traces for messages\n  attachStacktrace: true,\n\n  // Pass each stack frame through rewriter function\n  integrations: integrations =>\n    integrations\n      .filter(({ name }) => name !== \"TryCatch\")\n      .concat([\n        new RewriteFrames({\n          iteratee: rewriteFrame,\n        }),\n        new Sentry.Integrations.TryCatch({\n          requestAnimationFrame: false,\n        }),\n      ]),\n\n  ignoreErrors: IGNORE_ERRORS,\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  // tracesSampleRate: 0.5,\n}\n\n/**\n * This is used to filter out error BEFORE being sent to any logging service (Sentry/Firebase/Snowplow)\n * @param error\n */\nexport function shouldIgnoreError(error: string | Error): boolean {\n  // Filter out Axios cancel errors\n  if (axios.isCancel(error)) {\n    return true\n  }\n\n  if (typeof error === \"string\") {\n    return IGNORE_ERRORS.some(matcher => error.match(matcher))\n  }\n\n  if (typeof error?.name === \"string\") {\n    if (IGNORE_ERRORS.some(matcher => error.name.match(matcher))) {\n      return true\n    }\n  }\n\n  if (typeof error?.message === \"string\") {\n    if (IGNORE_ERRORS.some(matcher => error.message.match(matcher))) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Rewrite filepaths from webviews to relative paths\n * So that they match our source maps in Sentry\n */\nexport function rewriteFrame(frame: Sentry.StackFrame): Sentry.StackFrame {\n  frame.filename = frame.filename && frame.filename.replace(/^.*\\/js\\//, \"~/js/\")\n  return frame\n}\n\nconst beforeSend = (event: Sentry.Event, hint: Sentry.EventHint) => {\n  const { originalException } = hint\n  // TODO: add any formatting if required\n  if (process.env.NODE_ENV !== 'production') {\n    console.log(\"------------------\")\n    console.log(\"logging error to sentry\")\n    console.log(event)\n    console.log(\"------------------\")\n  }\n\n  return event\n}\n\n// Set up the primary and secondary instances\nSentry.init({ ...clientConfiguration, dsn: DSN, beforeSend })\n\n/**\n * Logging function wraps the message with relevant\n * context and posts it to Sentry\n */\nfunction sentryLog(\n  level: LogLevels,\n  exception: string | Error,\n  data?: { [s: string]: any },\n  tags?: { [s: string]: string }\n) {\n  // Info and debug are no-ops with this logger\n  if ([LogLevels.info, LogLevels.debug].includes(level)) {\n    return\n  }\n\n  if (shouldIgnoreError(exception)) {\n    return\n  }\n\n  // Use primary instance for serious errors, secondary hub for warnings and below\n  const hub: Sentry.Hub = Sentry.getCurrentHub()\n\n  hub.withScope(scope => {\n    scope.setLevel((level as any) as Sentry.Severity)\n    const fingerprint = [\"{{default}}\"]\n    if (exception instanceof Error) {\n      fingerprint.push(exception.message)\n    }\n    scope.setFingerprint(fingerprint)\n\n    if (data) {\n      Object.keys(data).forEach(key => {\n        scope.setExtra(key, data[key])\n      })\n\n      /*\n        set context for the data passed, \n        otherwise that'll get added to Additional Data in Sentry\n        Additional data is not visible on the event issue page\n      */\n      scope.setContext(\"Additional Data\", data)\n    }\n\n    if (tags) {\n      Object.keys(tags).forEach(key => {\n        scope.setTag(key, tags[key])\n      })\n    }\n\n    hub.captureException(exception)\n  })\n}\n\n/**\n * Set the user ID in sentry, combined with userProperties if already set\n */\nexport function setUserId(userId: string): void {\n  updateUserScope(userId, _userProperties)\n}\n\n/**\n * Set the user properties in sentry, combined with user ID if already set\n */\nexport function setUserProperties(userProperties: Record<string, any>): void {\n  _userProperties = userProperties\n  updateUserScope(_userId, _userProperties)\n}\n\n/**\n * Combine the user data and set on the Sentry scope\n */\nexport function updateUserScope(userId: string | null = null, userProperties: Record<string, any> | null = {}): void {\n  Sentry\n    .getCurrentHub()\n    .configureScope(scope => {\n      const userData = {\n        ...userProperties,\n        ...(userId && { id: userId }),\n      }\n\n      scope.setUser(userData)\n    })\n}\n\n/**\n * Helper function for adding tags to the sentry scope\n * @param key arbitrary string, becomes filterable in Sentry UI\n */\nexport function setTag(key: string, value: string | boolean | number | null): void {\n  Sentry\n    .getCurrentHub()\n    .configureScope((scope: Sentry.Scope) => {\n      scope.setTag(key, value)\n    })\n}\n\n// Configurable logger module to push events to Sentry\nconst sentryLogger: Logger = {\n  fatal: sentryLog.bind(null, LogLevels.fatal),\n  error: sentryLog.bind(null, LogLevels.error),\n  warning: sentryLog.bind(null, LogLevels.warning),\n  debug: sentryLog.bind(null, LogLevels.debug),\n  info: sentryLog.bind(null, LogLevels.info),\n  setUserId,\n  setUserProperties,\n  setVersion: (version: string) => {\n    setTag(\"version\", version)\n  },\n  setDeviceId: (deviceId: string) => {\n    // Set both as a tag and in user context\n    setTag(\"deviceId\", deviceId)\n    setUserProperties({ ..._userProperties, deviceId })\n  },\n  setTag\n}\n\nexport default sentryLogger\n","import { Logger, LogLevels } from \"./loggerTypes\"\nimport config from \"../../config/config\"\n\nconsole.log(\"------------ BROWSER CONSOLE LOG------------ \")\nconsole.log(\"------------ BROWSER CONSOLE LOG------------ \")\nconsole.log(`config.buildEnv: ${config.appConfig.buildEnv}`)\n\nlet userId: string | number | null = null\nlet userProperties: Record<string, any> | null = null\nlet deviceId: string | null = null\nlet version: string | null = null\nconst tags: Record<string, any> = {}\n\n/**\n * Logger for use in local development\n * Prints everything to the browser console\n */\nfunction consoleLog(\n  level: LogLevels,\n  message: string | Error,\n  data?: { [s: string]: any },\n  tags?: { [s: string]: string }\n) {\n  // Build payload from available properties only\n  const payload = {\n    ...(data && { data }),\n    ...(tags && { tags }),\n  }\n  console.log(`[${level}]: `, message, { payload })\n}\n\nconst consoleLogger: Logger = {\n  fatal: consoleLog.bind(null, LogLevels.fatal),\n  error: consoleLog.bind(null, LogLevels.error),\n  warning: consoleLog.bind(null, LogLevels.warning),\n  debug: consoleLog.bind(null, LogLevels.debug),\n  info: consoleLog.bind(null, LogLevels.info),\n  setVersion: _version => (version = _version),\n  setDeviceId: _deviceId => (deviceId = _deviceId),\n  setUserId: _userId => (userId = _userId),\n  setUserProperties: _userProperties => (userProperties = _userProperties),\n  setTag: (key: string, value: string | boolean | number | null) => (tags[key] = value),\n}\n\nexport default consoleLogger\n","import React, { SetStateAction } from \"react\";\nimport {\n  Merchandise,\n  MerchandiseModifiersType,\n  Merchant,\n  Order,\n  OrderType,\n  MerchantCoupon,\n  FeatureFlags,\n  MerchandiseApiResponseType,\n  MerchantQRCode,\n  OrderPickupType\n} from \"../services/models\";\n\nexport interface MerchantCartConfig extends MerchandiseApiResponseType {\n  merchant: Merchant;\n}\n\nexport enum CartType {\n  REGULAR = 'regular',\n  FROM_OPEN_CHECK = 'from_open_check',\n  ADD_ITEMS_OPEN_CHECK = 'add_items_open_check',\n}\n\nexport interface CartItemType extends Merchandise {\n  quantity: number;\n  note?: string;\n  // a map of all applied modifiers\n  modifiers?: MerchandiseModifiersType;\n  // a signature of the modifiers\n  modifiersSignature?: number;\n  modifiersDisplayOrder?: Array<string>;\n  quantityRedeemed?: number;\n  isInvalid?: boolean\n}\n\n// those two fields should be mutual exclusive\nexport interface TipData {\n  tipRate?: number\n  customTip?: number\n}\n\nexport const defaultTipData: TipData = {\n  tipRate: undefined\n}\n\nexport interface RemoveItemFromCartParams {\n  merchandiseId: string\n  modifiersSignature: number | undefined\n  clearThisItemFromCart?: boolean\n}\n\nexport type SwitchMerchantAlert = {\n  previousMerchantName?: string,\n  currentMerchantName?: string,\n  isOpen: boolean\n}\n\n/**\n * The context carried out through the SPA, when adding attributes, remember to\n * 1/ update clearCart in Reducers\n * 2/ update storeAppContextState in localStorage\n */\nexport interface AppContextStateType {\n  cart: CartItemType[],\n  merchantConfig?: MerchantCartConfig,\n  tip: TipData,\n  setTip: (_: TipData) => void,\n  orderType: OrderType,\n  tableQrCodeObject?: MerchantQRCode,\n  setOrderType: (_: OrderType, __?: MerchantQRCode) => void,\n  pickupTime?: Date,\n  setPickupTime: (_: Date | undefined) => void,\n  addItemToCart: (_: CartItemType, __: Merchant | undefined) => void,\n  removeItemFromCart: (_: RemoveItemFromCartParams) => void,\n  redeemItems: (_: CartItemType[]) => void,\n  cancelRedemption: () => void,\n  coupon?: MerchantCoupon,\n  setCoupon: (_: MerchantCoupon | undefined) => void,\n  clearCart: () => void,\n  activeOrder?: Order,\n  setActiveOrder: (_: Order | undefined) => void,\n  openCheckOrder?: Order,\n  cartType?: CartType,\n  setCartType: (_: CartType, __?: MerchantCartConfig, ___?: Order) => void,\n  featureFlags?: FeatureFlags,\n  reFetchMerchandisesForCart: () => boolean,\n  setSwitchMerchantAlert: (_: SwitchMerchantAlert) => void,\n  orderPickupType: OrderPickupType | null\n  setOrderPickupType: (_: OrderPickupType) => void,\n}\n\nexport const AppContext = React.createContext<AppContextStateType>({\n  cart: [],\n  tip: defaultTipData,\n  setTip: (_: SetStateAction<TipData>) => ({}),\n  orderType: OrderType.PICKUP,\n  setOrderType: (_: SetStateAction<OrderType>, __?: SetStateAction<MerchantQRCode>) => ({}),\n  setPickupTime: (_: SetStateAction<Date | undefined>) => ({}),\n  addItemToCart: (_: CartItemType, __: Merchant | undefined) => ({}),\n  removeItemFromCart: (_: RemoveItemFromCartParams) => ({}),\n  redeemItems: (_: CartItemType[]) => ({}),\n  cancelRedemption: () => ({}),\n  setCoupon: (_: SetStateAction<MerchantCoupon | undefined>) => ({}),\n  clearCart: () => ({}),\n  setActiveOrder: (_: SetStateAction<Order | undefined>) => ({}),\n  setCartType: (_: SetStateAction<CartType>, __?: SetStateAction<MerchantCartConfig>, ___?: SetStateAction<Order>) => ({}),\n  reFetchMerchandisesForCart: () => false,\n  setSwitchMerchantAlert: (_: SetStateAction<SwitchMerchantAlert>) => void ({}),\n  orderPickupType: null,\n  setOrderPickupType: (_: SetStateAction<OrderPickupType>) => ({}),\n})","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { MerchantCoupon } from \"./MerchantCouponType\";\nimport { Merchant } from \"./MerchantType\";\nimport { POINTS_TRANSACTION_TYPE } from \"./UserTransactionHistoryType\";\n\n\nexport enum PromotionValueType {\n  ABSOLUTE_DISCOUNT = 'absolute_discount',\n  PERCENTAGE_DISCOUNT = 'percentage_discount',\n  PERCENTAGE_REWARDS = 'percentage_rewards',\n  ABOSOLUTE_REWARDS = 'absolute_rewards',\n}\n\nexport enum PromotionCriteriaType {\n  NONE = 'none',\n  NEW_USER = 'new_user',\n  MINIMUM_SPEND = 'minimum_spend',\n  MINIMUM_QUANTITY = 'minimum_quantity',\n  MAXIMUM_SPEND = 'maximum_spend',\n}\n\nexport enum TreatmentType {\n  ONE_M_POINTS = '1mPoints',\n  COUPON = 'coupon',\n}\nexport interface Treatment {\n  id: string;\n  type: TreatmentType;\n  value?: number;\n  transactionType?: POINTS_TRANSACTION_TYPE;\n  couponCode?: string;\n  title: string;\n  description: string;\n  oneliner: string;\n}\n\nexport interface PromotionRoutine {\n  dayOfWeek: number;\n  startMinOffset: number;\n  endMinOffset: number;\n}\n\nexport interface MerchantPromotion {\n  id: number;\n  merchant: Merchant;\n  criteriaType: PromotionCriteriaType;\n  valueType: PromotionValueType;\n  value: number;    // dreprecated, store on coupon\n  limit: number;    // dreprecated, store on coupon\n  usedCount: number;  // dreprecated, store on coupon\n  startDate: Date;\n  endDate: Date;\n  live: boolean;\n  createdAt: Date;\n  updtedAt: Date;\n  version: number;\n  title: string;\n  description: string;\n  oneliner: string;\n  treatments?: Treatment[];\n  promotionRoutines?: PromotionRoutine[];\n  coupons?: MerchantCoupon[];\n  promotionEntryRequired: boolean;\n}\n","import { utcToZonedTime } from 'date-fns-tz';\nimport { PromotionValueType, MerchantPromotion } from '../types/MerchantPromotionType';\nimport { Merchant } from '../types/MerchantType';\n\nexport const isPromotionValid = (promotion: MerchantPromotion | null | undefined): boolean => {\n  if (!promotion || !promotion.live) {\n    console.log('promotion is not live');\n    return false;\n  }\n\n  if (promotion.limit && promotion.usedCount >= promotion.limit) {\n    console.log('promotion limit exceeded');\n    return false;\n  }\n\n  const isPercentageValueType =\n    promotion.valueType === PromotionValueType.PERCENTAGE_DISCOUNT;\n  if (isPercentageValueType && promotion.value > 1) {\n    console.log('promotion percentage limit incorrect');\n    return false;\n  }\n\n  const now = new Date();\n  if (now < new Date(promotion.startDate) || now > new Date(promotion.endDate)) {\n    console.log('promotion expired');\n    return false;\n  }\n\n  if (promotion.promotionRoutines) {\n    const dayOfWeek = now.getDay();\n    const minutesOffset = now.getHours() * 60 + now.getMinutes();\n    const found = promotion.promotionRoutines?.find((item) => item.dayOfWeek === dayOfWeek);\n    if (found) {\n      return found.startMinOffset < minutesOffset && minutesOffset < found.endMinOffset;\n    }\n    return false;\n  }\n\n  return true;\n};\n","import { isAfter } from \"date-fns\";\nimport { Merchandise } from \"../types/MerchandiseType\";\nimport { CouponValueType, ItemType, MerchantCoupon } from \"../types/MerchantCouponType\";\n\nexport const isCouponValid = (coupon?: MerchantCoupon): boolean => {\n  if (!coupon || !coupon.live) {\n    return false;\n  }\n\n  if (coupon.limit && coupon.usedCount > coupon.limit) {\n    return false;\n  }\n\n  if (coupon.valueType === CouponValueType.PERCENTAGE && coupon.value > 1) {\n    return false;\n  }\n\n  const now = new Date();\n  if (now < coupon.startDate || now > coupon.endDate) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const isCouponValidOnMerchandise = (merchandise: Merchandise, coupon?: MerchantCoupon) => {\n  const result = isCouponValidOnMerchandises([merchandise], coupon);\n  return (result && result.length > 0);\n}\n\n\nexport const isCouponValidOnMerchandises = (merchandises: Merchandise[], coupon?: MerchantCoupon) => {\n  if (!coupon || !isCouponValid(coupon)) {\n    return null;\n  }\n\n  if (coupon.affectedItems) {\n    const eligibleItems: Merchandise[] = merchandises.filter((item: Merchandise) => {\n      const match = coupon.affectedItems?.filter((aitem) => {\n        if (aitem.type === ItemType.CATEGORY) {\n          return aitem.id === item.categoryId;\n        } else if (aitem.type == ItemType.MERCHANDISE) {\n          return aitem.id === item.id;\n        }\n        return false;\n      });\n      return (match?.length || 0) > 0;\n    });\n    return eligibleItems;\n  }\n\n  return merchandises;\n}\n\nexport const isValidExpiryDate = (endDate: Date) => {\n  if (!endDate) return false;\n\n  const today = new Date();\n  const _endDate = new Date(endDate)\n  return _endDate.getFullYear() <= 9000 && isAfter(_endDate, today)\n}\n","import { format } from \"date-fns\";\nimport { ascend, groupBy, mapObjIndexed, pipe, prop, sort } from \"ramda\";\nimport { Merchant, OperationHours, SpecialHours } from \"../bos_common/src/types/MerchantType\";\nimport { isEmptyOrNil } from \"../utils\";\n\nexport const daysOfWeek = new Map([\n  [0, \"Monday\"],\n  [1, \"Tuesday\"],\n  [2, \"Wednesday\"],\n  [3, \"Thursday\"],\n  [4, \"Friday\"],\n  [5, \"Saturday\"],\n  [6, \"Sunday\"]\n]);\n\ntype FormattedSpecialTimings = {\n  [key: string]: Array<SpecialHours>\n}\n\nexport const getSpecialTimings = (customizations: SpecialHours[]): FormattedSpecialTimings => {\n  const createDayOfWeekGroups = (customization: SpecialHours) => customization.dayOfWeek || customization.specificDate;\n  const groupedHours = pipe(\n    groupBy(createDayOfWeekGroups),\n    mapObjIndexed((value: Array<SpecialHours>, day: string) => sort(ascend(prop('fromMinOffset')), value))\n  )(customizations)\n\n  return groupedHours;\n}\n\nexport const hoursForDate = (merchant: Merchant, date: Date): null | SpecialHours[] | OperationHours => {\n  const day = (date.getDay() + 6) % 7;\n  const dayOfWeek = daysOfWeek.get(day);\n  const dateStr = format(date, 'MM-dd');\n\n  const { hours } = merchant;\n  const noTimingsAvailable = !hours || (isEmptyOrNil(hours?.defaultFromMinOffset) && isEmptyOrNil(hours?.defaultToMinOffset) && isEmptyOrNil(hours.customizations))\n  if (noTimingsAvailable) {\n    return null;\n  }\n\n  if (hours?.customizations) {\n    const formattedSpecialTimings = getSpecialTimings(hours.customizations);\n    const hourGroups = formattedSpecialTimings[dateStr] || (dayOfWeek ? formattedSpecialTimings[dayOfWeek] : null);\n    if (hourGroups) {\n      return hourGroups;\n    }\n  }\n\n  return hours;\n}\n\nexport const openHourForDate = (merchant: Merchant, date: Date): number | null => {\n  const hours = hoursForDate(merchant, date);\n  if (!hours) {\n    return null;\n  }\n\n  if (Array.isArray(hours)) {\n    return hours[0].fromMinOffset;\n  }\n\n  return hours.defaultFromMinOffset;\n}\n\nexport const nextOpenHour = (merchant: Merchant): number | null => {\n  const date = new Date();\n  const dayMinutesOffset = date.getHours() * 60 + date.getMinutes();\n  const day = (date.getDay() + 6) % 7;\n  const dayOfWeek = daysOfWeek.get(day);\n  const dateStr = format(date, 'MM-dd');\n\n  const tomorrow = (day + 1) % 7;\n  const tomorrowOfWeek = daysOfWeek.get(tomorrow);\n  const tomorrowDateStr = format(date.setDate(date.getDate() + 1), 'MM-dd');\n\n  const { hours } = merchant;\n  const noTimingsAvailable = !hours || (isEmptyOrNil(hours?.defaultFromMinOffset) && isEmptyOrNil(hours?.defaultToMinOffset) && isEmptyOrNil(hours.customizations))\n  if (noTimingsAvailable) {\n    return null;\n  }\n\n  if (hours?.customizations) {\n    const formattedSpecialTimings = getSpecialTimings(hours.customizations);\n    const hourGroups = formattedSpecialTimings[dateStr] || (dayOfWeek ? formattedSpecialTimings[dayOfWeek] : null);\n    if (hourGroups) {\n      const hourGroup = hourGroups.find((hg) => hg.fromMinOffset > dayMinutesOffset);\n      if (hourGroup) {\n        return (hourGroup.fromMinOffset === hourGroup.toMinOffset) ? null : hourGroup.fromMinOffset;\n      }\n    }\n\n    const tomorrowHourGroups = formattedSpecialTimings[tomorrowDateStr] || (tomorrowOfWeek ? formattedSpecialTimings[tomorrowOfWeek] : null);\n    if (tomorrowHourGroups) {\n      return tomorrowHourGroups[0].fromMinOffset;\n    }\n  }\n\n  return hours.defaultFromMinOffset === hours.defaultToMinOffset ? null : hours.defaultFromMinOffset;\n}","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction PercentageIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 18, height: 18 }} viewBox=\"-1 -1 14 14\" {...props} >\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.29873 1.29107L4.54546 2.04368C4.48463 2.10453 4.40218 2.1388 4.31615 2.139H3.13092C2.58296 2.139 2.139 2.58296 2.139 3.13092V4.31615C2.139 4.40281 2.10434 4.4848 2.04368 4.54613L1.29041 5.29873C1.10446 5.48474 1 5.73699 1 6C1 6.26301 1.10446 6.51526 1.29041 6.70127L2.04368 7.45454C2.10453 7.51537 2.1388 7.59782 2.139 7.68385V8.86908C2.139 9.41704 2.58296 9.861 3.13092 9.861H4.31615C4.40281 9.861 4.4848 9.89566 4.54613 9.95632L5.29873 10.7096C5.48474 10.8955 5.73699 11 6 11C6.26301 11 6.51526 10.8955 6.70127 10.7096L7.45454 9.95632C7.51537 9.89548 7.59782 9.8612 7.68385 9.861H8.86908C9.41704 9.861 9.861 9.41704 9.861 8.86908V7.68385C9.861 7.5972 9.89566 7.5152 9.95632 7.45387L10.7096 6.70127C10.8955 6.51526 11 6.26301 11 6C11 5.73699 10.8955 5.48474 10.7096 5.29873L9.95632 4.54546C9.89548 4.48463 9.8612 4.40218 9.861 4.31615V3.13092C9.861 2.58296 9.41704 2.139 8.86908 2.139H7.68385C7.59759 2.13898 7.51486 2.10469 7.45387 2.04368L6.70127 1.29041C6.51526 1.10446 6.26301 1 6 1C5.73699 1 5.48474 1.10446 5.29873 1.29041V1.29107ZM4.0975 7.43054L7.43054 4.0975L7.9025 4.56946L4.56946 7.9025L4.0975 7.43054ZM4.33348 4.33348V5.00009H5.00009V4.33348H4.33348ZM6.99991 7.66652H7.66652V6.99991H6.99991V7.66652Z\"/>\n    </SvgIcon>\n  );\n}\n\nexport default PercentageIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction DiamondIcon(props: any) {\n  return (\n    <SvgIcon color=\"primary\" sx={{ width: 15, height: 13 }} viewBox=\"-2 -2 18 16\" {...props} >\n      <path fillRule=\"evenodd\" d=\"M2.43204 0.246414C2.51955 0.0939896 2.6819 0 2.85766 0H11.1423C11.3181 0 11.4804 0.0939896 11.568 0.246414L13.9348 4.36892C14.0379 4.54848 14.0172 4.77343 13.8831 4.93117L7.3739 12.5873C7.28066 12.6969 7.14396 12.7601 7 12.7601C6.85604 12.7601 6.71934 12.6969 6.6261 12.5873L0.116876 4.93117C-0.0172396 4.77343 -0.0379283 4.54848 0.0651646 4.36892L2.43204 0.246414ZM3.1418 0.981549L1.08824 4.55833L7 11.5117L12.9118 4.55833L10.8582 0.981549H3.1418Z\" />\n      <path fillRule=\"evenodd\" d=\"M2.45717 0.207093C2.54918 0.0772005 2.69847 0 2.85765 0H11.1423C11.3015 0 11.4508 0.0772005 11.5428 0.207093C11.6348 0.336985 11.6581 0.503434 11.6053 0.653597L10.3854 4.12251H13.5092C13.7803 4.12251 14 4.34223 14 4.61328C14 4.88433 13.7803 5.10406 13.5092 5.10406H10.0402L7.46297 12.4322C7.39387 12.6287 7.20828 12.7601 7 12.7601C6.79171 12.7601 6.60612 12.6287 6.53702 12.4322L3.95983 5.10406H0.490775C0.219727 5.10406 0 4.88433 0 4.61328C0 4.34223 0.219727 4.12251 0.490775 4.12251H3.61463L2.39467 0.653597C2.34186 0.503434 2.36516 0.336985 2.45717 0.207093ZM5.00031 5.10406L7 10.7901L8.99968 5.10406H5.00031ZM9.34488 4.12251H4.65511L3.55049 0.981549H10.4495L9.34488 4.12251Z\" />\n      <path fillRule=\"evenodd\" d=\"M6.99997 0C7.1666 0 7.32184 0.0845403 7.41224 0.224508L10.0748 4.34701C10.2219 4.5747 10.1565 4.87849 9.92882 5.02555C9.70113 5.1726 9.39735 5.10724 9.25029 4.87955L6.99997 1.39535L4.74966 4.87955C4.6026 5.10724 4.29881 5.1726 4.07112 5.02555C3.84344 4.87849 3.77807 4.5747 3.92513 4.34701L6.58771 0.224508C6.67811 0.0845403 6.83335 0 6.99997 0Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default DiamondIcon","import { anyPass, filter, find, isEmpty, isNil, path, pathEq, pathOr, propOr } from \"ramda\";\nimport formatTime from 'date-fns/format';\n\nimport config from './config/config';\n\nimport { DeviceType } from \"./bos_common/src/types/DeviceType\";\nimport { DAYS_OF_WEEK } from \"./bos_common/src/utils\";\nimport { CartItemType, CartType } from \"./context/AppContext\";\nimport { MerchantPromotion, PromotionCriteriaType, PromotionValueType } from \"./bos_common/src/types/MerchantPromotionType\";\nimport { isPromotionValid } from \"./bos_common/src/services/PromotionUtils\";\nimport { isCouponValidOnMerchandise } from \"./bos_common/src/services/CouponUtils\";\n\nimport { FeatureFlags, LineItem, Merchandise, Merchant, MerchantCoupon, OrderType, SpecialHours, User } from \"./services/models\";\nimport { nextOpenHour } from \"./services/hoursUtils\";\nimport PercentageIcon from \"./assets/icons/PercentageIcon\";\nimport DiamondIcon from \"./assets/icons/DiamondIcon\";\n\nexport const isProduction = () => process.env.NODE_ENV === \"production\" && config.env.isStaging === 0\n\nexport const isEmptyOrNil = anyPass([isEmpty, isNil])\n\nexport const getSiteBaseUrl = (): string => {\n  if (process.env.NODE_ENV == \"production\") {\n    return \"https://www.1m.app\"\n  } else {\n    return \"http://localhost:3000\"\n  }\n}\n\nexport const getMerchantUrl = (merchant: Merchant): string => {\n  return getSiteBaseUrl + '/' + merchant.username\n}\n\nexport const simpleStringHash = (input: string): number => {\n  let hash = 0, i, chr;\n  if (input.length === 0) return hash;\n  for (i = 0; i < input.length; i++) {\n    chr = input.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash |= 0;\n  }\n  return hash;\n}\n\nexport const isKioskDevice = (): boolean => config.appConfig.deviceType === DeviceType.Kiosk\n\nexport const isAppEmbed = (): boolean => config.appConfig.deviceType === DeviceType.AppEmbed\n\nexport const isWebViewEmbed = (): boolean => config.appConfig.deviceType === DeviceType.WebviewEmbed\n\nexport const isEmbeddedMode = () => isAppEmbed() || isWebViewEmbed()\n\n/**\n * Return minutes offset from begin of the day\n */\nexport const getMinutesOffset = (date: Date) => {\n  const h = date.getHours()\n  const m = date.getMinutes()\n\n  const roundedM: number = (((m + 10) / 20 | 0) * 20) % 60\n  const roundedH24: number = ((((m / 100) + .5) | 0) + h) % 24;\n  //const roundedH: number =  ((((m/100) + .5) | 0) + h + 11) % 12 + 1;\n\n  return roundedH24 * 60 + roundedM;\n}\n\nexport const getTimeLabelFromOffset = (timeOffset: number | null, format = 'p'): string => {\n  return timeOffset == null ? 'N/A' : formatTime(new Date().setHours(0, timeOffset, 0), format);\n}\n\nexport const getStoreStatusLabel = (merchant: Merchant, orderType: OrderType = OrderType.PICKUP): { label: string, canOrder: boolean } => {\n  const isMerchantOrderingAvailable = isMerchantOnline(merchant, orderType);\n\n  if (isMerchantOrderingAvailable) {\n    return { label: \"Open\", canOrder: true };\n  }\n\n  const nextOpenHourOffset = nextOpenHour(merchant);\n  if (\n    !isEmptyOrNil(merchant.hours) &&\n    nextOpenHourOffset\n  ) {\n    return { label: `Opens at ${getTimeLabelFromOffset(nextOpenHourOffset)}`, canOrder: false };\n  }\n\n  return { label: \"Opens later\", canOrder: false };\n};\n\nexport const isStoreOpen = (merchant: Merchant | undefined, date: Date): boolean => {\n  if (!merchant) return false\n\n  const currentMinsOffset = getMinutesOffset(date)\n  const day = date.getDay();\n  const weekday = DAYS_OF_WEEK[day];\n  const hours = propOr({}, 'hours', merchant)\n\n  // not open if no hours are set\n  if (isEmptyOrNil(hours)) return false;\n\n  const customizations = propOr([], 'customizations', hours)\n  const specialHours: SpecialHours[] = filter((sh: SpecialHours) => sh.dayOfWeek === weekday, customizations);\n\n  if (specialHours?.length > 0) {\n    const openTime = specialHours.filter((sh: SpecialHours) => sh.fromMinOffset <= currentMinsOffset && sh.toMinOffset >= currentMinsOffset)\n    return openTime.length > 0;\n  } else {\n    const isOpenTimeValid = isEmptyOrNil(hours.defaultFromMinOffset) || currentMinsOffset >= hours.defaultFromMinOffset\n    const isCloseTimeValid = isEmptyOrNil(hours.defaultToMinOffset) || currentMinsOffset <= hours.defaultToMinOffset\n    return (isOpenTimeValid && isCloseTimeValid);\n  }\n}\n\nexport const isMerchantOnline = (merchant: Merchant | undefined, orderType: OrderType = OrderType.PICKUP): boolean => {\n  if (!merchant) return false;\n  if (isKioskDevice() || orderType === OrderType.DINEIN) return merchant?.kioskOrdering;\n  if (!merchant?.online) return false;\n\n  const date = new Date();\n  const isValidTime = orderType === OrderType.PICKUP\n    ? merchant.orderingConfig?.orderAhead || isStoreOpen(merchant, date)\n    : isStoreOpen(merchant, date)\n  return isValidTime\n}\n\nexport const getOfflineMerchantMessage = (orderType: OrderType, merchant?: Merchant) => {\n  // for kiosk orders\n  if (isKioskDevice()) return 'Ordering not available yet';\n\n  // for dine in orders\n  if (orderType === OrderType.DINEIN) return 'Dine-in ordering not available yet'\n  return 'Online ordering not available yet';\n}\n\nexport const isMerchandiseStockLow = (merchandise: Merchandise | null): boolean => {\n  // if merchandise is not available or if inventory is null, it is not low stock\n  if (!merchandise || !merchandise?.inventory?.dailyCurrentStock) return false\n  return merchandise.inventory.dailyCurrentStock <= 2\n}\n\nexport const getSortedMerchantsListBasedOnStatus = (list: Merchant[]): Merchant[] => {\n  const openStores: Merchant[] = []\n  const closedStores: Merchant[] = []\n  const openLaterStore: Merchant[] = []\n\n  list.forEach(merchant => {\n    const storeStatus = getStoreStatusLabel(merchant)\n    if (storeStatus.label === 'Open') openStores.push(merchant)\n    else if (storeStatus.label === 'Opens later') closedStores.push(merchant)\n    else openLaterStore.push(merchant)\n  })\n\n  return [...openStores, ...openLaterStore, ...closedStores]\n}\n\nexport const enableOrderItemNote = (featureFlags: FeatureFlags | undefined): boolean => {\n  return pathEq(['enableOrderItemNote'], 1, featureFlags)\n}\n\nexport const enableStartOver = (featureFlags: FeatureFlags | undefined): boolean => {\n  return pathEq(['enableStartOver'], 1, featureFlags)\n}\n\nexport const enableRedeemPoints = (featureFlags: FeatureFlags | undefined): boolean => {\n  return pathEq(['enableRedeemPoints'], 1, featureFlags)\n}\n\nexport const enableSanMateoMP = (featureFlags: FeatureFlags | undefined): boolean => {\n  return pathEq(['enableSanMateoMP'], 1, featureFlags)\n}\n\n// get points required to redeem an item\n// Return points if merchandise has pointsToRedeem specified\n// else compute points based on defaultPointsToRedeemADollar set in Merchant Ordering Config\nexport const getRequiredRedemptionPoints = (merchandise: Merchandise | CartItemType | null, merchant: Merchant | undefined) => {\n  const itemPrice = Number(`${merchandise?.price ?? 0}`)\n  return merchandise?.pointsToRedeem ?? Math.round(itemPrice * (merchant?.orderingConfig?.defaultPointsToRedeemADollar ?? 0))\n}\n\nexport const isMerchandiseAvailable = (merchandise: Merchandise) => {\n  const currentDailyStock = path(['inventory', 'dailyCurrentStock'], merchandise)\n  if (isEmptyOrNil(currentDailyStock)) return true\n\n  return currentDailyStock > 0\n}\n\nexport const isOpenCheckEnabled = (merchant: Merchant | undefined): boolean => {\n  return merchant?.orderingConfig?.enabledOpenCheck ?? false\n}\n\nexport const isDineInPaymentDisabled = (merchant: Merchant | undefined): boolean => {\n  return merchant?.orderingConfig?.disableDineInPayment ?? false;\n}\n\nexport const isUserEligibleForPromotion = (promotion?: MerchantPromotion, user?: User): boolean => {\n  if (!promotion) return false;\n\n  switch (promotion.criteriaType) {\n    case PromotionCriteriaType.NEW_USER:\n      return isEmptyOrNil(user);\n    case PromotionCriteriaType.NONE:\n      return true;\n    default:\n      return false;\n  }\n}\n\nexport const isMerchandisePromoted = (merchandise: Merchandise, promotion?: MerchantPromotion, coupon?: MerchantCoupon): boolean => {\n  // ignore promotion object for now\n\n  // check coupon promotions\n  if (!coupon || !coupon.promotion || !isCouponValidOnMerchandise(merchandise, coupon)) {\n    return false;\n  }\n\n  return true;\n}\n\nexport const getMerchantPromotionCoupon = (merchant: Merchant): MerchantCoupon | undefined => {\n  const promotion = pathOr({}, ['promotions', 0], merchant);\n  return pathOr({}, ['coupons', 0], promotion);\n}\n\nexport const isDiscountPromotion = (promotion: MerchantPromotion) => [PromotionValueType.ABSOLUTE_DISCOUNT, PromotionValueType.PERCENTAGE_DISCOUNT].includes(promotion.valueType)\n\nexport const getPromotionChipStyleConfig = (promotion: MerchantPromotion): { icon: (props: any) => JSX.Element, backgroundColor: string } => {\n  return isDiscountPromotion(promotion)\n    ? { icon: PercentageIcon, backgroundColor: \"#FF8E25\" }\n    : { icon: DiamondIcon, backgroundColor: \"#FF8E25\" }\n}\n\nexport const isNotificationSoundEnabled = (user: User | undefined) => pathOr(true, ['applicationPreferences', 'notificationSound'], user)\n\nexport const getLiveMerchantPromotion = (merchant?: Merchant): MerchantPromotion | undefined => {\n  if (!merchant) return undefined\n  return find((p: MerchantPromotion) => isPromotionValid(p), propOr([], 'promotions', merchant))\n}\n\nexport const isAddingItemToOpenTab = (cartType: CartType | undefined) => {\n  return cartType === CartType.ADD_ITEMS_OPEN_CHECK;\n}\n\nexport const isCartFromAnOpenTabOrder = (cartType: CartType | undefined) => {\n  return cartType === CartType.FROM_OPEN_CHECK;\n}\n\nexport const abbreviatedValue = (value: number, decimalPoint = 1) => {\n  let x = ('' + value).length\n  const p = Math.pow\n  decimalPoint = p(10, decimalPoint)\n  x -= x % 3\n\n  return Math.round(value * decimalPoint / p(10, x)) / decimalPoint + \" kMGTPE\"[x / 3]\n}\n\nexport const commaSeparatedValue = (value: number) => {\n  return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport * from \"./bos_common/src/utils\"\n\nexport const scrollToTop = (elementId?: string) => {\n  if (isEmptyOrNil(elementId)) {\n    window.scrollTo(0, 0);\n    return;\n  }\n\n  const el = document.getElementById(elementId!) as HTMLDivElement\n  if (!isEmptyOrNil(el)) {\n    el.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    })\n  }\n}\n\nexport const stripePublicKey = (production?: boolean): string => {\n  const productionFlag = production === undefined ? isProduction() : production;\n  return productionFlag\n    ? 'pk_live_51IotjOIJSYDtijmKrOPBFfTy72gs124DsB5JsD4KTVGKB65pR1TZwu4Bqbew2l2wfL6g9UMDGaTIboEbgipjKqlo00XfpgRZWA'\n    : 'pk_test_51IotjOIJSYDtijmKqRuxe97OR3doGxkozedGxdULMUlmtu0ehEa5mhAoGU89Ncnzr324lwCHoU5EoEG9ZBFJnTEv00lAYXcUwB';\n}\n\nexport const getMerchandiseOverallRatings = (merchandise: Merchandise | null): string => {\n  return pathOr(0, ['rating', 'rating', 'overall'], merchandise).toFixed(2);\n}\n\nexport const lineItemWithoutCarryoutBag = (item: LineItem, merchant: Merchant | undefined): boolean => {\n  return item.id !== pathOr('', ['orderingConfig', 'carryoutBag', 'id'], merchant)\n}\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { AuthSliceStateEntities } from \"../../../types/AuthSlice\";\n\nexport const authFetching = createAction('auth/setLoadingAuth');\n\nexport const authFetchSucceed = createAction<AuthSliceStateEntities>('auth/updateAuth');\n\nexport const authFetchFailed = createAction('auth/stopLoadingAuth');\n\nexport const fetchAuth = createAction<AuthSliceStateEntities>('USER_FETCH_REQUESTED');\n","import { call, put, takeLatest } from 'redux-saga/effects'\nimport { AuthSliceStateEntities } from '../../../types/AuthSlice';\nimport { PayloadAction } from '@reduxjs/toolkit';\nimport { authFetchFailed, authFetching, authFetchSucceed } from './authActions';\n\nexport const delay = (time: number) => new Promise(resolve => setTimeout(resolve, time));\n\n// worker Saga: will be fired on USER_FETCH_REQUESTED actions\nfunction* loadAuth(action: PayloadAction<AuthSliceStateEntities>) {\n   try {\n      const { user, token } = action.payload;\n      yield put(authFetching());\n      yield put(authFetchSucceed({ user, token }));\n   } catch (e: any) {\n      yield put(authFetchFailed());\n   }\n}\n\n/*\n  Alternatively you may use takeLatest.\n\n  Does not allow concurrent fetches of user. If \"USER_FETCH_REQUESTED\" gets\n  dispatched while a fetch is already pending, that pending fetch is cancelled\n  and only the latest one will be run.\n*/\nfunction* authSaga(): Generator {\n  yield takeLatest(\"USER_FETCH_REQUESTED\", loadAuth);\n}\n\nexport default authSaga;","import { createAction } from \"@reduxjs/toolkit\";\nimport { VoteRequestBody } from \"../../../services/votesApiService\";\nimport UserMerchantVote from \"../../../bos_common/src/types/UserMerchantVote\";\n\nexport const storesToVoteFetching = createAction('vote/setLoadingVote');\n\nexport const storesToVoteFetchSucceed = createAction<string[]>('vote/updateStoreToVoteIds');\n\nexport const votesFetchSucceed = createAction<UserMerchantVote[]>('vote/updateVote');\n\nexport const storesToVoteFetchFailed = createAction('vote/stopLoadingVote');\n\nexport const fetchStoresToVote = createAction('VOTE_FETCH_REQUESTED');\n\nexport const votedStoresFetching = createAction('vote/setLoadingVote');\n\nexport const votedStoresFetchSucceed = createAction<string[]>('vote/updateVotedStoreIds');\n\nexport const votedStoresFetchFailed = createAction('vote/stopLoadingVote');\n\nexport const fetchVotedStores = createAction('VOTED_STORES_FETCH_REQUESTED');\n\nexport const voteCountFetching = createAction('vote/setLoadingVote');\n\nexport const voteCountFetchSucceed = createAction<{[key: string]: number}>('vote/updateVoteCount');\n\nexport const voteCountFetchFailed = createAction('vote/stopLoadingVote');\n\nexport const fetchVoteCount = createAction<string[]>('VOTE_COUNT_FETCH_REQUESTED');\n\nexport const voteCreating = createAction('vote/setUpdatingVote');\n\nexport const voteCreateSucceed = createAction<UserMerchantVote>('vote/voteCreated');\n\nexport const voteCreateFailed = createAction('vote/stopUpdatingVote');\n\nexport const createVote = createAction<VoteRequestBody>('VOTE_CREATE_REQUESTED');\n\nexport const voteRemainingFetching = createAction('vote/setLoadingVote');\n\nexport const voteRemainingFetchSucceed = createAction<number>('vote/updateVoteRemaining');\n\nexport const voteRemainingFetchFailed = createAction('vote/stopLoadingVote');\n\nexport const fetchVoteRemaining = createAction('VOTE_REMAINING_FETCH_REQUESTED');\n","import { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport axios, { backendAPIURL } from \"../bos_common/src/services/backendAxios\";\n\nexport interface VoteRequestBody {\n  merchant: string;\n}\n\nexport const getStoresToVote = (request: AxiosRequestConfig): Promise<AxiosResponse> => { // Promise<AxiosResponse<Order>> => {\n  return axios({\n    url: '/votes/stores',\n    method: 'GET',\n    headers: request.headers,\n  });\n}\n\nexport const getVotedStores = (request: AxiosRequestConfig): Promise<AxiosResponse> => { // Promise<AxiosResponse<Order>> => {\n  return axios({\n    url: '/votes/stores/voted',\n    method: 'GET',\n    headers: request.headers,\n  })\n}\n\nexport const postVote = (voteBody: VoteRequestBody, request: AxiosRequestConfig): Promise<AxiosResponse> => { // Promise<AxiosResponse<Order>> => {\n  return axios({\n    url: '/votes',\n    method: 'POST',\n    data: { ...voteBody },\n    headers: request.headers,\n  })\n}\n\nexport const getStoreVotesCount = (merchantIds: string[], request: AxiosRequestConfig): Promise<AxiosResponse> => {\n  const url = new URL(`${backendAPIURL}/votes/stores/count`);\n  url.searchParams.append('merchantIds', merchantIds.join(','));\n\n  return axios({\n    url: url.toString(),\n    method: 'GET',\n    headers: request.headers,\n  })\n}\n\nexport const getRemainingVotes = (request: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: '/votes/remaining',\n    method: 'GET',\n    headers: request.headers,\n  })\n}\n\nexport default {\n  getStoresToVote,\n  getVotedStores,\n  postVote,\n  getStoreVotesCount,\n  getRemainingVotes,\n}\n","import { User } from \"../../../bos_common/src/types/UserTypes\";\nimport { RootState } from \"../../store\"\n\nexport const getToken = (state: RootState): string => state.auth.entities.token;\n\nexport const getUser = (state: RootState): User | null => state.auth.entities.user;\n","import { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport axios, { backendAPIURL } from \"../bos_common/src/services/backendAxios\";\n\nexport interface MerchantQueryParams {\n  id?: string;\n  email?: string;\n  ownerId?: string;\n  username?: string;\n}\n\nexport const getMerchant = (queryParams: MerchantQueryParams, request: AxiosRequestConfig): Promise<AxiosRequestConfig> => {\n  const url = new URL(`${backendAPIURL}/merchants`);\n  Object.keys(queryParams).forEach((key) => url.searchParams.append(key, queryParams[key]));\n\n  return axios({\n    url: url.toString(),\n    method: 'GET',\n    headers: request.headers,\n  });\n}\n\nexport const getMerchantByNameQuery = (searchQuery: string, request: AxiosRequestConfig): Promise<AxiosResponse> => {\n  const url = new URL(`${backendAPIURL}/merchants/search`);\n\n  return axios({\n    url: url.toString(),\n    method: 'GET',\n    headers: request.headers,\n    params: {\n      name: searchQuery,\n      limit: 1000,\n    }\n  })\n}\n\nexport default {\n  getMerchantByNameQuery\n}\n","import { createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { Merchant } from \"../../../bos_common/src/types/MerchantType\";\nimport { getMerchant, getMerchantByNameQuery, MerchantQueryParams } from \"../../../services/merchantsApiService\";\nimport { getAuthHeaders } from \"../../../utils\";\nimport { RootState } from \"../../store\";\nimport { getToken } from \"../auth/authSelector\";\n\nexport const merchantsFetching = createAction('merchant/setLoadingMerchant');\n\nexport const merchantsFetchSucceed = createAction<Merchant[]>('merchant/updateMerchant');\n\nexport const merchantsFetchFailed = createAction('merchant/stopLoadingMerchant');\n\nexport const fetchMerchants = createAction('MERCHANTS_FETCH_REQUESTED');\n\nexport const searchQueryUpdated = createAction<string>('merchant/updateCurrentSearchQuery');\n\nexport const setShowRewardsEducationDrawer = createAction<boolean>('merchant/toggleShowEducationDrawer');\n\nexport const searchMerchantByName = createAsyncThunk(\n  'merchant/searchMerchantByName',\n  async (searchQuery: string, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await getMerchantByNameQuery(searchQuery, { headers: getAuthHeaders(token) });\n    return response.data;\n    // return {\n    //   searchQuery,\n    //   data: response.data\n    // };\n  }\n);\n\nexport const fetchMerchant = createAsyncThunk(\n  'merchant/fetchMerchant',\n  async (queryParams: MerchantQueryParams, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await getMerchant(queryParams, { headers: getAuthHeaders(token) });\n    return [response.data];\n  }\n);\n","import { all, call, put, select, takeEvery, takeLatest } from 'redux-saga/effects'\nimport { storesToVoteFetchFailed, storesToVoteFetching, storesToVoteFetchSucceed, voteCountFetchFailed, voteCountFetching, voteCountFetchSucceed, voteCreateFailed, voteCreateSucceed, voteCreating, votedStoresFetchFailed, votedStoresFetching, votedStoresFetchSucceed, voteRemainingFetchFailed, voteRemainingFetching, voteRemainingFetchSucceed } from './voteAction';\nimport { getRemainingVotes, getStoresToVote, getStoreVotesCount, getVotedStores, postVote, VoteRequestBody } from '../../../services/votesApiService';\nimport { Merchant } from \"../../../bos_common/src/types/MerchantType\";\nimport { getToken } from '../auth/authSelector';\nimport { getAuthHeaders } from '../../../utils';\nimport { AxiosResponse } from 'axios';\nimport { merchantsFetchSucceed } from '../merchant/action';\nimport { PayloadAction } from '@reduxjs/toolkit';\nimport { fetchVoteCount as fetchVoteCountAction } from './voteAction';\nimport UserMerchantVote from \"../../../bos_common/src/types/UserMerchantVote\";\n\ninterface VoteCount {\n  merchantId: string;\n  voteCount: number;\n}\n\n// worker Saga: will be fired on USER_FETCH_REQUESTED actions\nfunction* fetchStoresToVote() {\n   try {\n      yield put(storesToVoteFetching());\n      const token: string = yield select(getToken);\n\n      const res: AxiosResponse<{data: Merchant[]}> = yield call(getStoresToVote, { headers: getAuthHeaders(token) });\n      const merchants = res.data.data;\n      const storesToVoteIds = res.data.data.map((item) => item.id);\n      \n      yield put(merchantsFetchSucceed(merchants));\n      yield put(storesToVoteFetchSucceed(storesToVoteIds));\n      yield put(fetchVoteCountAction(storesToVoteIds));\n      yield \n   } catch (e: any) {\n      console.error(e);\n      yield put(storesToVoteFetchFailed());\n   }\n}\n\nfunction* fetchVotedStores() {\n  try {\n    yield put(votedStoresFetching());\n    const token: string = yield select(getToken);\n\n    const res: AxiosResponse<{data: UserMerchantVote[]}> = yield call(getVotedStores, { headers: getAuthHeaders(token) });\n    const merchants = res.data.data.map((item) => item.merchant);\n    const votedStoreIds = merchants.map((item) => item.id);\n    \n    yield put(merchantsFetchSucceed(merchants));\n    yield put(votedStoresFetchSucceed(votedStoreIds));\n    yield put(fetchVoteCountAction(votedStoreIds));\n  } catch (e: any) {\n    console.error(e);\n    yield put(votedStoresFetchFailed());\n  }\n}\n\nfunction* fetchVoteCount(action: PayloadAction<string[]>) {\n  try {\n    yield put(voteCountFetching());\n    const token: string = yield select(getToken);\n\n    const res: AxiosResponse<{data: VoteCount[]}> = yield call(getStoreVotesCount, action.payload, { headers: getAuthHeaders(token) });\n    const counts = res.data.data;\n    const mappedIds = {}\n    counts.forEach((item: VoteCount) => mappedIds[item.merchantId] = item.voteCount);\n    \n    yield put(voteCountFetchSucceed(mappedIds));\n  } catch (e: any) {\n    console.error(e);\n    yield put(voteCountFetchFailed());\n  }\n}\n\nfunction* createVote(action: PayloadAction<VoteRequestBody>) {\n  try {\n     yield put(voteCreating());\n     const token: string = yield select(getToken);\n\n     const res: AxiosResponse<{data: UserMerchantVote}> = yield call(postVote, action.payload, { headers: getAuthHeaders(token) });\n     const createdVote = res.data.data;\n     \n     yield put(voteCreateSucceed(createdVote));\n     yield \n  } catch (e: any) {\n     console.error(e);\n     yield put(voteCreateFailed());\n  }\n}\n\nfunction* fetchVoteRemaining() {\n  try {\n     yield put(voteRemainingFetching());\n     const token: string = yield select(getToken);\n\n     const res: AxiosResponse<{voteRemaining: number}> = yield call(getRemainingVotes, { headers: getAuthHeaders(token) });\n     const voteRemaining = res.data.voteRemaining;\n     \n     yield put(voteRemainingFetchSucceed(voteRemaining));\n     yield \n  } catch (e: any) {\n     console.error(e);\n     yield put(voteRemainingFetchFailed());\n  }\n}\n\nfunction* voteSaga(): Generator {\n  yield all([\n    takeLatest(\"VOTE_FETCH_REQUESTED\", fetchStoresToVote),\n    takeLatest(\"STORES_TO_VOTE_FETCH_REQUESTED\", fetchStoresToVote),\n    takeLatest(\"VOTED_STORES_FETCH_REQUESTED\", fetchVotedStores),\n    takeLatest(\"VOTE_COUNT_FETCH_REQUESTED\", fetchVoteCount),\n    takeLatest(\"VOTE_CREATE_REQUESTED\", createVote),\n    takeLatest(\"VOTE_REMAINING_FETCH_REQUESTED\", fetchVoteRemaining),\n  ]);\n}\n\nexport default voteSaga;","import { all, call, spawn } from \"@redux-saga/core/effects\";\nimport authSaga from \"./slice/auth/authSaga\";\nimport voteSaga from \"./slice/vote/voteSaga\";\n\nexport default function* rootSaga(): Generator {\n  const sagas = [\n    authSaga,\n    voteSaga,\n  ];\n\n  yield all(sagas.map(saga =>\n    spawn(function* () {\n      while (true) {\n        try {\n          yield call(saga)\n          break\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }))\n  );\n}\n","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\n\nimport { AuthSliceStateEntities, AuthSliceState } from '../../../types/AuthSlice'\n\ntype AuthSliceCaseReducer = SliceCaseReducers<AuthSliceState>;\n\nexport const authSlice = createSlice<AuthSliceState, AuthSliceCaseReducer, string>({\n  name: 'auth',\n  initialState: {\n    loading: false,\n    entities: {\n      user: null,\n      token: '',\n    }\n  },\n  reducers: {\n    setLoadingAuth: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoadingAuth: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n\n    updateAuth: (state, action: PayloadAction<AuthSliceStateEntities>) => {\n      const { payload } = action;\n\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          ...payload,\n        }\n      }\n    },\n\n    resetAuth: (state) => {\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          user: null,\n          token: '',\n        }\n      }\n    }\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { setLoadingAuth, stopLoadingAuth, updateAuth, resetAuth } = authSlice.actions;\n\nexport default authSlice.reducer;\n","import authSlice from './authSlice'\n\nexport default authSlice;","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\nimport UserMerchantVote from \"../../../bos_common/src/types/UserMerchantVote\";\nimport { VoteSliceState, VoteSliceStateEntities } from '../../../types/VoteSlice';\n\ntype VoteSliceCaseReducer = SliceCaseReducers<VoteSliceState>;\n\nexport const voteSlice = createSlice<VoteSliceState, VoteSliceCaseReducer, string>({\n  name: 'vote',\n  initialState: {\n    loading: false,\n    entities: {\n      ids: [], \n      byId: {},\n      voteCount: {},\n      storesToVoteIds: [],\n      votedStoreIds: [],\n      voteRemaining: 0,\n    }\n  },\n  reducers: {\n    setLoadingVote: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoadingVote: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n\n    setUpdatingVote: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      return {\n        ...state,\n        updating: true\n      }\n    },\n\n    stopUpdatingVote: (state) => {\n      return {\n        ...state,\n        updating: false,\n      }\n    },\n\n    updateVote: (state, action: PayloadAction<VoteSliceStateEntities>) => {\n      const { payload } = action;\n\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          ...payload,\n        }\n      }\n    },\n\n    updateStoreToVoteIds: (state, action: PayloadAction<string[]>) => {\n      const { payload } = action;\n      const storesToVoteIds = [...state.entities.storesToVoteIds];\n\n      payload.forEach((id) => {\n        if (storesToVoteIds.indexOf(id) > -1) {\n          return;\n        }\n\n        storesToVoteIds.push(id);\n      });\n\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          ...state.entities, \n          storesToVoteIds: [...storesToVoteIds],\n        }\n      }\n    },\n\n    updateVotedStoreIds: (state, action: PayloadAction<string[]>) => {\n      const { payload } = action;\n      const votedStoreIds = [...state.entities.votedStoreIds];\n\n      payload.forEach((id) => {\n        if (votedStoreIds.indexOf(id) > -1) {\n          return;\n        }\n\n        votedStoreIds.push(id);\n      });\n\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          ...state.entities, \n          votedStoreIds: [...votedStoreIds],\n        }\n      }\n    },\n\n    updateVoteCount: (state, action: PayloadAction<{[key: string]: number}>) => {\n      const { payload } = action;\n\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          ...state.entities, \n          voteCount: {\n            ...state.entities.voteCount, \n            ...payload,\n          },\n        }\n      }\n    },\n\n    voteCreated: (state, action: PayloadAction<UserMerchantVote>) => {\n      const { merchant } = action.payload;\n      const { entities } = state;\n      const storesToVoteIds = [...entities.storesToVoteIds];\n      const votedStoreIds = [...entities.votedStoreIds];\n      const voteCount = {...entities.voteCount};\n      const voteRemaining = entities.voteRemaining - 1;\n\n      const merchantId = merchant as unknown as string;\n      const indexToRemove = storesToVoteIds.indexOf(merchantId);\n      votedStoreIds.push(merchantId);\n      storesToVoteIds.splice(indexToRemove, 1);\n      voteCount[merchantId] = 1;\n\n      return {\n        ...state,\n        loading: false,\n        entities: {\n          ...state.entities,\n          votedStoreIds,\n          storesToVoteIds,\n          voteCount,\n          voteRemaining,\n        }\n      }\n    },\n\n    updateVoteRemaining: (state, action: PayloadAction<number>) => {\n      return {\n        ...state,\n        entities: {\n          ...state.entities,\n          voteRemaining: action.payload,\n        }\n      }\n    }\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { \n  setLoadingVote, \n  stopLoadingVote, \n  updateVote, \n  updateStoreToVoteIds,\n  updateVotedStoreIds,\n  updateVoteCount,\n} = voteSlice.actions;\n\nexport default voteSlice.reducer;\n","import voteSlice from './voteSlice'\n\nexport default voteSlice;","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\nimport { WritableDraft } from '@reduxjs/toolkit/node_modules/immer/dist/internal';\nimport { Merchant } from \"../../../bos_common/src/types/MerchantType\";\n\nimport { MerchantReduxSlice, MerchantSliceState } from '../../../types/MerchantSlice';\nimport { fetchMerchant, searchMerchantByName } from './action';\n\ntype MerchantSliceCaseReducer = SliceCaseReducers<MerchantSliceState>;\n\nconst commonUpdate = (state: WritableDraft<MerchantReduxSlice>, action: PayloadAction<Merchant[]>): MerchantReduxSlice => {\n  let merchant: Merchant | undefined;\n  const { payload } = action;\n  const byId = { ...state.entities.byId }\n  const ids = [...state.entities.ids];\n  const byNameSearchParams = { ...state.entities.byNameSearchParams };\n\n  payload.forEach((item) => {\n    merchant = payload.find((subItem) => subItem.id === item.id);\n    if (merchant) {\n      byId[item.id] = merchant;\n    }\n\n    if (ids.indexOf(item.id) > -1) {\n      // Exit foreach\n      return;\n    }\n\n    ids.push(item.id);\n  });\n\n\n\n  if (state.currentSearchQuery) {\n    byNameSearchParams[state.currentSearchQuery] = payload.map((item: Merchant) => item.id);\n  }\n\n  return {\n    ...state,\n    loading: false,\n    entities: {\n      byId,\n      ids,\n      byNameSearchParams,\n    }\n  }\n}\n\nexport const merchantSlice = createSlice<MerchantSliceState, MerchantSliceCaseReducer, string>({\n  name: 'merchant',\n  initialState: {\n    loading: false,\n    entities: {\n      ids: [],\n      byId: {},\n      byNameSearchParams: {}\n    },\n    currentSearchQuery: '',\n    showRewardsEducationDrawer: false\n  },\n  reducers: {\n    setLoadingMerchant: (state) => {\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoadingMerchant: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n\n    updateMerchant: (state, action: PayloadAction<Merchant[]>) => {\n      const updatedState = commonUpdate(state, action);\n\n      return {\n        ...updatedState\n      }\n    },\n    updateCurrentSearchQuery: (state, action: PayloadAction<string>) => {\n      return {\n        ...state,\n        currentSearchQuery: action.payload\n      }\n    },\n    toggleShowEducationDrawer: (state, action: PayloadAction<boolean>) => {\n      return {\n        ...state,\n        showRewardsEducationDrawer: action.payload\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(searchMerchantByName.pending, (state) => {\n        return {\n          ...state,\n          loading: true\n        }\n      })\n      .addCase(searchMerchantByName.fulfilled, (state, action) => {\n        const updatedState = commonUpdate(state, action as PayloadAction<Merchant[]>);\n\n        return {\n          ...updatedState,\n        }\n      })\n      .addCase(searchMerchantByName.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      })\n      .addCase(fetchMerchant.pending, (state) => {\n        return {\n          ...state,\n          loading: true\n        }\n      })\n      .addCase(fetchMerchant.fulfilled, (state, action) => {\n        const updatedState = commonUpdate(state, action as PayloadAction<Merchant[]>);\n\n        return {\n          ...updatedState,\n        }\n      })\n      .addCase(fetchMerchant.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      });\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { setLoadingMerchant, stopLoadingMerchant, updateMerchant } = merchantSlice.actions;\n\nexport default merchantSlice.reducer;\n","import reducerSlice from './reducerSlice'\n\nexport default reducerSlice;","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../../bos_common/src/services/backendAxios\";\nimport { getAuthHeaders } from \"../../../utils\";\n\nexport const fetchUserPromotionEntries = createAsyncThunk(\n  'marketPlace/fetchUserPromotionEntries',\n  async (token: string) => {\n    const response = await axios.get('/users/promotions', { headers: getAuthHeaders(token) })\n    return response.data;\n  }\n);","import marketPlaceSlice from './marketPlaceSlice'\n\nexport default marketPlaceSlice;","import {\n  createSlice,\n  SliceCaseReducers\n} from '@reduxjs/toolkit'\nimport MarketPlaceSliceState from '../../../types/MarketPlaceSlice';\nimport { fetchUserPromotionEntries } from './marketPlaceAction';\n\ntype MarketPlaceSliceCaseReducer = SliceCaseReducers<MarketPlaceSliceState>;\n\nexport const marketPlaceSlice = createSlice<MarketPlaceSliceState, MarketPlaceSliceCaseReducer, string>({\n  name: 'marketPlace',\n  initialState: {\n    loading: false,\n    entities: {\n      userPromotionEntriesList: undefined,\n    }\n  },\n  reducers: {},\n  // reducers for the thunk actions\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUserPromotionEntries.fulfilled, (state, action) => {\n        return {\n          ...state,\n          loading: false,\n          entities: {\n            ...state.entities,\n            userPromotionEntriesList: action.payload,\n          }\n        }\n      })\n\n  },\n});\n\nexport default marketPlaceSlice.reducer;\n","import { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport axios from \"../bos_common/src/services/backendAxios\";\nimport { Review } from \"../bos_common/src/types/ReviewType\";\n\nexport interface ReviewRequestBody {\n  review: Partial<Review>,\n}\n\nexport const getReviewsForOrder = (orderId: string, request?: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: `/orders/${orderId}/reviews`,\n    method: 'GET',\n    headers: (request && request.headers) ? request.headers : {},\n  });\n}\n\nexport const postReview = (body: ReviewRequestBody, request?: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: '/reviews',\n    method: 'POST',\n    data: { ...body.review },\n    headers: (request && request.headers) ? request.headers : {},\n  });\n}\n\nexport default {\n  getReviewsForOrder,\n  postReview,\n}\n","import { createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { Review } from \"../../../bos_common/src/types/ReviewType\";\nimport { getReviewsForOrder, postReview } from \"../../../services/reviewsApiService\";\nimport { getAuthHeaders } from \"../../../utils\";\nimport { RootState } from \"../../store\";\nimport { getToken } from \"../auth/authSelector\";\n\nexport const reviewsFetching = createAction('review/setLoading');\n\nexport const reviewsFetchSucceed = createAction<Review[]>('review/updateReview');\n\nexport const reviewsFetchFailed = createAction('review/stopLoading');\n\nexport const hideEarnRewardsDrawerUI = createAction('review/hideEarnRewards');\n\nexport const showEarnRewardsDrawerUI = createAction('review/showEarnRewards');\n\nexport const fetchReviewsForOrder = createAsyncThunk(\n  'review/fetchReviewForOrder',\n  async (orderId: string, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await getReviewsForOrder(orderId, { headers: getAuthHeaders(token) });\n    return response.data;\n  }\n);\n\nexport const createReview = createAsyncThunk(\n  'review/createReview',\n  async (review: Partial<Review>, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await postReview({ review }, { headers: getAuthHeaders(token) });\n    return [response.data];\n  }\n);\n","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\nimport { WritableDraft } from '@reduxjs/toolkit/node_modules/immer/dist/internal';\nimport { Order } from '../../../bos_common/src/types/OrderTypes';\nimport { Review } from \"../../../bos_common/src/types/ReviewType\";\n\nimport { ReviewSliceState } from '../../../types/ReviewSlice';\nimport { createReview, fetchReviewsForOrder } from './reviewAction';\n\ntype ReviewSliceCaseReducer = SliceCaseReducers<ReviewSliceState>;\n\nconst commonUpdate = (state: WritableDraft<ReviewSliceState>, action: PayloadAction<Review[]>): ReviewSliceState => {\n  let review: Review | undefined;\n  let order: Order;\n  const { payload } = action;\n  const byId = { ...state.entities.byId }\n  const ids = [...state.entities.ids];\n  const byOrder = {...state.entities.byOrder};\n  // const orderIds: Set<string> = new Set<string>(payload.map((item) => item.order.id));\n\n  payload.forEach((item) => {\n    review = payload.find((subItem) => subItem.id === item.id);\n    order = item.order as Order;\n\n    if (review) {\n      byId[item.id] = review;\n    }\n\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id);\n    }\n\n    if (!byOrder[order.id]) {\n      byOrder[order.id] = [];\n    }\n\n    if (byOrder[order.id].indexOf(item.id) === -1) {\n      byOrder[order.id] = [...(byOrder[order.id] || []), item.id];\n    }\n\n  });\n\n  return {\n    ...state,\n    loading: false,\n    entities: {\n      byId, \n      ids,\n      byOrder,\n    }\n  }\n}\n\nexport const reviewSlice = createSlice<ReviewSliceState, ReviewSliceCaseReducer, string>({\n  name: 'review',\n  initialState: {\n    loading: false,\n    entities: {\n      ids: [], \n      byId: {},\n      byOrder: {},\n    },\n    ui: {\n      earnRewardsShown: false,\n    }\n  },\n  reducers: {\n    setLoading: (state) => {\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoading: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n\n    updateReview: (state, action: PayloadAction<Review[]>) => {\n      const updatedState = commonUpdate(state, action);\n\n      return {\n        ...updatedState\n      }\n    },\n\n    setUpdating: (state) => {\n      return {\n        ...state,\n        updating: true,\n      }\n    },\n\n    stopUpdating: (state) => {\n      return {\n        ...state,\n        updating: false,\n      }\n    },\n    showEarnRewards: (state) => {\n      return {\n        ...state,\n        ui: {\n          earnRewardsShown: true\n        }\n      }\n    },\n    hideEarnRewards: (state) => {\n      return {\n        ...state,\n        ui: {\n          earnRewardsShown: false\n        }\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // fetchReviewsForOrder\n      .addCase(fetchReviewsForOrder.pending, (state) => {\n        return {\n          ...state,\n          loading: true\n        }\n      })\n      .addCase(fetchReviewsForOrder.fulfilled, (state, action) => {\n        const updatedState = commonUpdate(state, action as PayloadAction<Review[]>);\n\n        return {\n          ...updatedState,\n        }\n      })\n      .addCase(fetchReviewsForOrder.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      })\n      // createReview\n      .addCase(createReview.pending, (state) => {\n        return {\n          ...state,\n          updating: true\n        }\n      })\n      .addCase(createReview.fulfilled, (state, action) => {\n        const updatedState = commonUpdate(state, action as PayloadAction<Review[]>);\n\n        return {\n          ...updatedState,\n          updating: false,\n        }\n      })\n      .addCase(createReview.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      });\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { \n  setLoading, \n  stopLoading, \n  updateReview, \n  setUpdating, \n  stopUpdating, \n  showEarnRewards, \n  hideEarnRewards\n} = reviewSlice.actions;\n\nexport default reviewSlice.reducer;\n","import reviewSlice from './reducerSlice'\n\nexport default reviewSlice;\n","import { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport axios from \"../bos_common/src/services/backendAxios\";\n\nexport interface VoteRequestBody {\n  merchant: string;\n}\n\nexport const getOrder = (id: string, request?: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: `/orders/${id}`,\n    method: 'GET',\n    headers: (request && request.headers) ? request.headers : {},\n  });\n}\n\nexport default {\n  getOrder,\n}\n","import { createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { Order } from \"../../../bos_common/src/types/OrderTypes\";\nimport { getOrder } from \"../../../services/ordersApiService\";\nimport { getAuthHeaders } from \"../../../utils\";\nimport { RootState } from \"../../store\";\nimport { getToken } from \"../auth/authSelector\";\n\nexport const ordersFetching = createAction('order/setLoading');\n\nexport const ordersFetchSucceed = createAction<Order[]>('order/updateOrder');\n\nexport const ordersFetchFailed = createAction('order/stopLoading');\n\nexport const fetchOrderDetail = createAsyncThunk(\n  'review/fetchOrderDetail',\n  async (id: number, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await getOrder(String(id), { headers: getAuthHeaders(token) });\n    return [response.data];\n  }\n);\n","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\nimport { WritableDraft } from '@reduxjs/toolkit/node_modules/immer/dist/internal';\nimport { Order } from '../../../bos_common/src/types/OrderTypes';\n\nimport { OrderSliceState } from '../../../types/OrderSlice';\nimport { fetchOrderDetail } from './orderAction';\n\ntype OrderSliceCaseReducer = SliceCaseReducers<OrderSliceState>;\n\nconst commonUpdate = (state: WritableDraft<OrderSliceState>, action: PayloadAction<Order[]>): OrderSliceState => {\n  let tempRef: Order | undefined;\n  const { payload } = action;\n  const byId = { ...state.entities.byId }\n  const ids = [...state.entities.ids];\n\n  payload.forEach((item) => {\n    tempRef = payload.find((subItem) => subItem.id === item.id);\n    if (tempRef) {\n      byId[item.id] = tempRef;\n    }\n\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id);\n    }\n\n  });\n\n  return {\n    ...state,\n    loading: false,\n    entities: {\n      byId, \n      ids,\n    }\n  }\n}\n\nexport const orderSlice = createSlice<OrderSliceState, OrderSliceCaseReducer, string>({\n  name: 'order',\n  initialState: {\n    loading: false,\n    entities: {\n      ids: [], \n      byId: {},\n    },\n  },\n  reducers: {\n    setLoading: (state) => {\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoading: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n\n    updateOrder: (state, action: PayloadAction<Order[]>) => {\n      const updatedState = commonUpdate(state, action);\n\n      return {\n        ...updatedState\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchOrderDetail.pending, (state) => {\n        return {\n          ...state,\n          loading: true\n        }\n      })\n      .addCase(fetchOrderDetail.fulfilled, (state, action) => {\n        const updatedState = commonUpdate(state, action as PayloadAction<Order[]>);\n\n        return {\n          ...updatedState,\n        }\n      })\n      .addCase(fetchOrderDetail.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      });\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const { setLoading, stopLoading, updateOrder } = orderSlice.actions;\n\nexport default orderSlice.reducer;\n","import orderSlice from './reducerSlice'\n\nexport default orderSlice;\n","import { AxiosRequestConfig } from \"axios\";\nimport axios from \"../bos_common/src/services/backendAxios\";\n\nexport const getMerchantPromotions = (merchantId: string, request?: AxiosRequestConfig): Promise<AxiosRequestConfig> => {\n  return axios({\n    url: `/merchants/${merchantId}/promotions`,\n    method: 'GET',\n    headers: request?.headers || {},\n  });\n}\n\nexport default {\n  getMerchantPromotions,\n}\n","import { createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { MerchantPromotion } from \"../../../bos_common/src/types/MerchantPromotionType\";\nimport { getMerchantPromotions } from \"../../../services/merchantPromotionsApiService\";\nimport { getAuthHeaders } from \"../../../utils\";\nimport { RootState } from \"../../store\";\nimport { getToken } from \"../auth/authSelector\";\n\nexport const merchantPromotionFetching = createAction('merchantPromotion/setLoading');\n\nexport const merchantPromotionFetchSucceed = createAction<MerchantPromotion[]>('merchantPromotion/updateMerchantPromotion');\n\nexport const merchantPromotionFetchFailed = createAction('merchantPromotion/stopLoading');\n\nexport const fetchMerchantPromotion = createAsyncThunk(\n  'merchantPromotion/fetchMerchantPromotion',\n  async (merchantId: string, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await getMerchantPromotions(merchantId, { headers: getAuthHeaders(token) });\n    return response.data;\n  }\n);\n","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\nimport { WritableDraft } from '@reduxjs/toolkit/node_modules/immer/dist/internal';\nimport { Order } from '../../../bos_common/src/types/OrderTypes';\nimport { MerchantPromotion } from \"../../../bos_common/src/types/MerchantPromotionType\";\n\nimport { MerchantPromotionReduxSlice, MerchantPromotionSliceStateEntities } from '../../../types/MerchantPromotionSlice';\nimport { fetchMerchantPromotion } from './merchantPromotionAction';\n\ntype MerchantPromotionSliceCaseReducer = SliceCaseReducers<MerchantPromotionReduxSlice>;\n\nconst commonUpdate = (state: WritableDraft<MerchantPromotionReduxSlice>, action: PayloadAction<MerchantPromotion[]>): MerchantPromotionReduxSlice => {\n  let promotion: MerchantPromotion | undefined;\n  const { payload } = action;\n  const byId = { ...state.entities.byId }\n  const ids = [...state.entities.ids];\n\n  payload.forEach((item) => {\n    promotion = payload.find((subItem) => subItem.id === item.id);\n\n    if (promotion) {\n      byId[item.id] = promotion;\n    }\n\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id);\n    }\n  });\n\n  return {\n    ...state,\n    loading: false,\n    entities: {\n      byId,\n      ids,\n    }\n  }\n}\n\nexport const merchantPromotionSlice = createSlice<MerchantPromotionReduxSlice, MerchantPromotionSliceCaseReducer, string>({\n  name: 'merchantPromotion',\n  initialState: {\n    loading: false,\n    entities: {\n      ids: [],\n      byId: {},\n    },\n  },\n  reducers: {\n    setLoading: (state) => {\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoading: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchMerchantPromotion.pending, (state) => {\n        return {\n          ...state,\n          loading: true\n        }\n      })\n      .addCase(fetchMerchantPromotion.fulfilled, (state, action) => {\n        const updatedState = commonUpdate(state, action as PayloadAction<MerchantPromotion[]>);\n\n        return {\n          ...updatedState,\n        }\n      })\n      .addCase(fetchMerchantPromotion.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      })\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  setLoading,\n  stopLoading,\n  updateMerchantPromotion,\n} = merchantPromotionSlice.actions;\n\nexport default merchantPromotionSlice.reducer;\n","import merchantPromotionSlice from './reducerSlice'\n\nexport default merchantPromotionSlice;\n","import { AxiosRequestConfig, AxiosResponse } from \"axios\";\nimport axios from \"../bos_common/src/services/backendAxios\";\n\nexport const getUserPaymentMethods = (request?: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: \"/user/stripe/payment-methods\",\n    method: 'GET',\n    headers: (request && request.headers) ? request.headers : {},\n  });\n}\n\nexport const updateUserPaymentMethod = (id: string, request?: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: `/user/stripe/payment-methods/${id}`,\n    method: 'PATCH',\n    headers: (request && request.headers) ? request.headers : {},\n  });\n}\n\nexport const createSetupIntent = (request?: AxiosRequestConfig): Promise<AxiosResponse> => {\n  return axios({\n    url: `/user/stripe/setup-intent`,\n    method: 'POST',\n    headers: (request && request.headers) ? request.headers : {},\n  });\n}\n\nexport default {\n  updateUserPaymentMethod,\n  getUserPaymentMethods,\n  createSetupIntent,\n}\n","import { createAction, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { SetupIntent, Stripe, StripeCardElement, StripeError } from \"@stripe/stripe-js\";\nimport stripeApiService from \"../../../services/stripeApiService\";\nimport { getAuthHeaders, isEmptyOrNil } from \"../../../utils\";\nimport { RootState } from \"../../store\";\nimport { getToken } from \"../auth/authSelector\";\n\n\ninterface CreatePaymentMethodActionParams {\n  stripe: Stripe;\n  card: StripeCardElement;\n  name: string\n}\n\nexport const setupIntentCreateSucceed = createAction<SetupIntent>('stripe/updateSetupIntent');\n\nexport const setupIntentCreateFailed = createAction<StripeError>('stripe/createPaymentMethod/rejected');\n\nexport const fetchUserPaymentMethods = createAsyncThunk(\n  'stripe/fetchUserPaymentMethods',\n  async (_, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const response = await stripeApiService.getUserPaymentMethods({ headers: getAuthHeaders(token) });\n    return response.data.data;\n  }\n);\n\nexport const createPaymentMethod = createAsyncThunk(\n  'stripe/createPaymentMethod',\n  async (params: CreatePaymentMethodActionParams, thunkAPI) => {\n    const { stripe, card, name } = params;\n    const state: RootState = thunkAPI.getState() as RootState;\n    const token = getToken(state);\n    const resSetupIntent = await stripeApiService.createSetupIntent({ headers: getAuthHeaders(token) });\n    const { setupIntent, error } = await stripe.confirmCardSetup(resSetupIntent?.data.client_secret, {\n      payment_method: {\n        card: card,\n        billing_details: {\n          name,\n        },\n      }\n    });\n\n    if (error) {\n      console.error(error);\n      // return thunkAPI.dispatch(setupIntentCreateFailed(error));\n      throw new Error(error.message);\n    }\n\n    if (setupIntent) {\n      thunkAPI.dispatch(setupIntentCreateSucceed(setupIntent));\n    }\n\n    if (!setupIntent?.payment_method) {\n      throw new Error(\"payment_method is undefined\");\n    }\n\n    const resPaymentMethod = await stripeApiService.updateUserPaymentMethod(setupIntent?.payment_method, { headers: getAuthHeaders(token) });\n\n    return [resPaymentMethod.data];\n  }\n);\n","import { createSlice, PayloadAction, SliceCaseReducers } from '@reduxjs/toolkit'\nimport { WritableDraft } from '@reduxjs/toolkit/node_modules/immer/dist/internal';\nimport { PaymentMethod, SetupIntent } from '@stripe/stripe-js';\n\nimport { StripeSliceState } from '../../../types/StripeSlice';\nimport { createPaymentMethod, fetchUserPaymentMethods } from './stripeAction';\n\ntype UserSliceCaseReducer = SliceCaseReducers<StripeSliceState>;\n\nconst updatePaymentMethods = (state: WritableDraft<StripeSliceState>, action: PayloadAction<PaymentMethod[]>): StripeSliceState => {\n  let paymentMethod: PaymentMethod | undefined;\n  const { payload } = action;\n  const stripePaymentMethods = { ...state.entities.stripePaymentMethods };\n\n  payload.forEach((item) => {\n    paymentMethod = payload.find((subItem) => subItem.id === item.id);\n\n    if (paymentMethod) {\n      stripePaymentMethods[item.id] = paymentMethod;\n    }\n  });\n\n  return {\n    ...state,\n    loading: false,\n    entities: {\n      ...state.entities,\n      stripePaymentMethods\n    }\n  }\n}\n\nexport const stripeSlice = createSlice<StripeSliceState, UserSliceCaseReducer, string>({\n  name: 'stripe',\n  initialState: {\n    loading: false,\n    entities: {\n      stripePaymentMethods: {},\n      setupIntent: undefined,\n    },\n  },\n  reducers: {\n    setLoading: (state) => {\n      return {\n        ...state,\n        loading: true\n      }\n    },\n\n    stopLoading: (state) => {\n      return {\n        ...state,\n        loading: false\n      }\n    },\n\n    updatePaymentMethod: (state, action: PayloadAction<PaymentMethod[]>) => {\n      const updatedState = updatePaymentMethods(state, action);\n\n      return {\n        ...updatedState\n      }\n    },\n\n    setUpdating: (state) => {\n      return {\n        ...state,\n        updating: true,\n      }\n    },\n\n    stopUpdating: (state) => {\n      return {\n        ...state,\n        updating: false,\n      }\n    },\n\n    updateSetupIntent: (state, action: PayloadAction<SetupIntent>) => {\n      return {\n        ...state,\n        entities: {\n          ...state.entities,\n          setupIntent: action.payload,\n        }\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // fetchUserPaymentMethods\n      .addCase(fetchUserPaymentMethods.pending, (state) => {\n        return {\n          ...state,\n          loading: true\n        }\n      })\n      .addCase(fetchUserPaymentMethods.fulfilled, (state, action) => {\n        const updatedState = updatePaymentMethods(state, action as PayloadAction<PaymentMethod[]>);\n\n        return {\n          ...updatedState,\n        }\n      })\n      .addCase(fetchUserPaymentMethods.rejected, (state) => {\n        return {\n          ...state,\n          loading: false,\n        }\n      })\n      .addCase(createPaymentMethod.pending, (state) => {\n        return ({\n          ...state,\n          updating: true,\n        });\n      })\n      .addCase(createPaymentMethod.fulfilled, (state, action) => {\n        const updatedState = updatePaymentMethods(state, action as PayloadAction<PaymentMethod[]>);\n\n        return ({\n          ...updatedState,\n          updating: false,\n        })\n      })\n      .addCase(createPaymentMethod.rejected, (state, action) => {\n\n        return ({\n          ...state,\n          updating: false,\n        })\n      });\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  setLoading,\n  stopLoading,\n  updatePaymentMethod,\n  setUpdating,\n  stopUpdating,\n} = stripeSlice.actions;\n\nexport default stripeSlice.reducer;\n","import stripeSlice from './reducerSlice';\n\nexport default stripeSlice;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport logger from \"redux-logger\";\nimport thunk from \"redux-thunk\";\nimport createSagaMiddleware from \"@redux-saga/core\";\nimport rootSaga from \"./rootSaga\";\nimport authReducer from \"./slice/auth\";\nimport voteReducer from \"./slice/vote\";\nimport merchantReducer from \"./slice/merchant\";\nimport marketPlaceReducer from \"./slice/marketPlace\";\nimport reviewReducer from \"./slice/review\";\nimport orderReducer from \"./slice/order\";\nimport merchantPromotionReducer from \"./slice/merchantPromotion\";\nimport stripeReducer from \"./slice/stripe\";\nimport { isProduction } from \"../utils\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = configureStore({\n  reducer: {\n    auth: authReducer,\n    vote: voteReducer,\n    marketPlace: marketPlaceReducer,\n    merchant: merchantReducer,\n    review: reviewReducer,\n    order: orderReducer,\n    merchantPromotion: merchantPromotionReducer,\n    stripe: stripeReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    isProduction()\n      ? getDefaultMiddleware().concat(thunk).concat(sagaMiddleware)\n      : getDefaultMiddleware().concat(thunk).concat(sagaMiddleware).concat(logger)\n})\n\n// NOTE: Use Redux Thunk instead of Redux Saga for next and future features.\nsagaMiddleware.run(rootSaga);\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import { WebAuth } from \"auth0-js\";\nimport { Auth0User, User } from \"../types/UserTypes\";\nimport { createHash } from 'crypto';\nimport axios from './backendAxios';\nimport { AxiosResponse } from \"axios\";\n\nexport enum LOCALSTORAGE_AUTH_KEYS {\n  NONCE = 'auth-nonce',\n  STATE = 'auth-state',\n  LAST_TIME = 'auth-last-time-sms',\n  PHONE_HASH = 'phone-no-hash',\n  EMAIL_HASH = 'email-addr-hash',\n  USER_JWT_TOKEN = 'user-jwt-token',\n  MERCHANT_DEVICE_AUTH_TOKEN = 'merchant-device-auth-token'\n}\n\n// auth state cached locally\nexport interface AuthLocalCachedState {\n  nonce?: string\n  state?: string\n  token?: string\n}\n\n// auth meta cached locally, non-critical data\nexport interface AuthLocalCachedMeta {\n  lastTimeSMS?: number,\n  phoneHashArray?: string[],\n  emailHashArray?: string[],\n}\n\nexport interface AuthResultData {\n  user: User\n  token: string\n}\n\n// Base on Auth0, client id is public information, so no need to encrypt here.\n// https://auth0.com/docs/applications/application-settings\nconst domain = 'login.1m.app'\nexport const auth0 = new WebAuth({\n  domain: domain,\n  clientID: 'RpXvnwcppfG17ZPCsl2I2Hf9xTPr8yTQ',\n  redirectUri: window.location.origin + \"/callback\",\n  responseType: 'token id_token',\n  scope: 'openid phone',\n})\n\nexport const storeAuthMeta = (lastTimeSMS?: number, phoneNumber?: string, email?: string): void => {\n  lastTimeSMS && localStorage.setItem(LOCALSTORAGE_AUTH_KEYS.LAST_TIME, String(lastTimeSMS))\n  const phoneNumberHash = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.PHONE_HASH)\n  const phoneHashArr = phoneNumberHash?.split('|') || []\n  const emailNumberHash = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.EMAIL_HASH)\n  const emailHashArr = emailNumberHash?.split('|') || []\n  if (phoneNumber) {\n    const hash = createHash('sha256')\n    hash.update(phoneNumber)\n    const hex = hash.digest('hex')\n    if (phoneHashArr.indexOf(hex) === -1) {\n      phoneHashArr.unshift(hex)\n      localStorage.setItem(LOCALSTORAGE_AUTH_KEYS.PHONE_HASH, phoneHashArr.slice(0, 5).join('|'))\n    }\n  }\n\n  if (email) {\n    const hash = createHash('sha256')\n    hash.update(email)\n    const hex = hash.digest('hex')\n    if (emailHashArr.indexOf(hex) === -1) {\n      emailHashArr.unshift(hex)\n      localStorage.setItem(LOCALSTORAGE_AUTH_KEYS.EMAIL_HASH, emailHashArr.slice(0, 5).join('|'))\n    }\n  }\n}\n\nexport const getAuthMeta = (): AuthLocalCachedMeta => {\n  const lastTimeSMS = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.LAST_TIME) || ''\n  const phoneNumberHash = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.PHONE_HASH)\n  const phoneHashArr = phoneNumberHash?.split('|') || []\n  const emailAddrHash = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.EMAIL_HASH)\n  const emailHashArr = emailAddrHash?.split('|') || []\n  return {\n    lastTimeSMS: lastTimeSMS ? +lastTimeSMS : undefined,\n    phoneHashArray: phoneHashArr,\n    emailHashArray: emailHashArr,\n  }\n}\n\nexport const isPhoneNumberCached = (phoneHashArr: string[], phoneNumber: string): boolean => {\n  const hash = createHash('sha256')\n  hash.update(phoneNumber)\n  const hex = hash.digest('hex')\n  if (phoneHashArr.indexOf(hex) !== -1) {\n    return true\n  }\n  return false\n}\n\nexport const isEmailAddressCached = (emailHashArr: string[], email: string): boolean => {\n  const hash = createHash('sha256')\n  hash.update(email)\n  const hex = hash.digest('hex')\n  if (emailHashArr.indexOf(hex) !== -1) {\n    return true\n  }\n  return false\n}\n\nexport const storeAuthState = (input: AuthLocalCachedState): void => {\n  const nonce = input?.nonce || ''\n  const state = input?.state || ''\n  const token = input?.token || ''\n  localStorage.setItem(LOCALSTORAGE_AUTH_KEYS.NONCE, nonce)\n  localStorage.setItem(LOCALSTORAGE_AUTH_KEYS.STATE, state)\n  localStorage.setItem(LOCALSTORAGE_AUTH_KEYS.USER_JWT_TOKEN, token)\n}\n\nexport const getAuthState = (): AuthLocalCachedState => {\n  const nonce = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.NONCE) || ''\n  const state = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.STATE) || ''\n  const token = localStorage.getItem(LOCALSTORAGE_AUTH_KEYS.USER_JWT_TOKEN) || ''\n\n  return {\n    nonce,\n    state,\n    token,\n  }\n}\n\nexport const removeAuthState = (): void => {\n  localStorage.removeItem(LOCALSTORAGE_AUTH_KEYS.NONCE)\n  localStorage.removeItem(LOCALSTORAGE_AUTH_KEYS.STATE)\n  localStorage.removeItem(LOCALSTORAGE_AUTH_KEYS.USER_JWT_TOKEN)\n}\n\nexport function extractJWT(authorization: string): string | undefined {\n  let token: string | undefined;\n\n  if (authorization.includes(\"JWT\")) {\n    token = authorization.slice(4);\n  }\n\n  if (authorization.includes(\"Bearer\")) {\n    token = authorization.slice(7);\n  }\n\n  return token;\n}\n\nexport function getJWTTokenFromHeader(\n  response: AxiosResponse\n): {\n  token?: string;\n} {\n  const authorization = response.headers.authorization;\n  let token: string | undefined;\n  if (authorization) {\n    token = extractJWT(authorization);\n  }\n\n  return {\n    token,\n  };\n}\n\nexport const loginWithAuth0Token = async (token: string, user?: Auth0User): Promise<AuthResultData|undefined> => {\n  const response = await axios.post<User>('/login', {\n    token,\n    authMethod: 'auth0',\n    payload: user,\n  })\n\n  const { token: newToken } = getJWTTokenFromHeader(response)\n  if (response.status === 200) {\n    return { user: response.data, token: newToken || '' }\n  } else {\n    return undefined\n  }\n}\n\nexport const logout = (logoutURL: string, returnTo?: string) => {\n  removeAuthState()\n  if (returnTo) {\n    const searchParams = new URLSearchParams()\n    searchParams.append(\"to\", returnTo)\n    auth0.logout({\n      returnTo: logoutURL + '?' + searchParams.toString(),\n    })\n  } else {\n    auth0.logout({\n      returnTo: logoutURL,\n    })\n  }\n}\n","export const MERCHANT_EXPENSE_LEVELS = [\n  {\n    label: 'Under $10',\n    value: 1\n  }, {\n    label: '$10 to $30',\n    value: 10\n  }, {\n    label: '$30 to $60',\n    value: 30\n  }, {\n    label: '$60+',\n    value: 60\n  },\n]\n\nexport enum LOCALSTORAGE_APP_KEYS {\n  USER_PHONE_NUMBER = 'user-phone-number',\n  USER_DISPLAY_NAME = 'user-display-name',\n}","import React, { SetStateAction } from \"react\";\nimport { User } from \"../types/UserTypes\";\n\nexport interface UserContextState {\n  user?: User\n  token: string\n  // store login state in memory only\n  setLoginState: (u: User | undefined, t: string | undefined) => void\n  authenticating: boolean\n  setAuthenticating: (l: boolean) => void\n  loading: boolean\n  setLoading: (l: boolean) => void\n  refreshUser: () => void,\n  updateUserPicture: (picture: string)=>void\n}\n\nexport const UserContext = React.createContext<UserContextState>({\n  token: '',\n  setLoginState: (u: User | undefined, t: string | undefined) => ({}),\n  authenticating: false,\n  setAuthenticating: (value: SetStateAction<boolean>) => ({}),\n  loading: false,\n  setLoading: (value: SetStateAction<boolean>) => ({}),\n  refreshUser: () => ({}),\n  updateUserPicture: (picture: string) => ({})\n})","import React, { useContext, useState, useEffect } from \"react\";\nimport { Alert, CardContent, LinearProgress } from \"@material-ui/core\";\nimport { auth0, AuthResultData, loginWithAuth0Token, storeAuthMeta, storeAuthState } from \"../services/auth0\";\nimport { useHistory } from \"react-router-dom\";\nimport { FullscreenPaper } from \"../components/Papers\";\nimport { UserContext } from \"../context/UserContext\";\nimport { LOCALSTORAGE_APP_KEYS } from \"../constants\";\n\nconst CallbackPage = (): React.ReactElement => {\n  const history = useHistory()\n  const [errorMsg, setErrorMsg] = useState<string>()\n  const { user, setLoginState, authenticating, setAuthenticating } = useContext(UserContext)\n\n  useEffect(() => {\n    if (window.location.hash) {\n      setAuthenticating(true)\n      auth0.parseHash({ hash: window.location.hash }, function (err, authResult) {\n        if (authResult) {\n          storeAuthState({ nonce: authResult.idTokenPayload?.nonce, state: authResult.state })\n          if (authResult.idTokenPayload && authResult.idToken) {\n            const cachedDisplayName = sessionStorage.getItem(LOCALSTORAGE_APP_KEYS.USER_DISPLAY_NAME);\n            const userPayload = { ...authResult.idTokenPayload, ...(cachedDisplayName && {'name': cachedDisplayName})}\n            loginWithAuth0Token(authResult.idToken, userPayload).then((data: AuthResultData | undefined) => {\n              setLoginState(data?.user, data?.token)\n              storeAuthMeta(undefined, data?.user?.phoneNumber)\n              setAuthenticating(false)\n              if (authResult.state) {\n                const [authState, hash = 'openDrawer'] = authResult.state.split('#')\n                history.replace({ pathname: authState, hash })\n              }\n            }).catch((err) => {\n              setErrorMsg(err.message)\n              setAuthenticating(false)\n            })\n          } else {\n            setAuthenticating(false)\n          }\n          // if (authResult.accessToken) {\n          //   auth0.client.userInfo(authResult.accessToken, function(err, user) {\n          //   });\n          // }\n        } else {\n          setAuthenticating(false)\n          if (user) {\n            history.replace({ pathname: '/', hash: 'openDrawer' })\n          } else {\n            history.replace({ pathname: '/login' })\n          }\n        }\n      });\n    }\n  }, [])\n\n  return (\n    <FullscreenPaper>\n      {authenticating && <LinearProgress />}\n      <CardContent>\n        {authenticating &&\n          <Alert severity='info'>Logging in...</Alert>\n        }\n        {!authenticating && (\n          <>\n            {user && <Alert severity='success'>You have been logged in and will be redirected back to the store momentarily...</Alert>}\n            {/* {!user &&\n            <Redirect to={{\n              pathname: '/login',\n              state: { errorMessage: errorMsg },\n            }} />\n          } */}\n          </>\n        )}\n      </CardContent>\n    </FullscreenPaper>\n  )\n}\n\nexport default CallbackPage","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 71,\n    height: 70,\n    viewBox: \"0 0 71 70\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 14.6948C0 10.7975 1.5482 7.05982 4.30401 4.30401C7.05981 1.5482 10.7975 0 14.6948 0H55.3127C59.21 0 62.9477 1.5482 65.7035 4.30401C68.4593 7.05982 70.0075 10.7975 70.0075 14.6948V55.3052C70.0075 59.2025 68.4593 62.9402 65.7035 65.696C62.9477 68.4518 59.21 70 55.3127 70H14.6948C10.7975 70 7.05981 68.4518 4.30401 65.696C1.5482 62.9402 0 59.2025 0 55.3052V14.6948Z\",\n    fill: \"#E34D28\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M32.905 11.6917C33.0651 11.6897 33.2239 11.7196 33.3722 11.7798C33.5205 11.8401 33.6553 11.9293 33.7687 12.0423C33.8821 12.1553 33.9717 12.2899 34.0324 12.438C34.0931 12.5862 34.1235 12.7449 34.122 12.905V45.4897C34.1235 45.6498 34.0931 45.8085 34.0324 45.9567C33.9717 46.1048 33.8821 46.2393 33.7687 46.3523C33.6553 46.4653 33.5205 46.5546 33.3722 46.6149C33.2239 46.6751 33.0651 46.705 32.905 46.703H25.3202C24.8985 46.7035 24.4808 46.6208 24.0911 46.4597C23.7014 46.2985 23.3473 46.0621 23.0491 45.7639C22.7509 45.4657 22.5145 45.1115 22.3533 44.7218C22.1922 44.3321 22.1095 43.9144 22.11 43.4927V36.1981C22.1115 36.0381 22.081 35.8792 22.0203 35.7311C21.9597 35.583 21.87 35.4485 21.7567 35.3355C21.6433 35.2224 21.5085 35.1332 21.3602 35.073C21.2119 35.0128 21.053 34.9829 20.8929 34.9849C16.7482 35.0339 13.7339 35.0338 12.6262 35.0338C12.4217 35.0559 12.215 35.0336 12.0199 34.9686C11.8249 34.9036 11.6461 34.7973 11.4958 34.657C11.351 34.4937 11.2452 34.2996 11.1865 34.0895C11.1277 33.8793 11.1175 33.6585 11.1567 33.4438C11.162 33.3055 11.1946 33.1698 11.2529 33.0443C11.3111 32.9188 11.3937 32.8061 11.4958 32.7128L32.0685 12.0949C32.163 11.963 32.2891 11.8569 32.4353 11.7865C32.5814 11.716 32.743 11.6835 32.905 11.6917ZM37.6224 34.5628C37.1448 34.53 36.6736 34.6871 36.3112 34.9999C36.0842 35.2273 35.9099 35.5017 35.8006 35.8038C35.6912 36.1058 35.6494 36.4283 35.6782 36.7482C35.6782 43.3157 35.6782 49.9358 35.6292 56.492C35.6333 56.766 35.718 57.0328 35.8725 57.2592C36.0271 57.4855 36.2448 57.6614 36.4986 57.765C36.7523 57.8686 37.0309 57.8953 37.2998 57.8418C37.5686 57.7883 37.8157 57.657 38.0105 57.4641L58.6284 36.7407C58.7619 36.603 58.8624 36.4368 58.9223 36.2546C59.0045 35.966 58.9873 35.6581 58.8733 35.3804C58.7665 35.1579 58.6016 34.9684 58.396 34.8318C58.1904 34.6952 57.9518 34.6166 57.7053 34.6043C46.9592 34.5968 39.0316 34.5628 37.6224 34.5628Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.d757706f.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\n\nconst CopyrightPolicyPage = () => {\n  window.location.assign(\"https://1m-help-docs.s3.us-west-1.amazonaws.com/copyright-policy.html\")\n  return null\n}\n\nexport default CopyrightPolicyPage","import React, { useEffect, useState } from 'react';\n// src\nimport { auth0, AuthResultData, getAuthState, loginWithAuth0Token } from '../services/auth0';\nimport { UserContext } from './UserContext';\nimport { User } from '../types/UserTypes';\nimport axios from \"../services/backendAxios\";\nimport { getAuthHeaders } from '..';\nimport { LOCALSTORAGE_APP_KEYS } from '../constants';\n\n\nconst UserContextProvider = (props: {\n  children: React.ReactNode,\n  skipLogin?: boolean,    // only used for running the web in an native wrapper\n}): React.ReactElement => {\n\n  const [user, setUser] = useState<User>()\n  const [token, setToken] = useState<string>('')\n  const [userLoading, setUserLoading] = useState<boolean>(false)\n  const [authenticating, setAuthenticating] = useState<boolean>(true)\n\n  const setLoginState = (u: User | undefined, t: string | undefined) => {\n    setUser(u)\n    setToken(t || '')\n\n    // if user.phoneNumber is present, then update it else remove the key from session storage\n    if (u?.phoneNumber)\n    sessionStorage.setItem(LOCALSTORAGE_APP_KEYS.USER_PHONE_NUMBER, u?.phoneNumber ?? '')\n    else\n    sessionStorage.removeItem(LOCALSTORAGE_APP_KEYS.USER_PHONE_NUMBER)\n    \n    // if user.displayName is present, then update it else remove the key from session storage\n    if (u?.displayName)\n      sessionStorage.setItem(LOCALSTORAGE_APP_KEYS.USER_DISPLAY_NAME, u?.displayName ?? '')\n    else\n      sessionStorage.removeItem(LOCALSTORAGE_APP_KEYS.USER_DISPLAY_NAME)\n  }\n\n  useEffect(() => {\n    if (!props.skipLogin) {\n      const authState = getAuthState()\n      if (authState) {\n        setAuthenticating(true)\n        try {\n          auth0.checkSession(\n            authState,\n            function (err, authResult) {\n              if (authResult?.idTokenPayload && authResult?.idToken) {\n                const authState1 = getAuthState()\n                // make sure no new auth has happened since beginning of this request\n                if (authState1 && authState1.nonce === authState.nonce) {\n                  loginWithAuth0Token(authResult.idToken, authResult.idTokenPayload)\n                    .then((data: AuthResultData | undefined) => {\n\n                      setLoginState(data?.user, data?.token)\n                      setAuthenticating(false)\n                    }).catch((err) => {\n                      setAuthenticating(false)\n                    })\n                } else {\n                  setAuthenticating(false)\n                }\n              } else {\n                console.log(err)\n                setAuthenticating(false)\n              }\n            }\n          );\n        } catch (err) {\n          console.log(err)\n          setAuthenticating(false)\n        }\n      } else {\n        setAuthenticating(false)\n      }\n    } else {\n      setAuthenticating(false)\n    }\n  }, [])\n\n  const refreshUser = () => {\n    axios.get<User>('/users/get', { headers: getAuthHeaders(token) }).then(res => setUser(res.data)).catch(err => console.log(err))\n  }\n\n  const updateUserPicture = (pictureUrl: string) => {\n    if (user) {\n      setUser({ ...user, picture: pictureUrl });\n    }\n  }\n\n  return (\n    <UserContext.Provider\n      value={{\n        user,\n        token,\n        setLoginState,\n        authenticating,\n        setAuthenticating,\n        loading: userLoading,\n        setLoading: setUserLoading,\n        refreshUser,\n        updateUserPicture\n      }}>\n      {props.children}\n    </UserContext.Provider>\n  )\n}\n\nexport default UserContextProvider","import React from \"react\";\n\nexport type ErrorReporterParams = { source: string, error: Error, errorInfo: React.ErrorInfo }\n\ninterface ErrorBoundaryProps {\n  source: string\n  errorFallbackComponent?: React.ReactElement\n  reportError?: (params: ErrorReporterParams) => void\n}\n\nconst defaultErrorBoundary = <h1 style={{ textAlign: 'center' }}>Something went wrong</h1>\n\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps> {\n  state = {\n    hasError: false\n  }\n\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, errorInfo);\n    const {\n      source,\n      reportError\n    } = this.props;\n\n    reportError && reportError({source, error, errorInfo});\n  }\n\n  render() {\n    const {\n      errorFallbackComponent = defaultErrorBoundary\n    } = this.props;\n\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return errorFallbackComponent;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary","import React, { useContext } from 'react';\nimport { Redirect, Route, RouteProps, useLocation } from 'react-router-dom';\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport { LinearProgress } from '@material-ui/core';\n\nconst ProtectedRoute = ({ children, ...rest }: RouteProps): React.ReactElement => {\n  const { user, loading, authenticating } = useContext(UserContext)\n  const location = useLocation();\n\n  return (\n    <>\n      {(loading || authenticating) && <LinearProgress />}\n      {!authenticating && (\n        <Route {...rest}>\n          {user ? (\n            children\n          ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: location },\n              }}\n            />\n          )}\n        </Route>\n\n      )}\n    </>\n  )\n}\n\nexport default ProtectedRoute","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { fromUnixTime, format } from 'date-fns';\nimport preval from 'preval.macro';\n\nconst VersionNumber = () => {\n  const buildTimestamp = preval`module.exports = new Date().getTime();`;\n  const lastUpdateTime = fromUnixTime(buildTimestamp / 1000)\n  const versionNumber = `v${format(lastUpdateTime, 'MM.dd.yyyy-HH:mm:ss a')}`\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <Typography variant='subtitle2' component='div' style={{ color: \"#BBB\" }}>\n        {versionNumber}\n      </Typography>\n    </div>\n  )\n}\n\nexport default VersionNumber","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst TOSString = (): React.ReactElement => {\n  return (\n    <div style={{fontSize: 'small', textAlign: 'center'}}>\n      By clicking on Continue, you agree to our\n      <Link target=\"_blank\" to='/help/privacy-policy'>{' '}Terms of Services{' '}</Link>\n      and\n      <Link target=\"_blank\" to='/help/terms-of-use'>{' '}Privacy Policy</Link>.\n    </div>\n  )\n}\n\nexport default TOSString","import React, { useEffect, useState } from \"react\";\nimport {\n  Alert,\n  Button,\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Fab,\n  LinearProgress,\n  makeStyles,\n  Slide,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport { TransitionProps } from \"@material-ui/core/transitions\";\nimport { useLocation } from \"react-router-dom\";\nimport ReactCodeInput from \"react-code-input\";\n\n// src\nimport {\n  auth0,\n  getAuthMeta,\n  storeAuthMeta,\n  isPhoneNumberCached,\n} from \"../services/auth0\";\nimport TOSString from \"./TOSString\";\nimport axios from \"../services/backendAxios\";\n\nconst SMS_CODE_LENGTH = 4;\n\nconst Transition = React.forwardRef(\n  (\n    props: TransitionProps & { children?: React.ReactElement<any, any> },\n    ref: React.Ref<unknown>\n  ) => {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  }\n);\nTransition.displayName = \"SlideUpTransition\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .MuiDialogTitle-root\": {\n        textAlign: \"center\",\n      },\n      \"& .dlgContent\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        textAlign: \"center\",\n        \"& input[type=number]\": {\n          paddingRight: 0,\n        },\n        \"& input[type=number]::-webkit-inner-spin-button\": {\n          WebkitAppearance: \"none\",\n          margin: 0,\n        },\n        \"& input[type=number]::-webkit-outer-spin-button\": {\n          WebkitAppearance: \"none\",\n          margin: 0,\n        },\n      },\n      \"& .dlgActions\": {\n        display: \"flex\",\n        justifyContent: \"space-evenly\",\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(1),\n      },\n      \"& .MuiAlert-root\": {\n        backgroundColor: \"transparent\",\n        padding: 0,\n      },\n      \"& .TOSText\": {\n        paddingTop: 0,\n      },\n    },\n  })\n);\n\nconst PhoneVerificationDialog = (props: {\n  phoneNumber: string;\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  redirectTo?: string;\n}): React.ReactElement => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [progress, setProgress] = useState(-1);\n  const [hasConsent, setConsent] = useState(false);\n  const [code, setCode] = useState(\"\");\n  const [codeInputKey, setCodeInputKey] = useState(0);\n  const [isInvalidPhoneNumber, setIsInvalidPhoneNumber] = useState(false)\n\n  const { phoneNumber: phoneNo, open, setOpen, redirectTo } = props;\n  const phoneNumber = phoneNo.startsWith(\"+\") ? phoneNo : `+${phoneNo}`;\n  const location = useLocation();\n\n  const kickOfftimer = () => {\n    if (progress < 0) {\n      setProgress(60);\n      const timer = setInterval(() => {\n        setProgress((prevProgress) => {\n          if (prevProgress < 0) {\n            clearInterval(timer);\n          }\n          return prevProgress - 1;\n        });\n      }, 1000);\n    }\n  };\n\n  const sendSMSCode = () => {\n    if (open) {\n\n      const authMeta = getAuthMeta();\n      const lastTimeSMS = authMeta?.lastTimeSMS || 0;\n      const phoneHashArr = authMeta?.phoneHashArray || [];\n\n      // handle user consent\n      if (isPhoneNumberCached(phoneHashArr, phoneNumber)) {\n        setConsent(true);\n      } else {\n        axios\n          .get<boolean>(\"/users/exist\", {\n            params: { phoneNumber },\n          })\n          .then((response) => {\n            if (response.status === 200 && response.data) {\n              setConsent(true);\n            }\n            setConsent(false);\n          });\n      }\n\n      // if one minute has passed\n      if (progress <= 60) {\n        setLoading(true);\n        setCode(\"\");\n        setErrorMsg(\"\");\n\n        auth0.passwordlessStart(\n          {\n            connection: \"sms\",\n            send: \"code\",\n            phoneNumber,\n          },\n          (err, result) => {\n            if (err) {\n              if(err.statusCode === 400) {\n                setIsInvalidPhoneNumber(true)\n              }\n              setLoading(false);\n              // need to handle different error code\n              setErrorMsg(err.description || err.error);\n            } else {\n              storeAuthMeta(Date.now());\n              kickOfftimer();\n              setLoading(false);\n            }\n          }\n        );\n      }\n    }\n  };\n\n  const authorizeSMS = () => {\n    if (code?.length === SMS_CODE_LENGTH) {\n      // show drawer by default\n      const state = redirectTo || location.pathname;\n      auth0.passwordlessLogin(\n        {\n          connection: \"sms\",\n          phoneNumber,\n          verificationCode: code,\n          state,\n        },\n        (err) => {\n          if (err) {\n            setLoading(false);\n            setErrorMsg(err.error_description || err.error);\n          } else {\n            setLoading(false);\n            setOpen(false);\n          }\n        }\n      );\n    }\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setErrorMsg(\"\");\n    setCodeInputKey(codeInputKey + 1);\n    setCode(\"\");\n    setProgress(-1)\n  };\n\n  const handleSignup = () => {\n    setLoading(true);\n    authorizeSMS();\n  };\n\n  const onCodeChange = (c: string) => {\n    setCode(c);\n  };\n\n  useEffect(() => {\n    sendSMSCode();\n  }, [open]);\n\n  useEffect(() => {\n    if (hasConsent && code.length === SMS_CODE_LENGTH && !loading) {\n      handleSignup();\n    }\n  }, [code]);\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"Phone verfication\"\n      TransitionComponent={Transition}\n      keepMounted\n      open={open}\n      className={classes.root}\n    >\n      <DialogTitle>Enter your verification code</DialogTitle>\n      {loading && <LinearProgress />}\n\n      <DialogContent className=\"dlgContent\">\n        <ReactCodeInput\n          type=\"number\"\n          fields={SMS_CODE_LENGTH}\n          autoFocus\n          name=\"phone-verification-code\"\n          inputMode=\"numeric\"\n          value={code}\n          key={codeInputKey}\n          onChange={onCodeChange}\n        />\n        <Typography\n          gutterBottom\n          variant=\"subtitle2\"\n          color=\"textSecondary\"\n          component=\"div\"\n        >\n          Code sent to {phoneNumber}\n          {errorMsg && <Alert severity=\"error\">{errorMsg}</Alert>}\n        </Typography>\n      </DialogContent>\n      <Divider />\n      <DialogActions className=\"dlgActions\">\n        <Fab\n          onClick={sendSMSCode}\n          color=\"secondary\"\n          variant=\"extended\"\n          size=\"medium\"\n          disabled={loading || progress > 0 || isInvalidPhoneNumber}\n        >\n          {progress > 0 ? `Resend (:${progress})` : `Resend`}\n        </Fab>\n        <Fab\n          onClick={handleSignup}\n          color=\"primary\"\n          variant=\"extended\"\n          size=\"medium\"\n          disabled={loading || code.length !== SMS_CODE_LENGTH}\n        >\n          Continue\n        </Fab>\n      </DialogActions>\n      {!hasConsent && (\n        <DialogContent className=\"TOSText\">\n          <TOSString />\n        </DialogContent>\n      )}\n    </Dialog>\n  );\n};\n\nexport default PhoneVerificationDialog;\n","import React, { ReactElement, useContext, useEffect, useMemo } from \"react\"\nimport {\n  Toolbar,\n  Typography,\n  CardContent,\n  LinearProgress,\n  makeStyles,\n  Theme,\n  createStyles,\n  CardMedia,\n  Divider,\n  Fab,\n  Grid,\n  SwipeableDrawer,\n} from \"@material-ui/core\"\nimport assert from \"assert\"\n\nimport { UserContext } from \"../../bos_common/src/context/UserContext\"\nimport { ColoredPaper } from \"../../bos_common/src/components/Papers\"\nimport PhoneSignup from '../../bos_common/src/components/PhoneSignup';\nimport { repeatAudio } from \"../../bos_common/src\"\n\nimport { Merchant, Order } from \"../../services/models\"\nimport RenderWaitTime from \"../common/WaitTime\"\nimport { isPickupASAP } from \"../../bos_common/src/services/orderUtils\"\nimport { isNotificationSoundEnabled } from \"../../utils\"\nimport OneMarketPointString from \"../common/OneMarketPointString\"\nimport PromotionIllustration from \"../../assets/images/congratulations-rewards.svg\";\nimport WarningIllustration from '../../assets/images/warning-error.svg';\n\nexport enum SignupEntrance {\n  FAVORTIE = 'favorite',\n  EARNED_POINTS = 'earned-points',\n  SAVE_ORDER = 'save-order',\n  NEW_ORDER = 'new-order',\n  PLACE_ORDER = 'place-order',\n  USER_LOGIN = 'user_login'\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      '& .MuiPaper-root': {\n        overflowY: \"unset\",\n        borderRadius: \"20px 20px 0 0\",\n\n        '&:before': {\n          content: \"''\",\n          position: \"absolute\",\n          top: -15,\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          pointerEvents: \"none\",\n          width: \"130px\",\n          height: \"6px\",\n          borderRadius: \"50px\",\n          background: \"rgba(255, 255, 255, 0.5)\"\n        },\n        '& .toolbarWrapper': {\n          padding: `${theme.spacing(3)} ${theme.spacing(2)}`,\n          borderRadius: \"20px 20px 0 0 !important\", // to override inline style\n        },\n      },\n      '& .toolbar': {\n        '& .drawerTitle': {\n          width: \"100%\",\n          textAlign: \"center\",\n          color: \"#364245\",\n          fontSize: 20,\n        },\n      },\n      '& .signupImageWrapper': {\n        textAlign: \"center\",\n        paddingBottom: \"10px\",\n      },\n      '& .signupImage': {\n        height: 150,\n        objectFit: \"cover\",\n        margin: \"auto\",\n      },\n      '& .content': {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        '& .drawerCTA': {\n          display: 'flex',\n          justifyContent: 'center',\n          flexDirection: 'column',\n        },\n      }\n    },\n  }),\n);\n\nconst SignupCTA = (props: { redirectTo?: string }) => {\n  return (\n    <>\n      <Typography gutterBottom variant=\"subtitle1\" color=\"textSecondary\" component=\"div\" textAlign=\"center\">\n        Enter your phone number to get started\n      </Typography>\n      <div style={{ marginLeft: '18px' }}>\n        <PhoneSignup redirectTo={props.redirectTo} />\n      </div>\n    </>\n  );\n}\n\nconst LeaveOrSignupCTA = (props: { redirectTo?: string, onLeave?: () => void }) => {\n  return (\n    <>\n      <SignupCTA redirectTo={props.redirectTo} />\n      <Divider style={{ marginTop: '24px', marginBottom: '16px' }} />\n      <Fab color=\"primary\" variant=\"extended\" onClick={props.onLeave}>\n        Leave anyways\n      </Fab>\n    </>\n  )\n}\n\nconst SignupDrawer = (props: {\n  open: boolean,\n  setOpen: (open: boolean) => void,\n  entrance: SignupEntrance,\n  onCTA?: () => void,\n  order?: Order,\n  merchant?: Merchant,\n  forceShow?: boolean,\n  redirectAfterSignup?: string\n}) => {\n  const classes = useStyles()\n  const { user, authenticating } = useContext(UserContext)\n\n  const { entrance, open, setOpen, forceShow, order, onCTA, redirectAfterSignup, merchant } = props\n\n  const playNotificationSound = isNotificationSoundEnabled(user);\n  const noShow = (user || authenticating) && (!forceShow)\n\n  useEffect(() => {\n    if (entrance === SignupEntrance.EARNED_POINTS && open && !noShow) {\n      const notifAudio = document.getElementById('app_earn_1m_points_audio') as HTMLAudioElement;\n      notifAudio && playNotificationSound && repeatAudio(notifAudio, 1)\n    }\n  }, [])\n\n  const RenderEarnedPointsTitle = () => {\n    if (!order) return null;\n    return (\n      <>\n        Congratulations, you have earned {order.oneMarketPoints}{' '}\n        <OneMarketPointString />. Sign up to claim\n      </>\n    );\n  }\n\n  const RenderUserLoginSignupTitle = () => {\n    return <>\n      <Typography variant=\"h5\" color=\"primary\" sx={{ fontWeight: 600 }}>Buy Local, Get Rewards!</Typography>\n      <Typography variant=\"subtitle2\" color=\"textSecondary\">\n        {'Sign up or login to your One Market account to support your local businesses & get rewards!'}\n      </Typography>\n    </>\n  }\n\n  const getConfig = (): { title: ReactElement | string, imageSrc: string, CTA?: ReactElement } => {\n    switch (entrance) {\n      case SignupEntrance.FAVORTIE:\n        return {\n          title: 'Sign up to favorite stores',\n          imageSrc: PromotionIllustration,\n          CTA: <SignupCTA redirectTo={redirectAfterSignup} />\n        }\n      case SignupEntrance.USER_LOGIN:\n        return {\n          title: <RenderUserLoginSignupTitle />,\n          imageSrc: '../delivery-guy-handing-box.png',\n          CTA: <PhoneSignup showActionBtn />\n        }\n      case SignupEntrance.EARNED_POINTS:\n        assert(order && order.oneMarketPoints > 0)\n        return {\n          title: <RenderEarnedPointsTitle />,\n          imageSrc: PromotionIllustration,\n          CTA: <SignupCTA redirectTo={redirectAfterSignup} />\n        }\n      case SignupEntrance.SAVE_ORDER:\n        return {\n          title: 'Keep link to your order?',\n          imageSrc: WarningIllustration,\n          CTA: <LeaveOrSignupCTA redirectTo={redirectAfterSignup} onLeave={onCTA} />\n        }\n      case SignupEntrance.NEW_ORDER:\n        return {\n          title: 'Order received!',\n          imageSrc: PromotionIllustration,\n          CTA: (order && isPickupASAP(order) ? <RenderWaitTime order={order} /> : undefined)\n        }\n      case SignupEntrance.PLACE_ORDER:\n        return {\n          title: 'Sign up to pay later',\n          imageSrc: '../order-in-progress.svg',\n          CTA: <SignupCTA redirectTo={redirectAfterSignup} />\n        }\n      default:\n        return {\n          title: 'Sign up to collect points, save orders, and favorite shops',\n          imageSrc: '../order-in-progress.svg',\n          CTA: <SignupCTA redirectTo={redirectAfterSignup} />\n        }\n    }\n  }\n  const config = useMemo(() => getConfig(), [entrance, order, merchant]);\n\n  if (noShow) {\n    return null;\n  }\n\n  const toggleDrawer = (open: boolean) => (\n    event: React.KeyboardEvent | React.MouseEvent,\n  ) => {\n    if (\n      event?.type === 'keydown' &&\n      ((event as React.KeyboardEvent).key === 'Tab' ||\n        (event as React.KeyboardEvent).key === 'Shift')\n    ) {\n      return;\n    }\n\n    setOpen(open)\n  }\n\n  return (\n    <SwipeableDrawer\n      variant=\"temporary\"\n      ModalProps={{\n        keepMounted: false,\n      }}\n      anchor={'bottom'}\n      open={open}\n      onOpen={toggleDrawer(true)}\n      onClose={toggleDrawer(false)}\n      className={classes.drawer}\n    >\n      <ColoredPaper\n        role=\"presentation\"\n        className=\"toolbarWrapper\"\n      >\n        <Grid container justifyContent=\"center\">\n          <Grid item xs={12} sm={6} lg={4}>\n            <CardMedia className=\"signupImageWrapper\" title={\"sign up to 1m.app\"}>\n              <img src={config.imageSrc} className=\"signupImage\" />\n            </CardMedia>\n\n            <Toolbar className=\"toolbar\">\n              <Typography variant=\"h6\" className=\"drawerTitle\" component=\"div\">\n                {config.title}\n              </Typography>\n            </Toolbar>\n            <CardContent className='content'>\n              {authenticating && <LinearProgress />}\n              {\n                config?.CTA &&\n                <div className=\"drawerCTA\">\n                  {config.CTA}\n                </div>\n              }\n            </CardContent>\n          </Grid>\n        </Grid>\n      </ColoredPaper>\n    </SwipeableDrawer>\n  )\n}\n\nexport default SignupDrawer","import React, { useState, useContext, useEffect } from \"react\";\nimport { NavigateNext } from \"@material-ui/icons\";\nimport { Alert, IconButton, makeStyles, Theme, createStyles, Button } from \"@material-ui/core\";\nimport PhoneInput from \"react-phone-input-2\";\n\n// src\nimport PhoneVerificationDialog from \"./PhoneVerificationDialog\";\nimport { UserContext } from \"../context/UserContext\";\nimport 'react-phone-input-2/lib/material.css'\nimport { LOCALSTORAGE_APP_KEYS } from \"../constants\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      '& .signUpActionRow': {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: ({ fullwidth }: any) => fullwidth ? '100%' : '270px',\n        '& .phoneInput': {\n          width: '100%',\n          height: \"36px\",\n        },\n        '& .nextButton': {\n          padding: \"6px\",\n          marginLeft: \"-37px\",\n        },\n      },\n      '& .MuiAlert-root': {\n        backgroundColor: \"transparent\",\n        padding: 0,\n      },\n    },\n  }),\n);\n\ndeclare let window: any;\nconst countryPhoneLength: { [key: string]: number } = {\n  'us': 10,\n  'cn': 11,\n  'pk': 10,\n  'id': 11,\n  'in': 10\n}\n\nconst PhoneSignup = (props: {\n  redirectTo?: string,\n  fullwidth?: boolean,\n  showActionBtn?: boolean,\n}): React.ReactElement => {\n  const { fullwidth, showActionBtn, redirectTo } = props;\n  const classes = useStyles({ fullwidth })\n  const cachedConsumerPhoneNumber = sessionStorage.getItem(LOCALSTORAGE_APP_KEYS.USER_PHONE_NUMBER)\n  const [phone, _setPhone] = useState(cachedConsumerPhoneNumber || \"\")\n  const [countryData, setCountryData] = useState()\n  const [phoneSignupOpen, setPhoneSignupOpen] = useState(false)\n  const [errorMsg, setErrorMsg] = useState(\"\")\n  const { setAuthenticating } = useContext(UserContext)\n\n  const submitPhoneNumber = () => {\n    if (isValid(phone, countryData)) {\n      // auth0 api calls\n      if (window?.webkit && window?.webkit.messageHandlers.authMessageHandler) {\n        setAuthenticating(true)\n        window?.webkit.messageHandlers.authMessageHandler.postMessage(phone);\n      } else if (window?.authMessageHandler) {\n        setAuthenticating(true)\n        window.authMessageHandler.postMessage(phone)\n      } else {\n        setPhoneSignupOpen(true)\n      }\n    } else {\n      setErrorMsg(\"Invalid phone number\")\n    }\n  }\n\n  const isValid = (phone: string, country: any) => {\n    const countryCodeLength = country?.dialCode.length || 0;\n    const countryCode = country?.countryCode as string || 'us';\n    const countryPLength = countryPhoneLength[countryCode];\n    if (phone.length - countryCodeLength >= countryPLength) {\n      return true;\n    }\n    return false;\n  }\n\n  useEffect(() => {\n    if (isValid(phone, countryData) && !cachedConsumerPhoneNumber) {\n      submitPhoneNumber();\n    }\n  }, [phone, countryData])\n\n  const setPhone = (p: string, country: any) => {\n    _setPhone(p);\n    setCountryData(country);\n    setErrorMsg(\"\");\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className=\"signUpActionRow\">\n        <PhoneInput\n          inputClass=\"phoneInput\"\n          country={'us'}\n          onlyCountries={['us', 'pk', 'cn', 'id', 'in']}\n          value={phone}\n          specialLabel=\"\"\n          onEnterKeyPress={submitPhoneNumber}\n          onChange={(phone, country) => setPhone(phone, country)}\n        />\n        <IconButton color=\"primary\" aria-label=\"next\" className=\"nextButton\" onClick={submitPhoneNumber}>\n          <NavigateNext />\n        </IconButton>\n      </div>\n      {errorMsg && <Alert severity=\"error\">{errorMsg}</Alert>}\n\n      {showActionBtn && (\n        <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={submitPhoneNumber} fullWidth sx={{ marginTop: 1 }}>\n          Sign Up/ Login\n        </Button>\n      )}\n      <PhoneVerificationDialog phoneNumber={phone} open={phoneSignupOpen} setOpen={setPhoneSignupOpen} redirectTo={redirectTo} />\n    </div>\n  )\n}\n\nexport default PhoneSignup","// Interval to Fetch Data for Merchant in miliseconds\nexport const MERCHANT_DATA_FETCH_INTERVAL = 20000\n\n// Interval to Show Start Over Dialog on Shopping Cart\nexport const SHOPPING_CART_START_OVER_INTERVAL = 30000\n\n// Interval to Refresh Wait Time on Order Status Page\nexport const WAIT_TIME_ON_ORDER_STATUS_INTERVAL = 120000\n\n// Only countries for phone field\nexport const PHONE_ONLY_COUNTRIES = ['us', 'pk', 'cn', 'id', 'in'];\n\nexport const footerData = {\n    urlsList: [\n      {\n        heading: \"Company\",\n        links: [\n          //Need to add later\n          // {\n          //   name: \"About\",\n          //   url: \"1m.app/about\",\n          // },\n  \n          {\n            name: \"Careers\",\n            url: \"https://angel.co/company/one-market-1\",\n            target: \"_blank\"\n          },\n  \n          {\n            name: \"Contact\",\n            url: \"mailto:support@1m.app\",\n          },\n        ],\n      },\n  \n      {\n        heading: \"Resourses\",\n        links: [\n          {\n            name: \"Partnerships\",\n            url: \"http://1m.co/\",\n            target: \"_blank\"\n          },\n          \n          //Page not added yet\n          // {\n          //   name: \"FAQ\",\n          //   url: \"https://www.1m.app/help/\",\n          //   target: \"_blank\"\n          // },\n        ],\n      },\n  \n      {\n        heading: \"Join the Community\",\n        links: [\n          {\n            name: \"Facebook\",\n            url: \"https://www.facebook.com/1mapp\",\n            target: \"_blank\",\n          },\n  \n          {\n            name: \"Instagram\",\n            url: \"https://www.instagram.com/1m.app/\",\n            target: \"_blank\",\n          },\n  \n          {\n            name: \"Twitter\",\n            url: \"https://twitter.com/1m_app_\",\n            target: \"_blank\",\n          },\n        ],\n      },\n    ],\n  \n    bottomLinks: [\n      {\n        url: \"http://www.1m.app/help/terms-of-use\",\n        name: \"TERMS OF SERVICE\",\n        target: \"_blank\",\n      },\n      {\n        url: \"http://www.1m.app/help/privacy-policy\",\n        name: \"PRIVACY POLICY\",\n        target: \"_blank\",\n      },\n      {\n        url: \"/\",\n        name: `© ${new Date().getFullYear()} One Market inc.`,\n      },\n    ],\n  };\n  ","import React, { useEffect, useState } from 'react';\nimport { createStyles, makeStyles, Theme, Typography, TypographyProps, useTheme } from '@material-ui/core';\nimport { AlarmOn, Schedule } from '@material-ui/icons';\nimport useAxios from 'axios-hooks';\nimport { If, Then, Else } from 'react-if';\n\nimport { WaitTime } from '../../bos_common/src/types/WaitTimeType';\nimport { Merchant, Order } from '../../services/models';\nimport { pluralString } from '../../utils';\nimport { useFunctionOnInterval } from '../../bos_common/src';\nimport { WAIT_TIME_ON_ORDER_STATUS_INTERVAL } from '../../config/constants';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .MuiTypography-root': {\n        display: 'flex',\n        alignItems: 'center',\n        lineHeight: '1.2',\n        marginTop: \"2px\",\n      },\n      '& .wait-time-icon': {\n        marginRight: \"5px\",\n      }\n    },\n  }),\n);\n\ntype RenderWaitTimeProps = {\n  merchant?: Merchant,\n  order?: Order,\n  withIcon?: boolean,\n  short?: boolean,\n  typographyProps?: TypographyProps<\"div\">,\n}\nconst RenderWaitTime = ({ merchant, order, withIcon = true, short = false, typographyProps = {} }: RenderWaitTimeProps): React.ReactElement => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const [waitColor, setWaitColor] = useState<string>()\n  const url = order\n    ? `/orders/${order.id}/waitTime`\n    : merchant\n      ? `/merchants/${merchant.id}/waitTime`\n      : undefined;\n\n  const [{ data: waitTime, loading }, executeGet] = useAxios<WaitTime>(\n    { url, method: 'get' },\n    { manual: true }\n  );\n\n  const timerHandler = useFunctionOnInterval(executeGet, WAIT_TIME_ON_ORDER_STATUS_INTERVAL, true)\n\n  useEffect(() => {\n    if (waitTime && waitTime.readyTime) {\n      if (timerHandler.current) {\n        clearTimeout(timerHandler.current)\n      }\n    }\n\n    if (waitTime) {\n      if (waitTime.maxMinutes < 15) {\n        setWaitColor(theme.palette.success.main)\n      } else if (waitTime.maxMinutes < 45) {\n        setWaitColor(theme.palette.warning.main)\n      } else {\n        setWaitColor(theme.palette.error.main)\n      }\n    }\n\n  }, [waitTime])\n\n  const getWaitTimeString = (minMinutes: number | undefined, maxMinutes: number | undefined) => {\n    if (minMinutes == null || maxMinutes == null) {\n      return 'n/a'\n    } else {\n      return (<span style={{ color: waitColor }}>{minMinutes}-{maxMinutes} min</span>)\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <If condition={loading && !waitTime}>\n        <Then>\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" component=\"div\" {...typographyProps}>\n            {withIcon && <Schedule className='wait-time-icon' color='primary' />}\n            Estimating&nbsp;...\n          </Typography>\n        </Then>\n        <Else>\n          <If condition={!!waitTime}>\n            <Then>\n              <Typography variant=\"subtitle1\" color=\"textPrimary\" component=\"div\" {...typographyProps}>\n                {\n                  waitTime?.readyTime\n                    ? (<>\n                      {withIcon && <AlarmOn className='wait-time-icon' color='primary' />}\n                      {new Date(waitTime?.readyTime)}\n                    </>)\n                    : (waitTime?.priorOrdersInQueue && !short)\n                      ? (<>\n                        {withIcon && <Schedule className='wait-time-icon' color='primary' />}\n                        {pluralString(waitTime.priorOrdersInQueue, 'order')} / {pluralString(waitTime.priorItemsInQueue, 'item')} in queue,\n                        est.&nbsp;{getWaitTimeString(waitTime?.minMinutes, waitTime?.maxMinutes)}\n                      </>)\n                      : (<>\n                        {withIcon && <Schedule color=\"primary\" className='wait-time-icon' />}\n                        wait time est.&nbsp;{getWaitTimeString(waitTime?.minMinutes, waitTime?.maxMinutes)}\n                      </>)\n                }\n              </Typography>\n            </Then>\n          </If>\n        </Else>\n      </If >\n    </div>\n  )\n}\n\nexport default RenderWaitTime;","import assert from \"assert\"\nimport { LineItem, Order, OrderPickupType, OrderStatus, OrderType } from \"../types/OrderTypes\"\n\nexport const orderCodeFromID = (orderId: string): string => {\n  assert(orderId.startsWith('o_'))\n  return orderId.slice(2).toUpperCase()\n}\n\nexport const displayOrderShortCode = (order: Order): string => {\n  if (!order) return ''\n  if (order.orderNo !== null) {\n    return ('0000' + order.orderNo).slice(-4);\n  }\n  const code = orderCodeFromID(order.id)\n  return code.slice(-3)\n}\n\nexport const isOrderActive = (order: Order): boolean => {\n  if (order.status === OrderStatus.PREPARING ||\n    order.status === OrderStatus.PAID ||\n    order.status === OrderStatus.OPEN_CHECK) {\n    return true\n  }\n  return false;\n}\n\nexport const isDineInOrder = (order: Order): boolean => order.type === OrderType.DINEIN;\nexport const isOpenCheckOrder = (order: Order): boolean => isDineInOrder(order) && order.status === OrderStatus.OPEN_CHECK;\n\nexport const displayOrderStatus = (order: Order, toMerchant?: boolean): string => {\n  switch (order.status) {\n    case OrderStatus.PENDING:\n      return 'Pending'\n    case OrderStatus.PAID:\n      return order.type === OrderType.DINEIN ? 'Paid' : 'Received'\n    case OrderStatus.PREPARING:\n      return 'Preparing'\n    case OrderStatus.FULFILLED:\n      return 'Completed'\n    case OrderStatus.REFUNDED:\n      return 'Refunded'\n    case OrderStatus.OPEN_CHECK:\n      return 'Open tab'\n    case OrderStatus.PAID_EXTERNALLY:\n      return toMerchant ? 'Paid externally' : 'Paid'\n    case OrderStatus.VOIDED:\n      return toMerchant ? 'Voided' : 'Paid'\n    default:\n  }\n  return ''\n}\n\n/* If the order has a pickup type, return that (eat-here or to-go) else return empty string */\nexport const displayPickUpTypeLabel = (order: Order) => {\n  const { pickupType } = order;\n  switch (pickupType) {\n    case OrderPickupType.EAT_HERE:\n      return 'Dine In';\n    case OrderPickupType.TO_GO:\n      return 'To Go';\n    default:\n      return '';\n  }\n};\n\nconst getTime = (dateStr: Date) => new Date(dateStr).getTime()\n\nexport const isPickupASAP = (order: Order): boolean => {\n  // pick up time within two minutes of order time\n  if (order.toPickupTime && Math.abs(getTime(order.toPickupTime) - getTime(order.createdAt)) < 2 * 60 * 1000) {\n    return true\n  }\n  return false\n}\n\nexport const sortOrders = (orders: Order[] | undefined): Order[] => {\n  return orders?.sort((a, b) => {\n    if (a.toPickupTime && b.toPickupTime) {\n      return getTime(b.toPickupTime) - getTime(a.toPickupTime)\n    } else {\n      return getTime(b.createdAt) - getTime(a.createdAt)\n    }\n  }) || []\n}\n\nexport const getLineItemKey = (item: LineItem): string => {\n  return `${item.id}-${item.customizationSignature}`\n}\n\nexport const getItemsInOrder = (order: Order, ignoreRefundedItems?: boolean): number => {\n  return order.lineItems.reduce((acc, item) => {\n    return acc + (ignoreRefundedItems && item.refunded ? 0 : item.quantity)\n  }, 0);\n};\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from './store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { createStyles, makeStyles, Theme, Link } from \"@material-ui/core\";\nimport classNames from \"classnames\";\nimport React from \"react\";\n\n// src\nimport { useAppDispatch } from \"../../redux/hooks\";\nimport { setShowRewardsEducationDrawer } from \"../../redux/slice/merchant/action\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      cursor: 'pointer',\n      color: theme.palette.secondary.main,\n\n      '&:hover': {\n        textDecoration: \"none\",\n      }\n    },\n  })\n);\n\nconst OneMarketPointString = ({ text, className }: { text?: string, className?: string }): React.ReactElement => {\n  const classes = useStyles();\n  const reduxDispatch = useAppDispatch()\n\n  const handlePointsClick = (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault()\n    e.stopPropagation()\n    reduxDispatch(setShowRewardsEducationDrawer(true))\n  }\n\n  return (\n    <Link\n      onClick={handlePointsClick}\n      className={classNames({ [classes.root]: true, [`${className}`]: Boolean(className) })}\n    >\n      {text ? text : \"1M points\"}\n    </Link>\n  );\n};\n\nexport default OneMarketPointString;\n","export default __webpack_public_path__ + \"static/media/congratulations-rewards.90d322b3.svg\";","export default __webpack_public_path__ + \"static/media/warning-error.0da0dd1d.svg\";","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction OneMarketIcon(props: any) {\n  return (\n    <SvgIcon color=\"primary\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M15.6107 8.01144C15.9603 8.01144 16.1296 8.44835 15.8838 8.70936L8.97845 15.8814C8.73261 16.1367 8.31195 15.9552 8.30649 15.5977L8.27917 8.68099C8.27917 8.31217 8.56872 8.01144 8.92382 8.01144H15.6107Z\" />\n      <path d=\"M7.69593 0.40233V11.4501C7.69593 11.8189 7.40639 12.1196 7.04583 12.1196L4.66938 12.1083C4.16677 12.1083 3.76251 11.6827 3.75704 11.1607L3.74612 8.7151C3.74612 8.3179 3.43472 8.00014 3.0523 7.99447L0.391776 7.98312C0.0421376 7.98312 -0.132681 7.5462 0.118621 7.28519L7.02944 0.118618C7.27528 -0.136723 7.69593 0.0448524 7.69593 0.40233Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default OneMarketIcon","import React from 'react'\nimport { Chip, createStyles, makeStyles, PropTypes, Theme } from '@material-ui/core'\n\nconst useStyles = makeStyles(() => createStyles({\n  root: {\n    gap: 3,\n    lineHeight: 1,\n    borderRadius: '7px !important',\n    '& .MuiChip-label': {\n      paddingLeft: '3px',\n      paddingRight: '5px',\n    },\n\n    '&.MuiChip-filled': {\n      color: \"white\"\n    }\n  }\n}))\n\ntype ChipColor = Exclude<PropTypes.Color, 'inherit'>;\n\ntype Props = {\n  label: React.ReactNode | string,\n  variant?: 'outlined' | 'filled',\n  size?: \"medium\" | \"small\",\n  color?: ChipColor,\n  disabled?: boolean,\n  icon?: React.ReactElement<any, string | React.JSXElementConstructor<any>>,\n  onClick?: () => void,\n  className?: string,\n  sx?: any,\n}\n\nconst CustomizedChip = ({\n  label,\n  color = 'default' as ChipColor,\n  variant = 'outlined',\n  icon,\n  size = 'medium',\n  disabled = false,\n  className,\n  sx,\n  onClick }\n  : Props\n): JSX.Element => {\n  const classes = useStyles()\n\n  const clickProp = onClick ? { onClick } : {}\n\n  return (\n    <Chip\n      variant={variant}\n      color={color}\n      label={label}\n      icon={icon}\n      size={size}\n      disabled={disabled}\n      className={className}\n      sx={sx}\n      classes={{\n        root: classes.root\n      }}\n      {...clickProp}\n    />\n  )\n}\n\nexport default CustomizedChip\n","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction OrdersMenuIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 14, height: 14 }} viewBox=\"0 0 14 14\" {...props} >\n      <path d=\"M0.5 2.35714C0.5 1.8646 0.695663 1.39223 1.04394 1.04394C1.39223 0.695663 1.8646 0.5 2.35714 0.5H8.85714C9.34969 0.5 9.82206 0.695663 10.1703 1.04394C10.5186 1.39223 10.7143 1.8646 10.7143 2.35714V8.85714H13.5V10.7143C13.5 11.4531 13.2065 12.1617 12.6841 12.6841C12.1617 13.2065 11.4531 13.5 10.7143 13.5H3.28571C2.5469 13.5 1.83834 13.2065 1.31592 12.6841C0.793494 12.1617 0.5 11.4531 0.5 10.7143V2.35714ZM10.7143 12.5714C11.2068 12.5714 11.6792 12.3758 12.0275 12.0275C12.3758 11.6792 12.5714 11.2068 12.5714 10.7143V9.78571H10.7143V12.5714ZM3.75 3.28571C3.62686 3.28571 3.50877 3.33463 3.4217 3.4217C3.33463 3.50877 3.28571 3.62686 3.28571 3.75C3.28571 3.87314 3.33463 3.99123 3.4217 4.0783C3.50877 4.16537 3.62686 4.21429 3.75 4.21429H7.46429C7.58742 4.21429 7.70551 4.16537 7.79259 4.0783C7.87966 3.99123 7.92857 3.87314 7.92857 3.75C7.92857 3.62686 7.87966 3.50877 7.79259 3.4217C7.70551 3.33463 7.58742 3.28571 7.46429 3.28571H3.75ZM3.75 6.07143C3.62686 6.07143 3.50877 6.12034 3.4217 6.20741C3.33463 6.29448 3.28571 6.41258 3.28571 6.53571C3.28571 6.65885 3.33463 6.77694 3.4217 6.86401C3.50877 6.95108 3.62686 7 3.75 7H7.46429C7.58742 7 7.70551 6.95108 7.79259 6.86401C7.87966 6.77694 7.92857 6.65885 7.92857 6.53571C7.92857 6.41258 7.87966 6.29448 7.79259 6.20741C7.70551 6.12034 7.58742 6.07143 7.46429 6.07143H3.75ZM3.75 8.85714C3.62686 8.85714 3.50877 8.90606 3.4217 8.99313C3.33463 9.0802 3.28571 9.19829 3.28571 9.32143C3.28571 9.44456 3.33463 9.56266 3.4217 9.64973C3.50877 9.7368 3.62686 9.78571 3.75 9.78571H5.60714C5.73028 9.78571 5.84837 9.7368 5.93544 9.64973C6.02251 9.56266 6.07143 9.44456 6.07143 9.32143C6.07143 9.19829 6.02251 9.0802 5.93544 8.99313C5.84837 8.90606 5.73028 8.85714 5.60714 8.85714H3.75Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default OrdersMenuIcon","import React, { useContext, useState } from \"react\";\nimport { rgba } from \"polished\";\nimport { useHistory, useLocation, NavLink } from \"react-router-dom\";\nimport {\n  Box, createStyles, Divider, Drawer, List, ListItem, ListItemText, makeStyles,\n  Theme, Typography, ListItemIcon, Toolbar, Icon, Button, Avatar\n} from \"@material-ui/core\"\nimport { AccountBalanceWallet, Logout, ChevronRight, Login, Language, Menu, Star, AccessTimeFilled, AccountCircle, Support } from \"@material-ui/icons\"\nimport { Else, If, Then } from \"react-if\";\n\nimport { logout } from \"../../bos_common/src/services/auth0\";\nimport { UserContext } from \"../../bos_common/src/context/UserContext\";\nimport { LOCALSTORAGE_APP_KEYS } from \"../../bos_common/src/constants\";\nimport VersionNumber from \"../../bos_common/src/components/VersionNumber\";\nimport { User } from \"../../services/models\";\nimport { enableSanMateoMP, isEmbeddedMode, isEmptyOrNil } from \"../../utils\";\n\nimport { ReactComponent as AppLogoIcon } from '../../assets/icons/logo.svg';\nimport SignupDrawer, { SignupEntrance } from \"../User/SignupDrawer\";\nimport DiamondIcon from \"../../assets/icons/DiamondIcon\";\nimport OneMarketIcon from \"../../assets/icons/OneMarketIcon\";\nimport CustomizedChip from \"./CustomizedChip\";\nimport OrdersMenuIcon from \"../../assets/icons/OrdersMenuIcon\";\nimport { AppContext } from \"../../context/AppContext\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      width: 300,\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      padding: theme.spacing(2),\n\n      '& .MuiButton-root': {\n        textTransform: 'capitalize',\n        justifyContent: 'flex-start',\n\n        '& .MuiButton-startIcon': {\n          marginRight: theme.spacing(2)\n        }\n      },\n\n      '& .toolbar': {\n        display: \"flex\",\n        padding: 0,\n        marginBottom: theme.spacing(2),\n\n        '& .MuiIconButton-root': {\n          paddingRight: 0,\n        },\n      },\n      '& .content': {\n        flexGrow: 1,\n        '& .MuiListItem-root': {\n          color: theme.palette.info.light,\n          borderRadius: '10px',\n          marginBottom: theme.spacing(1),\n\n          '& .MuiSvgIcon-root': {\n            color: theme.palette.info.light,\n            fontSize: 18,\n          },\n\n          '&.selected': {\n            backgroundColor: rgba(theme.palette.primary.main, 0.25),\n            color: theme.palette.primary.main,\n            '& .MuiSvgIcon-root': { color: theme.palette.primary.main },\n          }\n        },\n      }\n    },\n  }),\n);\n\ndeclare let window: any;\n\nconst MENU_ITEMS_LIST = [\n  // {\n  //   path: '/messages',\n  //   label: 'Messages',\n  //   key: 'messages',\n  //   icon: <Message />\n  // },\n  // {\n  //   path: '/wallet',\n  //   label: 'Wallet',\n  //   key: 'wallet',\n  //   icon: <AccountBalanceWallet />\n  // },\n  {\n    path: '/',\n    label: 'Discover',\n    key: 'home',\n    icon: <Icon component={OneMarketIcon} />\n  },\n  // {\n  //   path: '/lootbox',\n  //   label: 'Lootbox',\n  //   key: 'lootbox',\n  //   icon: <LootBoxIcon color=\"secondary\"/>\n  // },\n  {\n    path: '/1mpoints',\n    label: '1M Points',\n    key: '1mpoints',\n    icon: <DiamondIcon />\n  },\n  {\n    path: '/orders',\n    label: 'Orders',\n    key: 'orders',\n    icon: <OrdersMenuIcon />\n  },\n  {\n    path: '/favorites',\n    label: 'Favorites',\n    key: 'favorites',\n    icon: <Star />\n  },\n  {\n    path: '/payment-method',\n    label: 'Payment',\n    key: 'payment',\n    icon: <AccountBalanceWallet />\n  },\n  {\n    path: '/visit-history',\n    label: 'Visit History',\n    key: 'visit_history',\n    icon: <AccessTimeFilled color=\"primary\" />\n  },\n  {\n    path: '/settings',\n    label: 'Profile & Preference',\n    key: 'settings',\n    icon: <AccountCircle />\n  },\n]\n\nconst MenuIconRenderer = (props: {\n  value: string,\n  path: string,\n  label: string,\n  icon: React.ReactNode\n}) => {\n  const { value, path, label, icon } = props\n\n  return (\n    <ListItem button key={value} component={NavLink} to={path} exact activeClassName=\"selected\" >\n      <ListItemIcon>{icon}</ListItemIcon>\n      <ListItemText primary={label} />\n      <ChevronRight />\n    </ListItem>\n  )\n}\n\ninterface MenuDrawerProps {\n  menuButtonProps?: {\n    color?: \"primary\" | \"secondary\" | \"inherit\",\n    variant?: 'text' | 'outlined' | 'contained'\n  }\n}\n\nexport const MenuDrawer = ({ menuButtonProps }: MenuDrawerProps): React.ReactElement => {\n  const history = useHistory()\n  const classes = useStyles()\n  const location = useLocation()\n  const { user, setAuthenticating, setLoginState } = useContext(UserContext)\n  const { featureFlags } = useContext(AppContext);\n\n  const openDrawer = location.hash?.includes('openDrawer')\n  const [drawerOpen, setDrawerOpen] = useState(openDrawer || false);\n  const [signupDrawerOpen, setSignupDrawerOpen] = useState(false);\n  const isMarketPlaceEnabled = enableSanMateoMP(featureFlags);\n\n  const toggleDrawer = (open: boolean) => (\n    event: React.KeyboardEvent | React.MouseEvent,\n  ) => {\n    if (\n      event.type === 'keydown' &&\n      ((event as React.KeyboardEvent).key === 'Tab' ||\n        (event as React.KeyboardEvent).key === 'Shift')\n    ) {\n      return;\n    }\n\n    setDrawerOpen(open);\n    // remove the hash without refreshing the page\n    if (!open && openDrawer) {\n      window.location.hash = ''\n    }\n  }\n\n  const userLogout = () => {\n    setLoginState(undefined, undefined)\n    sessionStorage.removeItem(LOCALSTORAGE_APP_KEYS.USER_PHONE_NUMBER);\n    sessionStorage.removeItem(LOCALSTORAGE_APP_KEYS.USER_DISPLAY_NAME);\n\n    if (isEmbeddedMode() && window?.webkit && window?.webkit.messageHandlers.logoutMessageHandler) {\n      window?.webkit.messageHandlers.logoutMessageHandler.postMessage('');\n    } else if (isEmbeddedMode() && window?.logoutMessageHandler) {\n      window.logoutMessageHandler.postMessage('')\n    } else {\n      setAuthenticating(true)\n      logout(window.location.origin + '/logout', location.pathname);\n    }\n  }\n\n  const setMarketPlaceButton = (str: string, mpString: string) => {\n    if (!isMarketPlaceEnabled) return str;\n    return location.pathname !== '/'\n      ? str\n      : mpString\n  }\n\n  // const displayMarketPlaceButton = () => {\n  //   if (!isMarketPlaceEnabled && location.pathname === '/') return false\n  //   return true\n  // }\n\n  // const MarketPlaceButton = (\n  //   <Button\n  //     variant=\"contained\"\n  //     color=\"primary\"\n  //     size=\"large\"\n  //     startIcon={<Language />}\n  //     sx={{ marginTop: 2 }}\n  //     onClick={() => history.push(setMarketPlaceButton('/', '/sanmateo'))}\n  //     className=\"drawer-action-btn\"\n  //     fullWidth\n  //   >\n  //     {setMarketPlaceButton('Go to 1M Homepage', 'Go to San Mateo Marketplace')}\n  //   </Button>\n  // )\n\n  const OneMarketSupportButton = (\n    <ListItem\n      button\n      key={'one-market-support-button'}\n      component={'a'}\n      href=\"https://docs.google.com/forms/d/1HA3tBbmJXt63FYo9NLfE5oCRpKgXiwgXlY0UV7SmeHA/edit\"\n      target=\"_blank\"\n    >\n      <ListItemIcon><Support /></ListItemIcon>\n      <ListItemText primary={'Contact Support'} />\n    </ListItem>\n  )\n\n  const RenderAnonymousList = () => {\n    return (\n      <Box\n        className={classes.drawer}\n        role=\"presentation\">\n        <Toolbar className=\"toolbar\" sx={{ justifyContent: 'center' }}>\n          <div>\n            <img src={process.env.PUBLIC_URL + '/delivery-guy-handing-box.png'} width={185} />\n            <Typography variant=\"h4\" component=\"div\" color=\"primary\" sx={{ marginTop: 2 }}>\n              <Icon component={AppLogoIcon} />&nbsp;One Market\n            </Typography>\n          </div>\n        </Toolbar>\n        <Divider />\n        <List className='content'>\n          <MenuIconRenderer\n            value=\"discover\"\n            path=\"/\"\n            label=\"Discover\"\n            icon={<OneMarketIcon />}\n          />\n          <MenuIconRenderer\n            value=\"visit-history\"\n            path=\"/visit-history\"\n            label=\"Visit History\"\n            icon={<AccessTimeFilled color=\"secondary\" />}\n          />\n          {OneMarketSupportButton}\n        </List>\n\n        <Divider />\n        {/* {displayMarketPlaceButton() && MarketPlaceButton} */}\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          startIcon={<Login />}\n          fullWidth\n          sx={{ marginBottom: 2, marginTop: 2 }}\n          className=\"drawer-action-btn\"\n          onClick={() => setSignupDrawerOpen(true)}\n        >\n          Login to Enjoy More!\n        </Button>\n        <VersionNumber />\n      </Box>\n    )\n  }\n\n  const RenderUserList = (currentUser: User | undefined) => {\n    if (!currentUser) {\n      return null\n    }\n\n    const handlePointsClick = () => {\n      history.push('/1mpoints');\n    }\n\n    return (\n      <Box\n        className={classes.drawer}\n        role=\"presentation\">\n        <Toolbar className=\"toolbar\">\n          <Avatar src={user?.picture} alt=\"Profile-pic\" sx={{ width: 56, height: 56, marginRight: 2 }} />\n          <div>\n            <Typography variant=\"h6\" component=\"div\">\n              {currentUser.displayName || currentUser.phoneNumber}\n            </Typography>\n            <CustomizedChip\n              label={user?.wallet?.points ?? 0}\n              icon={<DiamondIcon />}\n              onClick={handlePointsClick}\n              color=\"secondary\"\n              variant=\"filled\"\n              size=\"small\"\n            />\n          </div>\n        </Toolbar>\n        <Divider />\n        <List className='content'>\n          {\n            MENU_ITEMS_LIST.map((item) => (\n              <MenuIconRenderer\n                key={item.key}\n                value={item.key} // added value prop to remove console warning\n                path={item.path}\n                label={item.label}\n                icon={item.icon}\n              />\n            ))\n          }\n          {OneMarketSupportButton}\n        </List>\n\n        <Divider />\n        {/* {displayMarketPlaceButton() && MarketPlaceButton} */}\n\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          size=\"large\"\n          startIcon={<Logout />}\n          fullWidth\n          sx={{ marginBottom: 2, marginTop: 1 }}\n          className=\"drawer-action-btn\"\n          onClick={userLogout}\n        >\n          Log Out\n        </Button>\n        <VersionNumber />\n      </Box>\n    )\n  }\n\n  return (\n    <div>\n      <Button\n        variant=\"text\"\n        color=\"inherit\"\n        onClick={toggleDrawer(true)}\n        aria-label=\"open drawer\"\n        sx={{ borderRadius: '50%', padding: '9px', minWidth: 'unset' }}\n        className=\"drawerButton\"\n        {...menuButtonProps}\n      >\n        <Menu fontSize=\"large\" sx={{ padding: '0 !important' }} />\n      </Button>\n      <Drawer\n        variant=\"temporary\"\n        ModalProps={{ keepMounted: true }}\n        anchor={'right'}\n        open={drawerOpen}\n        onClose={toggleDrawer(false)}>\n        <If condition={!isEmptyOrNil(user)}>\n          <Then>\n            {RenderUserList(user)}\n          </Then>\n          <Else>\n            {RenderAnonymousList()}\n          </Else>\n        </If>\n      </Drawer>\n\n      <SignupDrawer\n        open={signupDrawerOpen}\n        setOpen={setSignupDrawerOpen}\n        entrance={SignupEntrance.USER_LOGIN}\n      />\n    </div>\n  )\n}","import { Merchant, MerchantQRCode, QRCodeType } from \"../types/MerchantType\";\nimport { Order } from \"../types/OrderTypes\";\n\nexport const getManageMerchantURL = (withWWW?: boolean): string => {\n  const prefix = withWWW ? 'https://www.' : 'https://';\n  if (process.env.REACT_APP_IS_STAGING === '1') {\n    return `${prefix}staging.manage.1m.app`\n  } else if (process.env.NODE_ENV == \"production\") {\n    return `${prefix}manage.1m.app`\n  } else {\n    return \"http://localhost:3000\"\n  }\n}\n\nexport const getMarketPlaceURL = (withWWW?: boolean): string => {\n  const prefix = withWWW ? 'https://www.' : 'https://';\n  if (process.env.REACT_APP_IS_STAGING === '1') {\n    return `${prefix}staging.1m.app`\n  } else if (process.env.NODE_ENV == \"production\") {\n    return `${prefix}1m.app`\n  } else {\n    return \"http://localhost:3000\"\n  }\n}\n\nexport const getMarketPlaceMerchantURL = (merchant: Merchant): string => {\n  return `${getMarketPlaceURL()}/${merchant.username}`\n}\n\nexport const getMarketPlaceOrderStatusURL = (order: Order): string => {\n  return `${getMarketPlaceURL()}/order/${order.id}`\n}\n\nexport const getMarketPlaceMerchantQRCodeURL = (merchant: Merchant, qrcode: MerchantQRCode) => {\n  const searchParmas = new URLSearchParams()\n  switch (qrcode.type) {\n    case QRCodeType.Table:\n      searchParmas.append('tableid', `${qrcode.id}`);\n      break;\n    case QRCodeType.Social:\n    default:\n      searchParmas.append('qrid', `${qrcode.id}`);\n      break;\n  }\n\n  return `${getMarketPlaceURL(true)}/${merchant.username}?${searchParmas.toString()}`\n}","import React from \"react\";\nimport { MerchandiseApiResponseType, Merchant } from \"../../services/models\";\n\n// TODO: Move this models or type definition into models or types folder\nexport interface VisitedMerchantCache {\n  merchant: Merchant,\n  lastVisitedAt: Date,\n}\n\nexport type VisitedMerchantDictionary = {[key: string]: VisitedMerchantCache}\n\nexport interface VisitedMerchantContextState {\n  visitedMerchant?: Merchant;\n  setVisitedMerchant: (merchant: Merchant) => void,\n  visitedMenu?: MerchandiseApiResponseType;\n  setVisitedMenu: (menu: MerchandiseApiResponseType) => void,\n  isMerchantOrderingAvailable: boolean,\n  visitedMerchantList: VisitedMerchantDictionary,\n}\n\nexport const VisitedMerchantContext = React.createContext<VisitedMerchantContextState>({\n  visitedMerchant: undefined,\n  setVisitedMerchant: (_: Merchant) => ({}),\n  visitedMenu: undefined,\n  setVisitedMenu: (_: MerchandiseApiResponseType) => ({}),\n  isMerchantOrderingAvailable: true,\n  visitedMerchantList: {},\n})\n","import React, { useContext, useMemo } from 'react';\nimport DocumentMeta from 'react-document-meta';\n\nimport { getMarketPlaceMerchantURL, getMarketPlaceURL } from '../../bos_common/src/services/urls';\n\nimport { VisitedMerchantContext } from '../../context/VisitedMerchantContext/VisitedMerchantContext';\n\ntype DocumentMetaTagsProps = {\n  children: React.ReactElement\n}\nconst DocumentMetaTags = ({ children }: DocumentMetaTagsProps) => {\n  const { visitedMerchant } = useContext(VisitedMerchantContext);\n\n  const meta = useMemo(() => ({\n    title: `${visitedMerchant ? `${visitedMerchant.officialName}${visitedMerchant.category ? ` - ${visitedMerchant.category}` : ''}` : 'One Market'}`,\n    description: \"Buy local, get rewards on 1m.app\",\n    canonical: visitedMerchant ? getMarketPlaceMerchantURL(visitedMerchant) : getMarketPlaceURL(),\n  }), [visitedMerchant])\n\n  return (\n    <DocumentMeta {...meta}>\n      {children}\n    </DocumentMeta>\n  )\n}\n\nexport default DocumentMetaTags;","import React from \"react\";\nimport { AppBar, createStyles, makeStyles, Slide, Theme, Toolbar, Typography, useScrollTrigger } from \"@material-ui/core\";\nimport { MenuDrawer } from \"./MenuDrawer\";\nimport { isKioskDevice, isWebViewEmbed } from \"../../utils\";\nimport DocumentMetaTags from \"./DocumentMetaTags\";\n\ninterface Props {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window?: () => Window;\n  children: React.ReactElement;\n}\n\nfunction HideOnScroll(props: Props) {\n  const { children, window } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    target: window ? window() : undefined,\n  });\n\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: ({ headerTheme }: any) => ({\n      '& .toolbar': {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: 0,\n        ...(headerTheme === 'dark' && {\n          backgroundColor: theme.palette.primary.dark,\n          color: 'white'\n        }),\n        '& .left': {\n          display: \"flex\",\n          flexShrink: 1,\n          justifyContent: \"flex-start\",\n          alignItems: 'center'\n        },\n        '& .title': {\n          display: \"block\",\n          textAlign: \"center\",\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          color: headerTheme === \"dark\" ? theme.palette.common.white : theme.palette.primary.main,\n          fontWeight: \"bold\",\n        },\n        '& .leftTitle': {\n          display: \"block\",\n          textAlign: \"left\",\n          paddingLeft: theme.spacing(2),\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n        },\n        '& .right': {\n          display: \"flex\",\n          flexShrink: 0,\n          justifyContent: \"flex-end\",\n        },\n        '& .orderOptionButton': {\n          marginLeft: theme.spacing(1),\n          height: 40\n        },\n      }\n    })\n  }),\n);\n\nconst PageHeader = (props: {\n  title: string | React.ReactNode,\n  leftChild?: React.ReactNode,\n  rightChild?: React.ReactNode,\n  theme?: 'dark' | 'light',\n  hideOnScroll?: boolean\n}): React.ReactElement | null => {\n  const {\n    title,\n    leftChild,\n    theme = 'light',\n    hideOnScroll = true\n  } = props\n  const classes = useStyles({ headerTheme: theme })\n\n  if (isWebViewEmbed()) return null\n\n  const rightChild = props.rightChild\n    ? props.rightChild\n    : (isKioskDevice() ? null : <MenuDrawer />)\n\n  const Content = <AppBar color={'inherit'} elevation={0}>\n    <Toolbar className=\"toolbar\">\n      {leftChild && (\n        <div className=\"left\">\n          {leftChild}\n        </div>\n      )}\n      <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }} className={leftChild ? \"title\" : \"leftTitle\"}>\n        {title}\n      </Typography>\n      <div className=\"right\">\n        {rightChild}\n      </div>\n    </Toolbar>\n  </AppBar>\n\n  return (\n    <DocumentMetaTags>\n      <div className={classes.root}>\n        {hideOnScroll ?\n          <HideOnScroll {...props}>\n            {Content}\n          </HideOnScroll>\n          : Content\n        }\n\n        <Toolbar />\n      </div>\n    </DocumentMetaTags>\n  );\n}\n\nexport default PageHeader;","import React from 'react';\nimport ReactGA from 'react-ga'\nimport GoogleTagsManager from 'react-gtm-module';\n\nimport config from '../../config/config';\nimport { isEmptyOrNil, isProduction } from '../../utils';\nimport { CapturedEventData } from './types';\n\nexport enum EVENT_TYPES {\n  // page visit events\n  VISITED_MERCHANT_MENU = \"VISITED_MERCHANT_MENU\",\n  VISITED_MERCHANDISE_PAGE = \"VISITED_MERCHANDISE_PAGE\",\n  VISITED_SHOPPING_CART = \"VISITED_SHOPPING_CART\",\n  VISITED_1M_POINTS = 'VISITED_1M_POINTS',\n  VISITED_ORDER_STATUS = 'VISITED_ORDER_STATUS',\n\n  // order checkout events\n  OPEN_CHECK_ORDER_STARTED = \"OPEN_CHECK_ORDER_STARTED\",\n  OPEN_CHECK_ORDER_COMPLETED = \"OPEN_CHECK_ORDER_COMPLETED\",\n\n  ORDER_CHECKOUT_STARTED = \"ORDER_CHECKOUT_STARTED\",\n  ORDER_CHECKOUT_CANCELLED = \"ORDER_CHECKOUT_CANCELLED\",\n  ORDER_CHECKOUT_COMPLETED = \"ORDER_CHECKOUT_COMPLETED\",\n\n  ORDER_1M_POINTS = \"ORDER_1M_POINTS\"\n}\n\nexport enum EVENT_ACTIONS {\n  CLICK_ACTION = 'CLICK_ACTION',\n  ON_PAGE_LOAD = 'ON_PAGE_LOAD',\n  ON_POPUP_OPEN = 'ON_POPUP_OPEN',\n  SWITCHED_MERCHANT = 'SWITCHED_MERCHANT'\n}\n\nconst GA_OPTIONS = {\n  siteSpeedSampleRate: 100\n}\n\nconst isGATrackingEnabled = () => isProduction() && !isEmptyOrNil(config.appConfig.gaTrackingId)\nconst isGTMTrackingEnabled = () => isProduction() && !isEmptyOrNil(config.appConfig.gtmTrackingId)\n\nexport const initializeReactGA = () => {\n  // load tracking ID from the config file\n  if (isGATrackingEnabled()) {\n    ReactGA.initialize(\n      config.appConfig.gaTrackingId,\n      { gaOptions: GA_OPTIONS }\n    );\n    const pageView = window.location.pathname + window.location.search\n    ReactGA.pageview(pageView)\n  }\n}\n\nexport const initializeGoogleTrackingManager = () => {\n  // load tracking ID from the config file\n  if (isGTMTrackingEnabled()) {\n    GoogleTagsManager.initialize({\n      gtmId: config.appConfig.gtmTrackingId\n    })\n  }\n}\n\nconst getUserDimension = (data: CapturedEventData): string | undefined => {\n  if (!data.user) return undefined\n\n  const { id, email, phoneNumber } = data.user\n  const _id = id ? `id=${id};` : ''\n  const _email = email ? `email=${email};` : ''\n  const _phone = phoneNumber ? `phoneNumber=${phoneNumber};` : ''\n  return `${_id}${_email}${_phone};type=user`\n}\n\nconst getMerchantDimension = (data: CapturedEventData): string | undefined => {\n  if (!data.merchant) return undefined\n  const { username, id } = data.merchant\n  return `id=${id};username=${username};type=merchant`\n}\n\nconst getOrderDimension = (data: CapturedEventData): string | undefined => {\n  if (!data.order) return undefined\n  const { id, merchantId } = data.order\n  return `id=${id};merchantId=${merchantId};type=order`\n}\n\nconst getMerchandiseDimension = (data: CapturedEventData): string | undefined => {\n  if (!data.merchandise) return undefined\n  const { id, merchantId, name } = data.merchandise\n  return `id=${id};name=${name};merchantId=${merchantId};type=merchandise`\n}\n\nconst sendEventData = (eventData: ReactGA.EventArgs) => {\n  try {\n    if (!isProduction()) {\n      console.log(\"--------------\")\n      console.log(\"EVENT Captured\")\n      console.log(eventData)\n      console.log(\"--------------\")\n      return;\n    }\n\n    ReactGA.event(eventData)\n\n  } catch (error) {\n    console.error(\"sendEventData :error\", error)\n  }\n}\n\ninterface CaptureEventParams {\n  category: EVENT_TYPES,\n  action: EVENT_ACTIONS | string,\n  data?: CapturedEventData,\n  label?: string\n}\n\nexport const captureSwitchMerchantEvent = (data: CapturedEventData) => {\n  const eventData: ReactGA.EventArgs = {\n    category: EVENT_TYPES.VISITED_MERCHANT_MENU,\n    action: EVENT_ACTIONS.SWITCHED_MERCHANT,\n    dimension1: getMerchantDimension(data),\n    dimension2: getUserDimension(data),\n  }\n\n  sendEventData(eventData);\n}\n\nexport const captureClickEvent = (params: Omit<CaptureEventParams, 'action'>) => {\n  const { category, data = {}, label = '' } = params;\n\n  const eventData = {\n    category,\n    action: EVENT_ACTIONS.CLICK_ACTION,\n    label,\n    dimension1: getMerchantDimension(data),\n    dimension2: getUserDimension(data),\n    dimension3: getOrderDimension(data),\n    dimension4: getMerchandiseDimension(data),\n  }\n  sendEventData(eventData);\n}\n\nexport const captureOrderCheckoutCompleteEvent = (data: CapturedEventData) => {\n  const eventData: ReactGA.EventArgs = {\n    category: EVENT_TYPES.ORDER_CHECKOUT_COMPLETED,\n    action: EVENT_ACTIONS.ON_PAGE_LOAD,\n    dimension1: getMerchantDimension(data),\n    dimension2: getUserDimension(data),\n    dimension3: getOrderDimension(data),\n  }\n  sendEventData(eventData);\n}","import React from \"react\";\nimport { Card, CardContent } from \"@material-ui/core\";\n\nimport PageHeader from \"../components/common/PageHeader\";\n\ntype NoneExistPageProps = {\n  title?: string | React.ReactNode\n}\n\nconst NoneExistPage = ({ title = 'Page not found' }: NoneExistPageProps): React.ReactElement => {\n  return (\n    <div className=\"container\">\n      <PageHeader title={title} />\n      <Card variant=\"outlined\">\n        <CardContent>\n          <p>Sorry that we could not find the page even after we turned our warehouse upside down.</p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default NoneExistPage;","import React from 'react';\nimport classNames from 'classnames';\nimport { createStyles, Fab, makeStyles, Theme } from '@material-ui/core';\n\nimport { ColoredPaper } from './Papers';\n\n// default alignment is center for mobile and right for web\ntype Alignment = 'default' | 'center' | 'right';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root:({ alignment, buttonCount }: any)=> ({\n      boxShadow: \"none !important\",\n      '& .fab': {\n        position: 'fixed',\n        width: '100%',\n        bottom: theme.spacing(1),\n        right: theme.spacing(2),\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'flex-end',\n        zIndex: 10,\n        ...( alignment !== 'right' && {\n          [theme.breakpoints.down('sm')]: {\n            '& .MuiButtonBase-root': {\n              width: 'calc(100% - 32px)',\n              marginRight: 0,\n              marginLeft: 0,\n            }\n          }}\n        ),\n      },\n      '& .MuiFab-root.backdrop': {\n        margin: theme.spacing(3),\n        visibility: 'hidden',\n        [theme.breakpoints.down('sm')]: {\n          margin: theme.spacing(3*buttonCount),\n        }\n      },\n      '& .multifab': {\n        position: 'fixed',\n        width: '100%',\n        bottom: theme.spacing(1),\n        left: 0,\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        zIndex: 10,\n        [theme.breakpoints.down('sm')]: {\n          flexDirection: 'column',\n          justifyContent: 'center',\n          '& .MuiButtonBase-root': {\n            width: 'calc(100% - 32px)',\n            marginRight: 0,\n            marginLeft: 0,\n          }\n        }\n      },\n      '& .MuiFab-root': {\n        margin: theme.spacing(1),\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      '& .MuiSvgIcon-root': {\n        paddingRight: theme.spacing(1),\n      },\n    }),\n  }),\n);\ninterface Props {\n  children: React.ReactElement | Array<React.ReactElement>,\n  alignment?: Alignment,\n}\n\ninterface FabProps extends Props {\n  fadeTop?: boolean,\n  fabStyle?: React.CSSProperties,\n  className?: string,\n}\n\ninterface MultiFabProps extends FabProps {\n  buttonCount?: number,\n}\n\n/**\n * CTA FAB custom styling, mainly for top fading.\n *\n * @param {boolean} fadeTop is top section need to be faded.\n * @returns {React.CSSProperties}\n */\nconst ctaFadeTopStyling = (fadeTop = false): React.CSSProperties => {\n  return fadeTop\n      ? {\n          background: \"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #f5faff 27.6%)\",\n          right: 0,\n          bottom: 0,\n      } : {}\n}\n\nexport const MultiFabContainer = ({\n  children,\n  fabStyle = {},\n  fadeTop = false,\n  alignment = 'default',\n  buttonCount = 2,\n}: MultiFabProps) => {\n  const classes = useStyles({ alignment, buttonCount })\n  return (\n    <ColoredPaper elevation={0} className={classes.root}>\n      <Fab className=\"backdrop\" />\n      <div className=\"multifab\" style={{...ctaFadeTopStyling(fadeTop), ...fabStyle}}>\n        {children}\n      </div>\n    </ColoredPaper>\n  )\n}\n\nexport const FabContainer = ({\n  children,\n  fabStyle = {},\n  fadeTop = false,\n  alignment = 'default',\n  className=\"\"\n}: FabProps) => {\n  const buttonCount = 1;\n  const classes = useStyles({ alignment, buttonCount });\n\n  const colorPaperClasses = classNames(classes.root, { [className]: Boolean(className)})\n\n  return (\n    <ColoredPaper elevation={0} className={colorPaperClasses}>\n      <Fab className=\"backdrop\" />\n      <div className={\"fab\"} style={{...ctaFadeTopStyling(fadeTop), ...fabStyle}}>\n        {children}\n      </div>\n    </ColoredPaper>\n  )\n}","import React from 'react';\nimport { makeStyles, createStyles, Theme, LinearProgress } from '@material-ui/core';\nimport { Else, If, Then } from 'react-if';\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\theight: 4,\n\t\t\twidth: '100%',\n\t\t},\n\t}),\n)\n\ntype SimpleLoaderProps = {\n\tloading: boolean,\n\tbackgroundColor?: string\n}\n\nconst SimpleLoader = ({ loading = false, backgroundColor = 'transparent' }: SimpleLoaderProps) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<If condition={loading}>\n\t\t\t<Then>\n\t\t\t\t<LinearProgress sx={{ zIndex: 10 }} />\n\t\t\t</Then>\n\t\t\t<Else>\n\t\t\t\t<div className={classes.root} style={{ backgroundColor }}/>\n\t\t\t</Else>\n\t\t</If>\n\t)\n}\n\nexport default SimpleLoader","import { Merchant } from \"../types/MerchantType\"\nimport { LineItem, Order, OrderStatus } from \"../types/OrderTypes\"\nimport { toFixed2 } from \"../utils\"\n\nexport const getOrder1Mpoints = (order: Order, merchant: Merchant): number => {\n  // check if merchant support 1m points\n\n  // compute 1m points\n  const points_per_dollar = 10\n  const pointsFromItems = +order.lineItems.reduce((a: number, b: LineItem) => a + b.quantity * b.price * points_per_dollar, 0)\n  const pointsFromTip = +(order.tip * points_per_dollar)\n  return Math.round(pointsFromItems + pointsFromTip)\n}\n\nexport const getOrderSubtotalPrice = (items: LineItem[], ignoreRefundedRedeemedItem?: boolean): number => {\n  return toFixed2(\n    items.reduce((a: number, b: LineItem) => {\n      const quantityRedeemed = b.quantityRedeemed || 0;\n      const addition = ignoreRefundedRedeemedItem === true\n        ? (b.refunded === true ? 0 : (b.quantity - quantityRedeemed) * b.price)\n        : b.quantity * b.price;\n      return a + addition;\n    }, 0)\n  );\n};\n\nexport const getOrderTotalItems = (items: LineItem[]): number => {\n  return items.reduce((a: number, b: LineItem) => a + b.quantity, 0)\n}\n\nexport const getRefundedTax = (order: Order): number => {\n  if (order.cancellationInfo) {\n    return +order.cancellationInfo.reduce((acc, info) => acc + Number(info.taxRefundAmount), 0);\n  }\n  return 0;\n}\n\nexport const getRefundedTip = (order: Order): number => {\n  if (order.cancellationInfo) {\n    return +order.cancellationInfo.reduce((acc, info) => acc + Number(info.tipRefundAmount), 0);\n  }\n  return 0;\n}\n\nexport const getOrderPriceBreakdown = (order: Order, ignoreRefundedRedeemedItem?: boolean): Array<[string, number]> => {\n  const breakdowns = new Array<[string, number]>();\n  breakdowns.push(['Subtotal', getOrderSubtotalPrice(order.lineItems, ignoreRefundedRedeemedItem)]);\n\n  if (order.status === OrderStatus.PAID || order.status === OrderStatus.FULFILLED) {\n    if (order.couponRedemptionInfo && order.couponRedemptionInfo?.amountRedeemed > 0) {\n      breakdowns.push([\n        `\"${order.couponRedemptionInfo.couponCode}\"`,\n        -order.couponRedemptionInfo.amountRedeemed,\n      ]);\n    }\n    if (order.pointsRedemptionInfo && order.pointsRedemptionInfo?.amountRedeemed > 0) {\n      // subtracting the coupon amount from the 1m points redeemedAmount\n      const amountRedeemed = order.couponRedemptionInfo && order.couponRedemptionInfo?.amountRedeemed > 0\n        ? order.pointsRedemptionInfo?.amountRedeemed - order.couponRedemptionInfo?.amountRedeemed\n        : order.pointsRedemptionInfo?.amountRedeemed\n\n      breakdowns.push(['1M Points Redeemed', -amountRedeemed]);\n    }\n    const tax = Number(order.beforeRefundInfo ? order.beforeRefundInfo.tax : order.tax);\n    breakdowns.push(['Taxes', toFixed2(tax)]);\n    const tip = Number(order.beforeRefundInfo ? order.beforeRefundInfo.tip : order.tip);\n    if (tip > 0) {\n      breakdowns.push(['Tip', toFixed2(tip)]);\n    }\n    if (order.refundedAmount > 0) {\n      breakdowns.push(['Refund', -order.refundedAmount]);\n    }\n  } else {\n    const tax = Number(order.beforeRefundInfo ? order.beforeRefundInfo.tax : order.tax);\n    breakdowns.push(['Taxes', toFixed2(tax)]);\n    const tip = Number(order.beforeRefundInfo ? order.beforeRefundInfo.tip : order.tip);\n    if (tip > 0) {\n      breakdowns.push(['Tip', toFixed2(tip)]);\n    }\n  }\n  return breakdowns;\n};\n\nexport const calculateRefundAmount = (order: Order, refundedItems: LineItem[]): number => {\n  const subtotal = getOrderSubtotalPrice(order.lineItems, true);\n  const refundSubtotal = getOrderSubtotalPrice(refundedItems, true);\n\n  // include discount in refund estimation\n  const couponRedemption = order.couponRedemptionInfo?.amountRedeemed || 0;\n  const subtotalAll = getOrderSubtotalPrice(order.lineItems);\n  const discountRatio = 1 - couponRedemption / subtotalAll;\n\n  const refundTotal = refundSubtotal * discountRatio + (refundSubtotal / subtotal) * (Number(order.tax) + Number(order.tip));\n  return Math.round(refundTotal * 100) / 100;\n}","import { pathOr } from \"ramda\";\nimport { isCouponValid, isCouponValidOnMerchandises } from \"../bos_common/src/services/CouponUtils\";\nimport { isPromotionValid } from \"../bos_common/src/services/PromotionUtils\";\nimport { MerchantOrderingConfig } from \"../bos_common/src/types/MerchantOrderingConfigType\";\nimport { MerchantPromotion, PromotionValueType } from \"../bos_common/src/types/MerchantPromotionType\";\n\nimport { CartItemType, MerchantCartConfig, TipData } from \"../context/AppContext\"\nimport { isEmptyOrNil, isMerchandisePromoted, toFixed2 } from \"../utils\";\nimport { CouponValueType, MerchantCoupon, Order, Merchandise, LineItem, ItemType } from \"./models\";\n\nexport const getTotalItems = (cart: CartItemType[]): number => {\n  return cart.reduce((a: number, b: CartItemType) => a + b.quantity, 0)\n}\n\n// 0.075 is the california sales tax rate\n// by default use 0.075 if merchant has not configured a tax rate yet\nconst getMerchantTaxRate = (config?: MerchantOrderingConfig) => Number(config?.taxRate || 0.075)\n\nexport const getItemsRedeemAmount = (list: CartItemType[]): number => {\n  return toFixed2(list.reduce((a: number, b: CartItemType) => a + (b.quantityRedeemed || 0) * b.price, 0));\n}\n\nconst isCouponValidOnCartItems = (cart: CartItemType[], coupon?: MerchantCoupon) => {\n  if (!coupon || !isCouponValid(coupon)) {\n    return null;\n  }\n\n  if (coupon.affectedItems) {\n    const eligibleItems: CartItemType[] = cart.filter((item: CartItemType) => {\n      const match = coupon.affectedItems?.filter((aitem) => {\n        if (aitem.type === ItemType.CATEGORY) {\n          return aitem.id === item.categoryId;\n        } else if (aitem.type == ItemType.MERCHANDISE) {\n          return aitem.id === item.id;\n        }\n        return false;\n      });\n      return (match?.length || 0) > 0;\n    });\n    return eligibleItems;\n  }\n\n  return cart;\n}\n\nexport const getDiscountedAmount = (subtotal: number, coupon: MerchantCoupon | undefined): number => {\n  if (!isCouponValid(coupon)) return 0;\n  if (coupon?.promotion && !isPromotionValid(coupon.promotion)) return 0;\n\n  switch (coupon?.valueType) {\n    case CouponValueType.PERCENTAGE:\n      return toFixed2(subtotal * coupon.value);\n    case CouponValueType.ABSOLUTE:\n    default:\n      return Math.min(coupon?.value || 0, subtotal);\n  }\n}\n\nexport const getCartDiscountedAmount = (cart: CartItemType[], coupon: MerchantCoupon | undefined): number => {\n  if (!isCouponValid(coupon)) return 0;\n  if (coupon?.promotion && !isPromotionValid(coupon.promotion)) return 0;\n\n  const filteredCart = isCouponValidOnCartItems(cart, coupon);\n  const newSubtotal = getSubtotalPrice(filteredCart || [])\n\n  switch (coupon?.valueType) {\n    case CouponValueType.PERCENTAGE:\n      return toFixed2(newSubtotal * coupon.value);\n    case CouponValueType.ABSOLUTE:\n    default:\n      return Math.min(coupon?.value || 0, newSubtotal);\n  }\n}\n\nexport const getTotalTip = (cart: CartItemType[], tip: TipData): number => {\n  const tipRate = tip.tipRate\n  if (tipRate) {\n    return toFixed2(cart.reduce((a: number, b: CartItemType) => a + b.quantity * b.price * tipRate, 0));\n  } else if (tip.customTip) {\n    return tip.customTip\n  }\n  return 0\n}\n\nexport const getSubtotalPrice = (cart: CartItemType[]): number => {\n  return toFixed2(cart.reduce((a: number, b: CartItemType) => a + b.quantity * b.price, 0));\n}\n\nconst _getSubtotalToPay = (subtotal: number, discountedAmount: number, redeemedAmount: number): number => {\n  return toFixed2(Math.max(subtotal - redeemedAmount - discountedAmount, 0));\n}\n\nexport const getSubtotalToPay = (cart: CartItemType[], coupon?: MerchantCoupon): number => {\n  const subtotal = getSubtotalPrice(cart);\n  const discountedAmount = getCartDiscountedAmount(cart, coupon);\n  const redeemedAmount = getItemsRedeemAmount(cart);\n  return _getSubtotalToPay(subtotal, discountedAmount, redeemedAmount);\n}\n\nconst _getTotalTax = (subtotalToPay: number, orderingConfig: MerchantOrderingConfig | undefined): number => {\n  const merchantTaxRate = getMerchantTaxRate(orderingConfig)\n  return toFixed2(subtotalToPay * merchantTaxRate);\n}\n\nexport const getTotalTax = (cart: CartItemType[], coupon: MerchantCoupon | undefined, orderingConfig: MerchantOrderingConfig | undefined): number => {\n  const subtotalToPay = getSubtotalToPay(cart, coupon);\n  return _getTotalTax(subtotalToPay, orderingConfig);\n}\n\n// Todo: this should be on backend to avoid client side tempering\nexport const getTotalPrice = (params: { cart: CartItemType[], tip: TipData, coupon: MerchantCoupon | undefined, orderingConfig?: MerchantOrderingConfig }): number => {\n  const {\n    cart = [],\n    tip,\n    coupon,\n    orderingConfig,\n  } = params;\n  const subtotalToPay = getSubtotalToPay(cart, coupon);\n  const tipAmount = getTotalTip(cart, tip);\n  const taxAmount = _getTotalTax(subtotalToPay, orderingConfig);\n  return toFixed2(subtotalToPay + tipAmount + taxAmount);\n}\n\nexport const getPriceBreakdown = (\n  cart: CartItemType[],\n  tip: TipData,\n  coupon: MerchantCoupon | undefined,\n  orderingConfig: MerchantOrderingConfig | undefined,\n  promotion?: MerchantPromotion,\n): Array<[string, number]> => {\n  const breakdowns = new Array<[string, number]>()\n  const subtotal = getSubtotalPrice(cart)\n  const discountedAmount = getCartDiscountedAmount(cart, coupon)\n  const redeemAmount = getItemsRedeemAmount(cart)\n  const subtotalToPay = _getSubtotalToPay(subtotal, discountedAmount, redeemAmount)\n  breakdowns.push([\"Subtotal\", subtotal])\n  if (discountedAmount > 0) {\n    breakdowns.push([coupon?.code || \"coupon\", -discountedAmount]);\n  }\n  if (redeemAmount > 0) {\n    breakdowns.push([\"1M Points redeemed\", -redeemAmount]);\n  }\n  breakdowns.push([\"Taxes\", _getTotalTax(subtotalToPay, orderingConfig)])\n  const tipVal = getTotalTip(cart, tip)\n  if (tipVal > 0) {\n    breakdowns.push([\"Tip\", tipVal])\n  }\n  return breakdowns\n}\n\nconst defaultTipRatesConfig = [\n  { tipRate: 0.18 },\n  { tipRate: 0.2 },\n  { tipRate: 0.15 },\n]\n\nexport const getMerchantTipRatesConfig = (merchantConfig?: MerchantCartConfig): Array<TipData> => {\n  const tipOptions = pathOr([], ['merchant', 'orderingConfig', 'tipOptions'], merchantConfig)\n  if (isEmptyOrNil(tipOptions)) return defaultTipRatesConfig\n  return tipOptions\n}\n\nexport * from '../bos_common/src/services/orderPricingUtils'","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgKosher(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 25,\n    height: 24,\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    opacity: 0.25,\n    d: \"M12.7018 0C6.14283 0 0.776367 5.36646 0.776367 11.9255C0.776367 18.4845 6.14283 23.8509 12.7018 23.8509C19.2608 23.8509 24.6273 18.4845 24.6273 11.9255C24.6273 5.36646 19.2608 0 12.7018 0Z\",\n    fill: \"#036EB8\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.739 16.0246C18.9626 16.0246 19.1862 15.8755 19.2607 15.7265C19.3353 15.5774 19.3353 15.2793 19.2607 15.1302L17.3974 11.9252L19.2607 8.72027C19.3353 8.49667 19.3353 8.27306 19.2607 8.124C19.1862 7.97493 18.9626 7.82586 18.739 7.82586H15.0123L13.1489 4.62089C13.0744 4.39729 12.8508 4.32275 12.6272 4.32275C12.4036 4.32275 12.18 4.47182 12.1054 4.62089L10.2421 7.82586H6.51538C6.29178 7.82586 6.06818 7.97493 5.99364 8.124C5.91911 8.27306 5.91911 8.5712 5.99364 8.72027L7.857 11.9252L5.99364 15.1302C5.91911 15.3538 5.91911 15.5774 5.99364 15.7265C6.06818 15.9501 6.29178 16.0246 6.51538 16.0246H10.2421L12.1054 19.2296C12.18 19.4532 12.4036 19.5277 12.6272 19.5277C12.8508 19.5277 13.0744 19.3787 13.1489 19.2296L15.0123 16.0246H18.739ZM17.6955 14.8321H15.7576L16.7266 13.1923L17.6955 14.8321ZM14.3415 14.8321H10.9874L9.34768 11.9252L10.9874 9.01841H14.3415L15.9812 11.9252L14.3415 14.8321ZM17.6955 9.01841L16.7266 10.6582L15.7576 9.01841H17.6955ZM12.7017 6.11157L13.6707 7.75133H11.7328L12.7017 6.11157ZM7.6334 9.01841H9.57128L8.60234 10.6582L7.6334 9.01841ZM7.6334 14.8321L8.60234 13.1923L9.57128 14.8321H7.6334ZM12.7017 17.6644L11.7328 16.0246H13.6707L12.7017 17.6644Z\",\n    fill: \"#036EB8\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgKosher);\nexport default __webpack_public_path__ + \"static/media/kosher.b024dc77.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  AppBar,\n  Chip,\n  createStyles,\n  Theme,\n  makeStyles,\n  Toolbar,\n} from \"@material-ui/core\";\nimport classNames from \"classnames\";\nimport { rgba } from \"polished\";\nimport { If, Then, Else } from \"react-if\";\nimport { Link } from \"react-scroll\";\n\nimport { MerchandiseCategory } from \"../../types/MerchandiseType\";\nimport { ColoredPaper } from \"../Papers\";\nimport SimpleLoader from \"../SimpleLoader\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    categoriesList: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      overflowY: \"hidden\",\n      overflowX: \"auto\",\n      margin: 0,\n      whiteSpace: \"nowrap\",\n      listStyleType: \"none\",\n      paddingLeft: theme.spacing(2.5),\n      flexWrap: \"nowrap\",\n      justifyItems: \"center\",\n\n      \"& .MuiChip-colorSecondary\": {\n        color: \"white\",\n      },\n      \"& .item\": {\n        display: \"inline-block\",\n        padding: `${theme.spacing(2)} 0`,\n        marginRight: theme.spacing(2),\n\n        \"&::last-child\": {\n          marginRight: 0,\n        },\n\n        \"& .active\": {\n          \"& .link\": {\n            color: theme.palette.primary.main,\n            background: rgba(theme.palette.primary.main, 0.15),\n            borderColor: theme.palette.primary.main,\n          },\n        },\n\n        \"& .link\": {\n          color: theme.palette.secondary.light,\n          borderRadius: 8,\n          padding: `${theme.spacing(1)} ${theme.spacing(1)}`,\n          fontSize: \"14px\",\n          background: rgba(theme.palette.secondary.light, 0.15),\n          borderColor: theme.palette.secondary.light,\n\n          \"& .MuiChip-label\": {\n            padding: 0,\n            marginTop: -1,\n          },\n        },\n      },\n    },\n    toolbarContainer: {\n      position: \"fixed\",\n      width: \"100%\",\n      zIndex: 10,\n      backgroundColor: \"#fff !important\",\n      borderRadius: 0,\n    },\n    toolbarPlaceholder: {\n      height: \"64px\",\n      marginBottom: \"15px\",\n    },\n  })\n);\n\nconst sortCategoriesByDisplayOrder = (\n  a: MerchandiseCategory,\n  b: MerchandiseCategory\n) => a.displayOrder - b.displayOrder;\n\ntype MerchandiseCategoriesHeaderProps = {\n  categories?: Array<MerchandiseCategory>;\n  setSelectedCategory: (name: number) => void;\n  selectedCategory: number;\n  loading?: boolean;\n  isToolbar?: boolean;\n  customAppbarClass?: string;\n  customToolbarClass?: string;\n};\nconst MerchandiseCategoriesHeader = (\n  props: MerchandiseCategoriesHeaderProps\n) => {\n  const classes = useStyles();\n  const {\n    categories = [],\n    setSelectedCategory,\n    selectedCategory,\n    loading = false,\n    isToolbar = false,\n    customAppbarClass,\n    customToolbarClass,\n  } = props;\n\n  if (categories.length === 0) return null;\n\n  const CategoriesList = (\n    <ul className={classes.categoriesList}>\n      {categories?.sort(sortCategoriesByDisplayOrder).map((category) => (\n        <li key={category.id} className=\"item\">\n          <Link\n            activeClass=\"active\"\n            to={`category-${category.id}`}\n            spy\n            smooth\n            duration={500}\n            offset={-150}\n            onSetActive={() => setSelectedCategory(category.id)}\n          >\n            <Chip\n              label={category.name}\n              variant=\"outlined\"\n              className=\"link\"\n              clickable\n              color={selectedCategory === category.id ? \"secondary\" : \"default\"}\n            />\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n\n  return (\n    <>\n      {isToolbar ? (\n        <>\n          <Toolbar\n            component={ColoredPaper}\n            elevation={3}\n            className={classNames([\n              classes.toolbarContainer,\n              customToolbarClass,\n            ])}\n          >\n            {CategoriesList}\n          </Toolbar>\n          <div className={classes.toolbarPlaceholder} />\n        </>\n      ) : (\n        <AppBar\n          component={ColoredPaper}\n          position=\"sticky\"\n          color=\"default\"\n          className={classNames([customAppbarClass])}\n        >\n          {CategoriesList}\n        </AppBar>\n      )}\n    </>\n  );\n};\n\nexport default MerchandiseCategoriesHeader;\n","\nimport React, { useState } from 'react';\nimport { CardHeader } from '@material-ui/core';\nimport { If, Then, Else } from 'react-if';\n\nimport { MerchandiseCategory } from '../../types/MerchandiseType';\n\nimport MerchandiseCategoriesHeader from './MerchandiseCategoriesHeader';\n\ntype MerchandiseListingProps = {\n  categories: Array<MerchandiseCategory>,\n  menuItemsAvailable: boolean\n  children: React.ReactElement | Array<React.ReactElement>\n  loading?: boolean,\n  isToolbar?: boolean,\n}\nconst MerchandiseListing = (props: MerchandiseListingProps): React.ReactElement => {\n  const { categories, loading = false, children, menuItemsAvailable = false, isToolbar = false } = props;\n\n  const initSelectedCategory = () => categories.length > 0 ? categories[0].id : -1\n  const [selectedCategory, setSelectedCategory] = useState<number>(initSelectedCategory());\n\n  return (\n    <If condition={!menuItemsAvailable && !loading}>\n      <Then>\n        <CardHeader subheader=\"No menu items available.\" />\n      </Then>\n      <Else>\n        <>\n          <MerchandiseCategoriesHeader\n            categories={categories}\n            selectedCategory={selectedCategory}\n            setSelectedCategory={(id: number) => setSelectedCategory(id)}\n            loading={loading}\n            isToolbar={isToolbar}\n          />\n          {children}\n        </>\n      </Else>\n    </If>\n  )\n}\n\nexport default MerchandiseListing;","import { Merchandise, MerchandiseCategory } from \"../types/MerchandiseType\"\nimport { Merchant } from \"../types/MerchantType\"\n\nexport type MerchandiseWithCategory = { merchandises: Array<Merchandise>, category: MerchandiseCategory | null }\n\nexport const generateEverythingElseCategory = (merchant?: Merchant) => ({\n  id: -1,\n  displayOrder: 9999,\n  merchantId: merchant?.id || '',\n  name: 'Everything else',\n  description: '',\n  createdAt: new Date(),\n  updatedAt: new Date(),\n  version: 0,\n})\n\ninterface IGroupMerchandiseDataByCategories {\n  categories?: Array<MerchandiseCategory>,\n  merchandises?: Array<Merchandise>,\n  merchant?: Merchant\n}\nexport const groupMerchandiseDataByCategories = ({ categories = [], merchandises = [], merchant }: IGroupMerchandiseDataByCategories): Array<MerchandiseWithCategory> => {\n  let groupedData = []\n\n  const hasCategoryInMerchandises = merchandises.filter((i) => !!i.categoryId).length > 0;\n  if (categories.length > 0) {\n    categories?.forEach((category: MerchandiseCategory) => {\n      const merchandises: Merchandise[] = []\n      groupedData.push({\n        category,\n        merchandises,\n      } as MerchandiseWithCategory)\n    })\n  }\n\n  // add default category\n  const defaultCategory = hasCategoryInMerchandises\n    ? generateEverythingElseCategory(merchant)\n    : null\n\n  groupedData.push({\n    category: defaultCategory,\n    merchandises: [],\n  });\n\n  // grouping merchandises to the different categories\n  merchandises.reduce((acc: any, item: Merchandise) => {\n    const categoryIndex = acc.findIndex(({ category }: MerchandiseWithCategory) => category && category.id === item.categoryId);\n    const finalIndex = categoryIndex === -1 ? acc.length - 1 : categoryIndex;\n\n    acc[finalIndex].merchandises.push(item);\n    return acc;\n  }, groupedData);\n\n  const featuredMercs = merchandises.filter((item: Merchandise) => item.featured === true);\n  if (featuredMercs.length > 0) {\n    groupedData.push({\n      category: {\n        id: -2,\n        displayOrder: -1,\n        merchantId: merchant?.id || '',\n        name: 'Featured Items',\n        description: 'Selected best items and specialty at our store',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        version: 0,\n      },\n      merchandises: featuredMercs,\n    });\n  }\n\n  const sortMerchandiseByName = (a: Merchandise, b: Merchandise) => {\n    if (a.name < b.name) return -1\n    if (a.name > b.name) return 1\n    return 0\n  }\n\n  // sorting the data by merchandise name asc and categories display order asc\n  groupedData = groupedData\n    .filter(({ merchandises }) => merchandises.length > 0)\n    .map((group) => ({ ...group, merchandises: group.merchandises.sort(sortMerchandiseByName) }))\n    .sort((a: MerchandiseWithCategory, b: MerchandiseWithCategory) => {\n      return (a.category?.displayOrder || 0) - (b.category?.displayOrder || 0)\n    });\n\n  return groupedData;\n}\n\n\nexport const hasInventoryData = (merchandise: Merchandise | undefined | null): boolean => {\n  // It checks for both undefined and null\n  return Boolean(merchandise && merchandise.inventory && (merchandise.inventory.dailyCurrentStock != null))\n}\n\nexport const isOverInventoryLimit = (merchandise: Merchandise | undefined | null, quantity: number): boolean => {\n  return Boolean(merchandise && merchandise.inventory?.dailyCurrentStock != null && merchandise.inventory?.dailyCurrentStock < quantity)\n}\n","import React from \"react\";\nimport { TypographyProps, Typography, makeStyles, createStyles } from \"@material-ui/core\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Merchandise } from \"../../types/MerchandiseType\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      '& .block-with-text': {\n        display: '-webkit-box',\n        WebkitBoxOrient: 'vertical',\n        WebkitLineClamp: 3,\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        maxHeight: '50px',  // for 3 lines based on 1.2 lineheight 1.2*3*14px = 50px\n        '& p': {\n          margin: 0,\n          lineHeight: 1.2,\n          fontWeight: 400,\n        },\n      },\n    },\n  })\n);\n\n\ntype MerchandiseDescriptionProp = {\n  merchandise: Merchandise,\n  typographyProps?: TypographyProps<\"div\">,\n}\n\nconst MerchandiseDescription = ({ merchandise, typographyProps }: MerchandiseDescriptionProp): React.ReactElement => {\n  const styles = useStyles();\n\n  return (\n    <Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"div\" {...typographyProps} className={styles.root}>\n      <ReactMarkdown className={'block-with-text'}>\n        {merchandise.description}\n      </ReactMarkdown>\n    </Typography>\n  )\n}\n\nexport default MerchandiseDescription;","import React from \"react\"\nimport { FlashOn, ErrorOutline } from \"@material-ui/icons\"\nimport CustomizedChip from \"./CustomizedChip\"\n\nexport const RenderLowStockWarning = () =>\n  <CustomizedChip\n    icon={<FlashOn />}\n    color=\"secondary\"\n    label=\"LOW STOCK\"\n  />\n\nexport const RenderSoldOut = () =>\n  <CustomizedChip\n    variant=\"filled\"\n    color=\"primary\"\n    disabled={true}\n    icon={<ErrorOutline />}\n    label=\"SOLD OUT\"\n  />\n","// render simple price with proper currency\nconst renderPrice = (value: number | undefined, currency = 'USD'): string => {\n  if (value === undefined) {\n    return '';\n  }\n\n  const valueString = Number(value).toLocaleString(\n    navigator.language,\n    { maximumFractionDigits: 2, minimumFractionDigits: 2 }\n  );\n\n  switch (currency) {\n    case 'USD':\n    default:\n      return `$${valueString}`;\n  }\n};\n\nexport default renderPrice;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { Else, If, Then } from 'react-if';\nimport renderPrice from '../../bos_common/src/components/Price';\nimport { Merchandise } from '../../bos_common/src/types/MerchandiseType';\nimport { isMerchandisePromoted } from '../../utils';\nimport { MerchantCoupon } from '../../bos_common/src/types/MerchantCouponType';\nimport { isCouponValidOnMerchandise } from '../../bos_common/src/services/CouponUtils';\nimport { getDiscountedAmount } from '../../services/cartUtils';\n\nexport interface MerchandisePriceProps {\n  merchandise: Merchandise;\n  coupon?: MerchantCoupon;\n}\n\nexport const renderMerchadisePrice = (merchandise: Merchandise, coupon: MerchantCoupon | undefined, quantity = 1, currency = 'USD', ): string => {\n\n  const value = merchandise.price * quantity;\n\n  // We only render the lower price if there is a promotion and the merchandise is included\n  if (!coupon || !coupon.promotion || !isCouponValidOnMerchandise(merchandise, coupon)) {\n    return renderPrice(value, currency);\n  }\n\n  const newValue = value - getDiscountedAmount(value, coupon);\n  return renderPrice(newValue, currency);\n};\n\nexport const MerchandisePrice = (props: Readonly<MerchandisePriceProps>): JSX.Element => {\n  const { merchandise, coupon } = props;\n\n  return (\n    <If condition={isMerchandisePromoted(merchandise, undefined, coupon)}>\n      <Then>{() =>\n        <>\n          <Typography style={{ fontSize: '1rem', fontWeight: 700 }} color=\"secondary\">{renderMerchadisePrice(merchandise, coupon)}</Typography>&nbsp;\n          <Typography style={{ fontSize: '.75rem', fontWeight: 400, textDecoration: 'line-through' }} color=\"textSecondary\">{renderPrice(merchandise.price)}</Typography>&nbsp;\n        </>}\n      </Then>\n      <Else>\n        {renderMerchadisePrice(merchandise, coupon)}\n      </Else>\n    </If>\n  );\n};\n\n\nexport default MerchandisePrice;\n","var _path, _path2, _path3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHalal(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 25,\n    height: 24,\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    opacity: 0.25,\n    d: \"M12.851 0C6.292 0 0.925537 5.36646 0.925537 11.9255C0.925537 18.4845 6.292 23.8509 12.851 23.8509C19.41 23.8509 24.7765 18.4845 24.7765 11.9255C24.7765 5.36646 19.41 0 12.851 0Z\",\n    fill: \"#22AC38\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.9938 12.8199V14.5341C18.441 14.5341 18.8882 14.9068 18.8882 15.4286V16.323H17.9938C17.5466 16.323 17.0994 15.9503 17.0994 15.4286V5.88818H15.3851V12C14.2671 11.031 13.6708 9.54036 13.6708 8.04967V5.88818H11.9565V8.04967C11.9565 9.39129 12.3292 10.6584 13 11.7764C13.5963 12.7453 14.4162 13.5652 15.3851 14.1615V14.5341C15.3851 15.5031 14.6398 16.2484 13.6708 16.2484H11.9565V17.9627H13.6708C14.5652 17.9627 15.3851 17.59 15.9814 17.0683C16.4286 17.6646 17.1739 17.9627 17.9938 17.9627H20.6025V15.354C20.6025 13.9379 19.4845 12.8199 17.9938 12.8199Z\",\n    fill: \"#22AC38\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.52801 15.354C8.52801 15.8012 8.15534 16.2484 7.6336 16.2484C7.11186 16.2484 6.73919 15.8758 6.73919 15.354V12.7453H5.0249V15.354C5.0249 16.7702 6.21745 17.9627 7.6336 17.9627C9.04975 17.9627 10.2423 16.7702 10.2423 15.354V5.88818H8.52801V15.354Z\",\n    fill: \"#22AC38\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHalal);\nexport default __webpack_public_path__ + \"static/media/halal.63e7c05e.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVegan(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 0C5.4 0 0 5.4 0 12C0 18.6 5.4 24 12 24C18.6 24 24 18.6 24 12C24 5.4 18.6 0 12 0ZM13.95 16.65L9.3 12C9.075 11.775 8.775 11.775 8.625 12C8.4 12.225 8.4 12.525 8.625 12.675L13.275 17.325C13.125 17.325 12.975 17.325 12.675 17.325C12.225 17.325 11.55 17.325 10.8 17.175C8.85 16.875 7.2 16.2 6.075 15.075C4.95 13.95 4.275 12.375 3.975 10.35C3.75 8.85 3.9 7.725 3.9 7.65C3.9 7.425 4.125 7.2 4.35 7.2C4.425 7.2 5.55 7.125 7.05 7.275C9 7.575 10.65 8.25 11.775 9.375C12.9 10.5 13.575 12.075 13.875 14.1C14.025 15.375 14.025 16.275 13.95 16.65ZM18.525 15.825C17.475 16.875 15.975 17.25 14.85 17.325C14.85 17.25 14.925 17.1 14.925 17.025C14.925 16.95 14.925 16.65 14.925 16.125L16.875 14.175C17.1 13.95 17.1 13.65 16.875 13.5C16.65 13.275 16.35 13.275 16.2 13.5L14.925 14.775C14.925 14.55 14.85 14.325 14.85 14.1C14.775 13.35 14.55 12.675 14.4 12.075C14.475 12 14.55 11.925 14.625 11.85C16.425 10.05 19.575 10.275 19.725 10.35C19.95 10.35 20.175 10.575 20.175 10.8C20.1 10.875 20.325 14.025 18.525 15.825Z\",\n    fill: \"#22AC38\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVegan);\nexport default __webpack_public_path__ + \"static/media/vegan.b9cdd0cb.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSpicy(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 0C5.4 0 0 5.4 0 12C0 18.6 5.4 24 12 24C18.6 24 24 18.6 24 12C24 5.4 18.6 0 12 0ZM6.075 19.575C5.85 19.65 5.625 19.5 5.475 19.35C5.25 19.125 5.325 18.75 5.625 18.525C7.575 17.025 9.15 15.3 10.425 13.2C11.475 11.4 12.225 9.6 12.825 7.95C13.275 8.1 13.8 8.25 14.4 8.25C14.4 8.7 14.475 9.45 14.775 10.05L14.925 10.35L15.225 10.275C15.9 10.2 16.575 9.825 16.95 9.525C17.325 10.05 17.775 10.425 18.15 10.65C15.375 17.475 8.25 19.2 6.075 19.575ZM18.525 9.825C18.15 9.525 17.7 9.15 17.55 8.7L17.25 8.025L16.8 8.55C16.8 8.55 16.2 9.15 15.45 9.375C15.225 8.625 15.3 7.8 15.3 7.8L15.45 7.125L14.775 7.275C14.25 7.425 13.65 7.275 13.2 7.125C13.95 6.075 15.3 5.625 16.575 6L17.55 4.35L18.3 4.8L17.325 6.375C17.7 6.675 18 7.05 18.225 7.5C18.675 8.25 18.75 9.075 18.525 9.825Z\",\n    fill: \"#EA5514\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpicy);\nexport default __webpack_public_path__ + \"static/media/spicy.514f34e7.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLocallyGrown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_7801_40917)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.652161,\n    width: 16,\n    height: 16,\n    rx: 8,\n    fill: \"#22AC38\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.65216 0C13.0704 0 16.6522 3.58172 16.6522 8C16.6522 12.4183 13.0704 16 8.65216 16C4.23388 16 0.652161 12.4183 0.652161 8C0.652161 3.58172 4.23388 0 8.65216 0ZM8.65222 13.4688C11.3816 10.5248 12.5997 8.34819 12.5915 6.44387C12.5814 4.04709 10.6348 2.57272 8.75872 2.53231C8.73072 2.5315 8.70254 2.53125 8.67454 2.53125C7.64304 2.53125 6.62904 2.94016 5.88038 3.66084C5.36032 4.16128 4.73569 5.04106 4.71335 6.38953C4.69769 7.33709 4.99207 8.34744 5.61335 9.47822C6.25788 10.6514 7.25385 11.9597 8.65222 13.4688ZM8.65216 3.707C7.20344 3.707 6.02475 4.88566 6.02475 6.33441C6.02475 7.78319 7.20344 8.96184 8.65216 8.96184C10.1009 8.96184 11.2796 7.78319 11.2796 6.33441C11.2796 4.88569 10.1009 3.707 8.65216 3.707ZM8.65216 8.16747C9.66294 8.16747 10.4852 7.34528 10.4852 6.33441C10.4852 5.32381 9.66294 4.50138 8.65216 4.50138C7.64141 4.50138 6.81913 5.32381 6.81913 6.33441C6.81916 7.34528 7.64144 8.16747 8.65216 8.16747Z\",\n    fill: \"#C7EACD\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7801_40917\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.652161,\n    width: 16,\n    height: 16,\n    rx: 8,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLocallyGrown);\nexport default __webpack_public_path__ + \"static/media/locally-grown.34f8a9d9.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCaffeineFree(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_7801_40878)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.97192 2.68445L5.00879 4.72132C4.77863 5.24082 4.63116 5.81129 4.57791 6.40732C4.47223 7.58957 4.74854 8.73875 5.35594 9.64325C5.48979 9.84253 5.63626 10.0248 5.79357 10.1895C5.79032 10.3237 5.79304 10.4576 5.80194 10.5908C5.87732 11.715 6.37738 12.6571 7.21007 13.2435C7.762 13.6322 8.41191 13.8307 9.103 13.8307C9.45453 13.8307 9.81666 13.7794 10.1821 13.6757C11.0458 13.4303 11.8453 12.9126 12.4824 12.195L14.2659 13.9784C12.7999 15.2851 10.9302 16 8.95035 16C6.81347 16 4.80451 15.1678 3.29348 13.6568C1.78251 12.1458 0.950356 10.1368 0.950356 7.99997C0.950356 6.02013 1.66517 4.15035 2.97192 2.68445Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.0483 11.4351C13.6094 10.5289 13.8801 9.50481 13.814 8.51859C13.7386 7.39441 13.2385 6.45234 12.4058 5.86594C12.2647 5.7665 12.1169 5.67984 11.9639 5.60544C11.8435 4.96194 11.6037 4.35909 11.2535 3.83769C10.6254 2.90231 9.72082 2.33725 8.70641 2.24656C7.6921 2.15581 6.70154 2.55153 5.91747 3.36066C5.76263 3.52044 5.61979 3.69294 5.48925 3.87603L3.63479 2.02156C5.10072 0.714813 6.97047 0 8.95032 0C11.0872 0 13.0962 0.832156 14.6072 2.34313C16.1182 3.85413 16.9503 5.86312 16.9503 8C16.9503 9.97984 16.2355 11.8496 14.9288 13.3155L13.0483 11.4351Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.9238 5.30277C10.4469 5.24645 9.94352 5.28914 9.43383 5.43386C9.1188 5.52333 8.81239 5.64927 8.5192 5.80764C8.33605 5.11086 8.21036 4.32805 8.26952 3.1772C8.26952 3.1772 8.35133 3.15111 8.62295 3.18042C9.69152 3.29564 10.556 4.13108 10.9238 5.30277Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.74878 7.4003C6.41534 7.87373 6.16481 8.38592 6.00384 8.91258C5.62288 8.24492 5.43085 7.39489 5.51166 6.49083C5.54457 6.12276 5.62053 5.77164 5.73213 5.4447L7.16571 6.87833C7.01784 7.04195 6.87843 7.2162 6.74878 7.4003Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.32107 3.45508C7.29463 4.52655 7.4221 5.30548 7.59601 5.98273L6.16342 4.55014C6.47295 4.07255 6.87176 3.69383 7.32107 3.45508Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.01433 12.8911C9.75774 11.6762 10.007 10.7725 10.2055 9.91809L11.8181 11.5307C11.034 12.4356 9.97687 12.9258 9.01433 12.8911Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.4623 8.84911C10.6526 8.15586 10.936 7.41667 11.5618 6.45264C11.6675 6.50423 11.7691 6.56417 11.866 6.63245C12.4629 7.05282 12.8225 7.74495 12.8786 8.58136C12.9271 9.30507 12.7455 10.0601 12.3633 10.7501L10.4623 8.84911Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.51528 7.94005C7.61375 7.8002 7.7189 7.66755 7.82972 7.54224L9.42334 9.13586C9.39859 9.24146 9.37471 9.34624 9.35093 9.45067C9.1335 10.4057 8.92672 11.3128 8.05412 12.657C7.94909 12.6056 7.8474 12.5458 7.74987 12.4771C6.48565 11.5867 6.38043 9.55142 7.51528 7.94005Z\",\n    fill: \"#795715\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.68998 6.33564C9.96888 6.25645 10.3201 6.19529 10.6012 6.21886C10.1628 6.93542 9.89616 7.5438 9.71073 8.09749L8.52338 6.91014C8.8846 6.64808 9.27892 6.45239 9.68998 6.33564Z\",\n    fill: \"#795715\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7801_40878\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 16,\n    fill: \"white\",\n    transform: \"matrix(-1 0 0 1 16.9503 0)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCaffeineFree);\nexport default __webpack_public_path__ + \"static/media/caffeine-free.bec8d743.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCold(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.950317,\n    width: 16,\n    height: 16,\n    rx: 8,\n    fill: \"#ADC7DA\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.3808 8.32174L11.3802 8.85755L10.609 8.41269V7.57786L11.3714 7.14008L13.3808 7.6785C13.4212 7.68928 13.4618 7.6946 13.502 7.6946C13.7084 7.6946 13.8973 7.55675 13.953 7.34795C14.0199 7.09843 13.872 6.84199 13.6225 6.77522L12.5208 6.48005L13.5364 5.89701C13.7602 5.76845 13.8377 5.48267 13.7091 5.25874C13.5801 5.03481 13.2948 4.95723 13.0709 5.0861L12.0533 5.67052L12.3484 4.56853C12.4152 4.31908 12.2674 4.0626 12.0178 3.99582C11.7699 3.93078 11.5124 4.07708 11.4455 4.32637L10.9093 6.32713L10.1422 6.76769L9.41496 6.34722V5.46495L10.8856 3.99435C11.0681 3.81169 11.0681 3.51584 10.8856 3.33316C10.703 3.15053 10.4072 3.15053 10.2244 3.33316L9.41496 4.14262V2.96752C9.41499 2.70935 9.20559 2.5 8.9474 2.5C8.68925 2.5 8.47988 2.70932 8.47988 2.96752V4.13683L7.67629 3.33316C7.49366 3.15053 7.1978 3.15053 7.01513 3.33316C6.83249 3.51582 6.83249 3.81167 7.01513 3.99435L8.47988 5.45909V6.35061L7.75817 6.76698L6.99102 6.32682L6.45522 4.32639C6.38846 4.0771 6.1322 3.9304 5.88293 3.99584C5.63346 4.06262 5.4854 4.3191 5.55224 4.56856L5.84731 5.67036L4.82974 5.0861C4.60541 4.95721 4.31986 5.03462 4.19149 5.25886C4.063 5.48283 4.14049 5.76843 4.36439 5.89699L5.37982 6.48003L4.27819 6.7752C4.02869 6.84197 3.88068 7.0984 3.9475 7.34793C4.00342 7.55673 4.19225 7.69458 4.39868 7.69458C4.43888 7.69458 4.47949 7.68926 4.52 7.67848L6.52968 7.13987L7.2912 7.57708L7.29198 8.41266L6.52056 8.85833L4.52 8.32171C4.27225 8.2567 4.01442 8.40316 3.9475 8.65236C3.88068 8.90179 4.02869 9.15829 4.27819 9.22471L5.37579 9.51909L4.36322 10.1036C4.1397 10.2328 4.063 10.5185 4.19228 10.7421C4.27888 10.8925 4.43598 10.9758 4.59739 10.9758C4.67663 10.9758 4.75706 10.9561 4.83074 10.913L5.84843 10.3257L5.55224 11.4317C5.4854 11.6816 5.63346 11.9373 5.88293 12.0045C5.92332 12.0154 5.96391 12.0206 6.00413 12.0206C6.21046 12.0206 6.39929 11.8825 6.45522 11.6736L6.99368 9.66454L7.75954 9.22264L8.47988 9.6383V10.5412L7.01513 12.006C6.83249 12.1886 6.83249 12.4844 7.01513 12.6672C7.10645 12.7585 7.22587 12.8038 7.3457 12.8038C7.46512 12.8038 7.58496 12.7585 7.67629 12.6672L8.47988 11.8636V13.0325C8.47988 13.2911 8.68925 13.5 8.9474 13.5C9.20559 13.5 9.41499 13.2911 9.41499 13.0325V11.8577L10.2245 12.6672C10.3158 12.7585 10.4352 12.8038 10.555 12.8038C10.6749 12.8038 10.7943 12.7585 10.8856 12.6672C11.0682 12.4845 11.0682 12.1887 10.8856 12.006L9.41499 10.5354V9.64191L10.1415 9.2226L10.9071 9.66449L11.4456 11.6735C11.5015 11.8825 11.6903 12.0205 11.8966 12.0205C11.9367 12.0205 11.9774 12.0154 12.0179 12.0044C12.2675 11.9372 12.4152 11.6815 12.3484 11.4317L12.0519 10.3257L13.07 10.9129C13.1437 10.956 13.2241 10.9758 13.3034 10.9758C13.4648 10.9758 13.6218 10.8925 13.7085 10.742C13.8377 10.5185 13.7611 10.2328 13.5375 10.1036L12.525 9.51914L13.6225 9.22473C13.872 9.15832 14.02 8.90179 13.9531 8.6524C13.8867 8.40316 13.6299 8.25639 13.3808 8.32174ZM9.67391 8.41269L8.95032 8.83059L8.22725 8.41266L8.22644 7.57634L8.95032 7.15872L9.67391 7.57696V8.41269Z\",\n    fill: \"#036EB8\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCold);\nexport default __webpack_public_path__ + \"static/media/cold.13deff70.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDairyFree(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_7801_40871)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.95029 0C6.90982 0 5.04817 0.764313 3.63495 2.02175L7.01176 5.39856C7.05339 5.23434 7.07529 5.06472 7.07529 4.89341V2.35938H10.8253V4.89341C10.8253 5.37419 10.9948 5.84237 11.3026 6.21172C11.7505 6.74922 11.9972 7.43053 11.9972 8.13022V10.384L14.9285 13.3154C16.186 11.9021 16.9503 10.0405 16.9503 8C16.9503 3.58172 13.3686 0 8.95029 0V0Z\",\n    fill: \"#036EB8\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.0597 8.44325V8.13019C11.0597 7.64941 10.8902 7.18122 10.5824 6.81187C10.1942 6.34603 9.95748 5.77209 9.90116 5.17188H7.99944C7.94313 5.77209 7.70645 6.34603 7.31823 6.81187C7.10723 7.06506 6.96129 7.36472 6.89032 7.683C7.91726 7.72859 8.51041 7.90813 9.08626 8.08263C9.62857 8.24697 10.1453 8.40334 11.0597 8.44325Z\",\n    fill: \"#036EB8\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.0597 9.38167C10.0021 9.33973 9.39944 9.1572 8.81438 8.97989C8.27207 8.81554 7.75532 8.65917 6.84094 8.61926V12.2032H11.0597V9.38167Z\",\n    fill: \"#036EB8\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.01282 3.29688H9.88782V4.23438H8.01282V3.29688Z\",\n    fill: \"#036EB8\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.95032 16C10.9908 16 12.8524 15.2357 14.2657 13.9783L11.9972 11.7098V13.1407H5.90344V8.13022C5.90344 7.45407 6.13441 6.79541 6.55416 6.26679L2.97207 2.68469C1.71463 4.09791 0.950317 5.95957 0.950317 8.00004C0.950317 12.4183 4.53204 16 8.95032 16Z\",\n    fill: \"#036EB8\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7801_40871\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.950317,\n    width: 16,\n    height: 16,\n    rx: 8,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDairyFree);\nexport default __webpack_public_path__ + \"static/media/dairy-free.2bb4a536.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5, _path6;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGlutenFree(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.6335 11.3292C9.93788 11.9255 8.9441 12.0248 8.34782 12.0248V13.5155C8.34782 13.764 8.14906 13.9627 7.90062 13.9627C7.65217 13.9627 7.45341 13.764 7.45341 13.5155V12.0248C6.80745 12.0248 5.76397 11.9255 5.06832 11.1801C4.02484 10.1366 4.27329 8.34783 4.27329 8.29814C4.32298 8.09938 4.47205 7.90062 4.6708 7.90062C4.6708 7.90062 4.72049 7.90062 4.77018 7.90062C4.07453 6.85714 4.27329 5.41615 4.27329 5.36646C4.27329 5.26708 4.32298 5.1677 4.42236 5.06832L1.98758 2.63354C0.695652 4.07453 0 5.96273 0 7.90062C0 12.2733 3.57764 15.8509 7.95031 15.8509C9.93789 15.8509 11.7764 15.1553 13.2174 13.8634L10.6335 11.3292ZM7.90062 0C5.91304 0 4.07453 0.695652 2.63354 1.98758L5.6149 4.96894C5.81366 4.96894 6.01242 5.01863 6.21118 5.06832C6.16149 4.91925 6.16149 4.7205 6.16149 4.57143C6.16149 3.13043 7.60248 1.98758 7.65217 1.93789C7.80124 1.78882 8.04969 1.78882 8.24844 1.93789C8.29813 1.98758 9.73913 3.08075 9.73913 4.57143C9.73913 4.7205 9.73913 4.91925 9.68944 5.06832C10.4845 4.86957 11.2298 4.96894 11.2795 4.96894C11.4783 5.01863 11.677 5.1677 11.677 5.36646C11.677 5.41615 11.8758 6.85714 11.1801 7.90062C11.2298 7.90062 11.2795 7.90062 11.2795 7.90062C11.4783 7.95031 11.677 8.09938 11.677 8.29814C11.677 8.34783 11.8261 9.59006 11.3292 10.5838L13.9627 13.2174C15.2547 11.7764 15.9503 9.8882 15.9503 7.95031C15.8509 3.57764 12.2733 0 7.90062 0Z\",\n    fill: \"#F8B62D\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.6832 8.84473C10.6832 10.3851 9.98758 11.1304 8.39752 11.1304C8.39752 10.6832 8.4969 9.8882 8.94411 9.39131C9.39131 8.89442 10.1863 8.84473 10.6832 8.84473Z\",\n    fill: \"#F8B62D\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.40376 11.1304C6.95655 11.1304 6.16152 11.0311 5.66462 10.5839C5.16773 10.087 5.11804 9.34162 5.11804 8.84473C5.56525 8.84473 6.36028 8.94411 6.85717 9.39131C7.35407 9.8882 7.40376 10.6335 7.40376 11.1304Z\",\n    fill: \"#F8B62D\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.40376 8.1988C6.90686 8.1988 6.16152 8.09942 5.66462 7.65222C5.16773 7.15532 5.11804 6.40998 5.11804 5.91309C6.75779 5.91309 7.40376 6.65843 7.40376 8.1988Z\",\n    fill: \"#F8B62D\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.34784 8.1988C8.84473 8.1988 9.59008 8.09942 10.087 7.65222C10.5839 7.15532 10.6336 6.40998 10.6336 5.91309C9.04349 5.91309 8.39753 6.65843 8.34784 8.1988Z\",\n    fill: \"#F8B62D\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.74535 4.57139C8.74535 5.16767 8.34783 5.76394 7.90063 6.21114C7.45342 5.76394 7.05591 5.16767 7.05591 4.57139C7.05591 3.92543 7.5528 3.27947 7.90063 2.93164C8.24845 3.27947 8.74535 3.92543 8.74535 4.57139Z\",\n    fill: \"#F8B62D\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGlutenFree);\nexport default __webpack_public_path__ + \"static/media/gluten-free.7f0be4b8.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHot(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    opacity: 0.25,\n    cx: 8.95032,\n    cy: 8,\n    r: 8,\n    fill: \"#EA5514\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_7801_40892)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.02791 9.74494L4.02784 9.74496L4.02881 9.74743L5.02874 12.2889C5.02875 12.2889 5.02876 12.289 5.02877 12.289C5.18224 12.6835 5.57595 12.9458 5.99201 12.9458H11.9087C12.3452 12.9458 12.719 12.6836 12.8515 12.2879L13.851 9.74743L13.8511 9.74746L13.8519 9.74494C13.8959 9.61292 13.8999 9.44924 13.8052 9.32705C13.7306 9.18357 13.5659 9.11663 13.4295 9.11663H4.45034C4.30439 9.11663 4.16648 9.21225 4.07797 9.32289C3.97987 9.44551 3.9834 9.61141 4.02791 9.74494ZM5.89361 11.9425L5.89369 11.9424L5.8926 11.9397L5.12836 10.0291H12.7522L12.0079 11.9401L12.0079 11.9401L12.0071 11.9425C11.9934 11.9835 11.9508 12.0125 11.9087 12.0125H5.99201C5.94988 12.0125 5.90728 11.9835 5.89361 11.9425Z\",\n    fill: \"#EA5514\",\n    stroke: \"#EA5514\",\n    strokeWidth: 0.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.19207 5.74721L5.19206 5.74721L5.19203 5.74798C5.1705 6.28627 5.45014 6.73568 5.61706 6.98605C5.7101 7.12561 5.85108 7.19581 6.01283 7.19581C6.10634 7.19581 6.17844 7.17188 6.2489 7.12492C6.45703 6.98616 6.5296 6.70583 6.38776 6.49308C6.22204 6.24449 6.10449 6.0051 6.10449 5.77081C6.10449 5.68652 6.12785 5.60506 6.16556 5.51707C6.19158 5.45634 6.22309 5.39532 6.25738 5.32891C6.27358 5.29755 6.2904 5.26498 6.30755 5.23067C6.37071 5.10436 6.43368 4.95742 6.49591 4.81223L6.49629 4.81134L6.49644 4.81141L6.49776 4.80746C6.50127 4.79695 6.50584 4.78488 6.51093 4.77144C6.53227 4.71509 6.56283 4.63442 6.56283 4.54165C6.56283 4.41275 6.54161 4.30403 6.51921 4.23603C6.47754 4.06943 6.41391 3.82555 6.2967 3.60178C6.17926 3.37758 6.00477 3.16733 5.73834 3.078C5.49978 2.98353 5.2452 3.12817 5.1539 3.35641L5.15372 3.35634L5.15243 3.36061C5.08295 3.59224 5.19791 3.84727 5.42938 3.94128C5.4381 3.9461 5.46244 3.96385 5.49965 4.03593C5.53861 4.11143 5.58901 4.24124 5.65033 4.46502V4.46504V4.46514V4.46523V4.46533V4.46542V4.46552V4.46561V4.4657V4.4658V4.46589V4.46598V4.46607V4.46617V4.46626V4.46635V4.46644V4.46653V4.46662V4.46671V4.4668V4.46689V4.46698V4.46707V4.46716V4.46725V4.46733V4.46742V4.46751V4.46759V4.46768V4.46777V4.46785V4.46794V4.46802V4.46811V4.46819V4.46828V4.46836V4.46845V4.46853V4.46861V4.4687V4.46878V4.46886V4.46894V4.46903V4.46911V4.46919V4.46927V4.46935V4.46943V4.46951V4.46959V4.46967V4.46975V4.46983V4.46991V4.46999V4.47006V4.47014V4.47022V4.4703V4.47038V4.47045V4.47053V4.47061V4.47068V4.47076V4.47084V4.47091V4.47099V4.47106V4.47114V4.47121V4.47129V4.47136V4.47143V4.47151V4.47158V4.47166V4.47173V4.4718V4.47187V4.47195V4.47202V4.47209V4.47216V4.47224V4.47231V4.47238V4.47245V4.47252V4.47259V4.47266V4.47273V4.4728V4.47287V4.47294V4.47301V4.47308V4.47315V4.47322V4.47329V4.47336V4.47343V4.4735V4.47356V4.47363V4.4737V4.47377V4.47384V4.4739V4.47397V4.47404V4.4741V4.47417V4.47424V4.47431V4.47437V4.47444V4.4745V4.47457V4.47464V4.4747V4.47477V4.47483V4.4749V4.47496V4.47503V4.47509V4.47516V4.47522V4.47529V4.47535V4.47542V4.47548V4.47555V4.47561V4.47567V4.47574V4.4758V4.47587V4.47593V4.47599V4.47606V4.47612V4.47618V4.47625V4.47631V4.47637V4.47643V4.4765V4.47656V4.47662V4.47669V4.47675V4.47681V4.47687V4.47693V4.477V4.47706V4.47712V4.47718V4.47725V4.47731V4.47737V4.47743V4.47749V4.47755V4.47762V4.47768V4.47774V4.4778V4.47786V4.47792V4.47798V4.47805V4.47811V4.47817V4.47823V4.47829V4.47835V4.47841V4.47847V4.47854V4.4786V4.47866V4.47872V4.47878V4.47884V4.4789V4.47896V4.47902V4.47909V4.47915V4.47921V4.47927V4.47933V4.47939V4.47945V4.47951V4.47957V4.47964V4.4797V4.47976V4.47982V4.47988V4.47994V4.48V4.48006V4.48012V4.48019V4.48025V4.48031V4.48037V4.48043V4.48049V4.48055V4.48062V4.48068V4.48074V4.4808V4.48086V4.48092V4.48099V4.48105V4.48111V4.48117V4.48123V4.4813V4.48136V4.48142V4.48148V4.48155V4.48161V4.48167V4.48173V4.4818V4.48186V4.48192V4.48198V4.48205V4.48211V4.48217V4.48224V4.4823V4.48236V4.48243V4.48249V4.48256V4.48262V4.48268V4.48275V4.48281V4.48288V4.48294V4.483V4.48307V4.48313V4.4832V4.48326V4.48333V4.48339V4.48346V4.48353V4.48359V4.48366V4.48372V4.48379V4.48386V4.48392V4.48399V4.48405V4.48412V4.48419V4.48426V4.48432V4.48439V4.48446V4.48453V4.48459V4.48466V4.48473V4.4848V4.48487V4.48493V4.485V4.48507V4.48514V4.48521V4.48528V4.48535V4.48542V4.48549V4.48556V4.48563V4.4857V4.48577V4.48584V4.48591V4.48599V4.48606V4.48613V4.4862V4.48627V4.48635V4.48642V4.48649V4.48656V4.48664V4.48671V4.48678V4.48686V4.48693V4.48701V4.48708V4.48716V4.48723V4.48731V4.48738V4.48746V4.48753V4.48761V4.48769V4.48776V4.48784V4.48792V4.48799V4.48807V4.48815V4.48823V4.48831V4.48839V4.48846V4.48854V4.48862V4.4887V4.48878V4.48886V4.48894V4.48902V4.4891V4.48919V4.48927V4.48935V4.48943V4.48951V4.4896V4.48968V4.48976V4.48985V4.48993V4.49001V4.4901V4.49018V4.49027V4.49035V4.49044V4.49053V4.49061V4.4907V4.49079V4.49087V4.49096V4.49105V4.49114V4.49122V4.49131V4.4914V4.49149V4.49158V4.49167V4.49176V4.49185V4.49194V4.49203V4.49213V4.49222V4.49231V4.4924V4.4925V4.49259V4.49268V4.49278V4.49287V4.49297V4.49306V4.49316V4.49325V4.49335V4.49345V4.49354V4.49364V4.49374V4.49384V4.49394V4.49403V4.49413V4.49423V4.49433V4.49443V4.49453V4.49464V4.49474V4.49484V4.49487C5.63075 4.58657 5.57451 4.6819 5.49206 4.80558L5.49173 4.80536L5.48894 4.81095L5.4878 4.81322C5.36321 5.0624 5.21348 5.36187 5.19207 5.74721Z\",\n    fill: \"#EA5514\",\n    stroke: \"#EA5514\",\n    strokeWidth: 0.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.19209 5.74721L8.19208 5.74721L8.19205 5.74798C8.17052 6.28627 8.45016 6.73568 8.61708 6.98605C8.71012 7.12561 8.8511 7.19581 9.01285 7.19581C9.10187 7.19581 9.1779 7.17402 9.23205 7.12225C9.43714 6.98259 9.50788 6.70447 9.36695 6.49308C9.20123 6.24449 9.08368 6.0051 9.08368 5.77081C9.08368 5.68652 9.10704 5.60506 9.14474 5.51707C9.17077 5.45634 9.20228 5.39532 9.23657 5.32891C9.25277 5.29755 9.26958 5.26498 9.28674 5.23067C9.3499 5.10436 9.41287 4.95742 9.47509 4.81223L9.47547 4.81134L9.47563 4.81141L9.47695 4.80746C9.48045 4.79695 9.48502 4.78488 9.49012 4.77144C9.51146 4.71509 9.54202 4.63442 9.54202 4.54165C9.54202 4.41275 9.5208 4.30403 9.4984 4.23603C9.45673 4.06943 9.3931 3.82555 9.27589 3.60178C9.15845 3.37758 8.98396 3.16733 8.71753 3.078C8.47897 2.98353 8.22438 3.12817 8.13309 3.35641L8.1329 3.35634L8.13162 3.36061C8.06213 3.59224 8.1771 3.84727 8.40857 3.94128C8.41729 3.9461 8.44163 3.96385 8.47883 4.03593C8.5178 4.11143 8.5682 4.24124 8.62951 4.46502V4.46504V4.46514V4.46523V4.46533V4.46542V4.46552V4.46561V4.4657V4.4658V4.46589V4.46598V4.46607V4.46617V4.46626V4.46635V4.46644V4.46653V4.46662V4.46671V4.4668V4.46689V4.46698V4.46707V4.46716V4.46725V4.46733V4.46742V4.46751V4.46759V4.46768V4.46777V4.46785V4.46794V4.46802V4.46811V4.46819V4.46828V4.46836V4.46845V4.46853V4.46861V4.4687V4.46878V4.46886V4.46894V4.46903V4.46911V4.46919V4.46927V4.46935V4.46943V4.46951V4.46959V4.46967V4.46975V4.46983V4.46991V4.46999V4.47006V4.47014V4.47022V4.4703V4.47038V4.47045V4.47053V4.47061V4.47068V4.47076V4.47084V4.47091V4.47099V4.47106V4.47114V4.47121V4.47129V4.47136V4.47143V4.47151V4.47158V4.47166V4.47173V4.4718V4.47187V4.47195V4.47202V4.47209V4.47216V4.47224V4.47231V4.47238V4.47245V4.47252V4.47259V4.47266V4.47273V4.4728V4.47287V4.47294V4.47301V4.47308V4.47315V4.47322V4.47329V4.47336V4.47343V4.4735V4.47356V4.47363V4.4737V4.47377V4.47384V4.4739V4.47397V4.47404V4.4741V4.47417V4.47424V4.47431V4.47437V4.47444V4.4745V4.47457V4.47464V4.4747V4.47477V4.47483V4.4749V4.47496V4.47503V4.47509V4.47516V4.47522V4.47529V4.47535V4.47542V4.47548V4.47555V4.47561V4.47567V4.47574V4.4758V4.47587V4.47593V4.47599V4.47606V4.47612V4.47618V4.47625V4.47631V4.47637V4.47643V4.4765V4.47656V4.47662V4.47669V4.47675V4.47681V4.47687V4.47693V4.477V4.47706V4.47712V4.47718V4.47725V4.47731V4.47737V4.47743V4.47749V4.47755V4.47762V4.47768V4.47774V4.4778V4.47786V4.47792V4.47798V4.47805V4.47811V4.47817V4.47823V4.47829V4.47835V4.47841V4.47847V4.47854V4.4786V4.47866V4.47872V4.47878V4.47884V4.4789V4.47896V4.47902V4.47909V4.47915V4.47921V4.47927V4.47933V4.47939V4.47945V4.47951V4.47957V4.47964V4.4797V4.47976V4.47982V4.47988V4.47994V4.48V4.48006V4.48012V4.48019V4.48025V4.48031V4.48037V4.48043V4.48049V4.48055V4.48062V4.48068V4.48074V4.4808V4.48086V4.48092V4.48099V4.48105V4.48111V4.48117V4.48123V4.4813V4.48136V4.48142V4.48148V4.48155V4.48161V4.48167V4.48173V4.4818V4.48186V4.48192V4.48198V4.48205V4.48211V4.48217V4.48224V4.4823V4.48236V4.48243V4.48249V4.48256V4.48262V4.48268V4.48275V4.48281V4.48288V4.48294V4.483V4.48307V4.48313V4.4832V4.48326V4.48333V4.48339V4.48346V4.48353V4.48359V4.48366V4.48372V4.48379V4.48386V4.48392V4.48399V4.48405V4.48412V4.48419V4.48426V4.48432V4.48439V4.48446V4.48453V4.48459V4.48466V4.48473V4.4848V4.48487V4.48493V4.485V4.48507V4.48514V4.48521V4.48528V4.48535V4.48542V4.48549V4.48556V4.48563V4.4857V4.48577V4.48584V4.48591V4.48599V4.48606V4.48613V4.4862V4.48627V4.48635V4.48642V4.48649V4.48656V4.48664V4.48671V4.48678V4.48686V4.48693V4.48701V4.48708V4.48716V4.48723V4.48731V4.48738V4.48746V4.48753V4.48761V4.48769V4.48776V4.48784V4.48792V4.48799V4.48807V4.48815V4.48823V4.48831V4.48839V4.48846V4.48854V4.48862V4.4887V4.48878V4.48886V4.48894V4.48902V4.4891V4.48919V4.48927V4.48935V4.48943V4.48951V4.4896V4.48968V4.48976V4.48985V4.48993V4.49001V4.4901V4.49018V4.49027V4.49035V4.49044V4.49053V4.49061V4.4907V4.49079V4.49087V4.49096V4.49105V4.49114V4.49122V4.49131V4.4914V4.49149V4.49158V4.49167V4.49176V4.49185V4.49194V4.49203V4.49213V4.49222V4.49231V4.4924V4.4925V4.49259V4.49268V4.49278V4.49287V4.49297V4.49306V4.49316V4.49325V4.49335V4.49345V4.49354V4.49364V4.49374V4.49384V4.49394V4.49403V4.49413V4.49423V4.49433V4.49443V4.49453V4.49464V4.49474V4.49484V4.49489C8.60949 4.58943 8.55168 4.70612 8.49081 4.80759L8.49068 4.80751L8.48896 4.81095L8.48782 4.81322C8.36323 5.0624 8.2135 5.36187 8.19209 5.74721Z\",\n    fill: \"#EA5514\",\n    stroke: \"#EA5514\",\n    strokeWidth: 0.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1921 5.74721L11.1921 5.74721L11.1921 5.74798C11.1705 6.28627 11.4502 6.73568 11.6171 6.98605C11.7101 7.12561 11.8511 7.19581 12.0129 7.19581C12.1036 7.19581 12.1972 7.17328 12.2698 7.12492C12.4779 6.98616 12.5505 6.70583 12.4086 6.49308C12.2429 6.24449 12.1254 6.0051 12.1254 5.77081C12.1254 5.68652 12.1487 5.60506 12.1864 5.51707C12.2124 5.45634 12.2439 5.39532 12.2782 5.32891C12.2944 5.29755 12.3113 5.26498 12.3284 5.23067C12.3916 5.10436 12.4545 4.95741 12.5168 4.81222L12.5171 4.81134L12.5173 4.81141L12.5186 4.80746C12.5221 4.79695 12.5267 4.78488 12.5318 4.77144C12.5531 4.71509 12.5837 4.63442 12.5837 4.54165C12.5837 4.41275 12.5625 4.30403 12.5401 4.23603C12.4984 4.06943 12.4347 3.82513 12.3119 3.60096C12.1887 3.37601 12.0035 3.16662 11.717 3.07779C11.4786 2.98375 11.2243 3.12835 11.1331 3.35641L11.1329 3.35634L11.1316 3.36061C11.0621 3.59224 11.1771 3.84727 11.4086 3.94128C11.4173 3.9461 11.4416 3.96384 11.4788 4.03593C11.5178 4.11143 11.5682 4.24124 11.6295 4.46502V4.46504V4.46514V4.46523V4.46533V4.46542V4.46552V4.46561V4.4657V4.4658V4.46589V4.46598V4.46607V4.46617V4.46626V4.46635V4.46644V4.46653V4.46662V4.46671V4.4668V4.46689V4.46698V4.46707V4.46716V4.46725V4.46733V4.46742V4.46751V4.46759V4.46768V4.46777V4.46785V4.46794V4.46802V4.46811V4.46819V4.46828V4.46836V4.46845V4.46853V4.46861V4.4687V4.46878V4.46886V4.46894V4.46903V4.46911V4.46919V4.46927V4.46935V4.46943V4.46951V4.46959V4.46967V4.46975V4.46983V4.46991V4.46999V4.47006V4.47014V4.47022V4.4703V4.47038V4.47045V4.47053V4.47061V4.47068V4.47076V4.47084V4.47091V4.47099V4.47106V4.47114V4.47121V4.47129V4.47136V4.47143V4.47151V4.47158V4.47166V4.47173V4.4718V4.47187V4.47195V4.47202V4.47209V4.47216V4.47224V4.47231V4.47238V4.47245V4.47252V4.47259V4.47266V4.47273V4.4728V4.47287V4.47294V4.47301V4.47308V4.47315V4.47322V4.47329V4.47336V4.47343V4.4735V4.47356V4.47363V4.4737V4.47377V4.47384V4.4739V4.47397V4.47404V4.4741V4.47417V4.47424V4.47431V4.47437V4.47444V4.4745V4.47457V4.47464V4.4747V4.47477V4.47483V4.4749V4.47496V4.47503V4.47509V4.47516V4.47522V4.47529V4.47535V4.47542V4.47548V4.47555V4.47561V4.47567V4.47574V4.4758V4.47587V4.47593V4.47599V4.47606V4.47612V4.47618V4.47625V4.47631V4.47637V4.47643V4.4765V4.47656V4.47662V4.47669V4.47675V4.47681V4.47687V4.47693V4.477V4.47706V4.47712V4.47718V4.47725V4.47731V4.47737V4.47743V4.47749V4.47755V4.47762V4.47768V4.47774V4.4778V4.47786V4.47792V4.47798V4.47805V4.47811V4.47817V4.47823V4.47829V4.47835V4.47841V4.47847V4.47854V4.4786V4.47866V4.47872V4.47878V4.47884V4.4789V4.47896V4.47902V4.47909V4.47915V4.47921V4.47927V4.47933V4.47939V4.47945V4.47951V4.47957V4.47964V4.4797V4.47976V4.47982V4.47988V4.47994V4.48V4.48006V4.48012V4.48019V4.48025V4.48031V4.48037V4.48043V4.48049V4.48055V4.48062V4.48068V4.48074V4.4808V4.48086V4.48092V4.48099V4.48105V4.48111V4.48117V4.48123V4.4813V4.48136V4.48142V4.48148V4.48155V4.48161V4.48167V4.48173V4.4818V4.48186V4.48192V4.48198V4.48205V4.48211V4.48217V4.48224V4.4823V4.48236V4.48243V4.48249V4.48256V4.48262V4.48268V4.48275V4.48281V4.48288V4.48294V4.483V4.48307V4.48313V4.4832V4.48326V4.48333V4.48339V4.48346V4.48353V4.48359V4.48366V4.48372V4.48379V4.48386V4.48392V4.48399V4.48405V4.48412V4.48419V4.48426V4.48432V4.48439V4.48446V4.48453V4.48459V4.48466V4.48473V4.4848V4.48487V4.48493V4.485V4.48507V4.48514V4.48521V4.48528V4.48535V4.48542V4.48549V4.48556V4.48563V4.4857V4.48577V4.48584V4.48591V4.48599V4.48606V4.48613V4.4862V4.48627V4.48635V4.48642V4.48649V4.48656V4.48664V4.48671V4.48678V4.48686V4.48693V4.48701V4.48708V4.48716V4.48723V4.48731V4.48738V4.48746V4.48753V4.48761V4.48769V4.48776V4.48784V4.48792V4.48799V4.48807V4.48815V4.48823V4.48831V4.48839V4.48846V4.48854V4.48862V4.4887V4.48878V4.48886V4.48894V4.48902V4.4891V4.48919V4.48927V4.48935V4.48943V4.48951V4.4896V4.48968V4.48976V4.48985V4.48993V4.49001V4.4901V4.49018V4.49027V4.49035V4.49044V4.49053V4.49061V4.4907V4.49079V4.49087V4.49096V4.49105V4.49114V4.49122V4.49131V4.4914V4.49149V4.49158V4.49167V4.49176V4.49185V4.49194V4.49203V4.49213V4.49222V4.49231V4.4924V4.4925V4.49259V4.49268V4.49278V4.49287V4.49297V4.49306V4.49316V4.49325V4.49335V4.49345V4.49354V4.49364V4.49374V4.49384V4.49394V4.49403V4.49413V4.49423V4.49433V4.49443V4.49453V4.49464V4.49474V4.49484V4.49489C11.6095 4.58943 11.5517 4.70613 11.4908 4.80759L11.4907 4.80751L11.489 4.81095L11.4878 4.81323C11.3632 5.06241 11.2135 5.36187 11.1921 5.74721ZM11.5337 4.83332L11.5337 4.83331L12.492 4.24998C12.5129 4.31248 12.5337 4.41665 12.5337 4.54165C12.5337 4.62417 12.5075 4.69361 12.4863 4.74998C12.4807 4.76477 12.4755 4.77866 12.4712 4.79165C12.4087 4.93748 12.3462 5.08331 12.2837 5.20831C12.2673 5.24116 12.2508 5.27297 12.2348 5.304C12.1493 5.46972 12.0754 5.61288 12.0754 5.77081C12.0754 6.02081 12.2004 6.27081 12.367 6.52081C12.492 6.70831 12.4295 6.95831 12.242 7.08331C12.1795 7.12498 12.0962 7.14581 12.0129 7.14581C11.867 7.14581 11.742 7.08331 11.6587 6.95831C11.492 6.70831 11.2212 6.27081 11.242 5.74998C11.2628 5.37498 11.4087 5.08332 11.5337 4.83332Z\",\n    fill: \"#EA5514\",\n    stroke: \"#EA5514\",\n    strokeWidth: 0.1\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7801_40892\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 10,\n    height: 10,\n    fill: \"white\",\n    transform: \"translate(3.95032 3)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHot);\nexport default __webpack_public_path__ + \"static/media/hot.f91f889d.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path, _path2, _path3, _path4, _path5, _path6;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPeanutFree(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 16,\n    rx: 8,\n    transform: \"matrix(-1 0 0 1 16 0)\",\n    fill: \"#A88845\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.44787 13.1444H6.44757C6.41188 13.1444 6.37555 13.1436 6.34019 13.1428L6.33971 13.1428C6.3039 13.142 6.26908 13.1412 6.23519 13.1412V13.1414L6.22995 13.1411C5.59455 13.0966 4.98889 12.8548 4.49755 12.4495C4.00621 12.0441 3.6537 11.4955 3.48926 10.8801C3.32481 10.2647 3.35664 9.61339 3.58029 9.01699C3.80391 8.42066 4.20814 7.90905 4.73655 7.55354C4.73662 7.5535 4.7367 7.55345 4.73677 7.5534L4.7965 7.51253L4.79648 7.5125L4.79833 7.51132C5.49401 7.06455 5.82934 6.84568 6.05252 6.5476C6.2756 6.24966 6.38907 5.8693 6.61642 5.08112L6.61879 5.07294L6.62141 5.06822L6.62141 5.06248L6.62452 5.05202C6.81213 4.42069 7.19756 3.86632 7.72403 3.47059C8.25051 3.07486 8.89017 2.8587 9.54877 2.85396V2.85396H9.54931C9.58705 2.85396 9.62446 2.85603 9.6595 2.85798L9.66045 2.85803C9.69646 2.86003 9.73004 2.86188 9.76327 2.86188V2.86169L9.7686 2.86207C10.4034 2.90727 11.0083 3.14942 11.499 3.55477C11.9897 3.96011 12.3416 4.50846 12.5058 5.12335C12.67 5.73825 12.6382 6.38904 12.4149 6.98503C12.1921 7.57992 11.7894 8.09059 11.2631 8.44615C11.2424 8.46295 11.2206 8.47834 11.1979 8.49222C10.5067 8.93951 10.1714 9.15791 9.94723 9.45587C9.72443 9.752 9.60899 10.13 9.38411 10.9109C9.3843 10.9193 9.38386 10.9277 9.38279 10.9361L9.38377 10.9362L9.38029 10.948C9.19221 11.5804 8.80548 12.1356 8.27734 12.5312C7.74921 12.9268 7.10773 13.1418 6.44787 13.1444ZM10.8041 7.76991L10.8041 7.76988L10.806 7.7686C11.1971 7.51029 11.497 7.13555 11.6634 6.69741C11.8297 6.25926 11.8541 5.7799 11.733 5.32714C11.612 4.87438 11.3516 4.47116 10.9887 4.17453C10.6265 3.87838 10.1804 3.70345 9.71341 3.67439H9.71321H9.71293H9.71265H9.71237H9.71209H9.71181H9.71152H9.71124H9.71096H9.71068H9.7104H9.71012H9.70983H9.70955H9.70927H9.70899H9.7087H9.70842H9.70814H9.70785H9.70757H9.70729H9.707H9.70672H9.70643H9.70615H9.70586H9.70558H9.70529H9.70501H9.70472H9.70444H9.70415H9.70387H9.70358H9.70329H9.70301H9.70272H9.70243H9.70215H9.70186H9.70157H9.70129H9.701H9.70071H9.70042H9.70014H9.69985H9.69956H9.69927H9.69898H9.69869H9.6984H9.69812H9.69783H9.69754H9.69725H9.69696H9.69667H9.69638H9.69609H9.6958H9.69551H9.69522H9.69492H9.69463H9.69434H9.69405H9.69376H9.69347H9.69318H9.69288H9.69259H9.6923H9.69201H9.69172H9.69142H9.69113H9.69084H9.69054H9.69025H9.68996H9.68966H9.68937H9.68908H9.68878H9.68849H9.68819H9.6879H9.6876H9.68731H9.68702H9.68672H9.68642H9.68613H9.68583H9.68554H9.68524H9.68495H9.68465H9.68435H9.68406H9.68376H9.68347H9.68317H9.68287H9.68257H9.68228H9.68198H9.68168H9.68138H9.68109H9.68079H9.68049H9.68019H9.67989H9.6796H9.6793H9.679H9.6787H9.6784H9.6781H9.6778H9.6775H9.6772H9.6769H9.6766H9.6763H9.676H9.6757H9.6754H9.6751H9.6748H9.6745H9.6742H9.6739H9.6736H9.6733H9.673H9.67269H9.67239H9.67209H9.67179H9.67149H9.67119H9.67088H9.67058H9.67028H9.66998H9.66967H9.66937H9.66907H9.66876H9.66846H9.66816H9.66785H9.66755H9.66725H9.66694H9.66664H9.66633H9.66603H9.66573H9.66542H9.66512H9.66481H9.66451H9.6642H9.6639H9.66359H9.66329H9.66298H9.66268H9.66237H9.66206H9.66176H9.66145H9.66115H9.66084H9.66053H9.66023H9.65992H9.65961H9.65931H9.659H9.65869H9.65838H9.65808H9.65777H9.65746H9.65716H9.65685H9.65654H9.65623H9.65592H9.65562H9.65531H9.655H9.65469H9.65438H9.65407H9.65376H9.65346H9.65315H9.65284H9.65253H9.65222H9.65191H9.6516H9.65129H9.65098H9.65067H9.65036H9.65005H9.64974H9.64943H9.64912H9.64881H9.6485H9.64819H9.64788H9.64757H9.64725H9.64694H9.64663H9.64632H9.64601H9.6457H9.64539H9.64507H9.64476H9.64445H9.64414H9.64383H9.64351H9.6432H9.64289H9.64258H9.64227H9.64195H9.64164H9.64133H9.64101H9.6407H9.64039H9.64007H9.63976H9.63945H9.63913H9.63882H9.63851H9.63819H9.63788H9.63757H9.63725H9.63694H9.63662H9.63631H9.63599H9.63568H9.63537H9.63505H9.63474H9.63442H9.63411H9.63379H9.63348H9.63316H9.63285H9.63253H9.63222H9.6319H9.63158H9.63127H9.63095H9.63064H9.63032H9.63001H9.62969H9.62937H9.62906H9.62874H9.62842H9.62811H9.62779H9.62748H9.62716H9.62684H9.62653H9.62621H9.62589H9.62557H9.62526H9.62494H9.62462H9.62431H9.62399H9.62367H9.62335H9.62304H9.62272H9.6224H9.62208H9.62176H9.62145H9.62113H9.62081H9.62049H9.62017H9.61986H9.61954H9.61922H9.6189H9.61858H9.61826H9.61794H9.61762H9.61731H9.61699H9.61667H9.61635H9.61603H9.61571H9.61539H9.61507H9.61475H9.61443H9.61411H9.61379H9.61347H9.61315H9.61283H9.61251H9.6122H9.61188H9.61156H9.61124H9.61091H9.61059H9.61027H9.60995H9.60963H9.60931H9.60899H9.60867H9.60835H9.60803H9.60771H9.60739H9.60707H9.60675H9.60643H9.60611H9.60579H9.60546H9.60514H9.60482H9.6045H9.60418H9.60386H9.60354H9.60322H9.60289H9.60257H9.60225H9.60193H9.60161H9.60129H9.60096H9.60064H9.60032H9.6H9.59968H9.59935H9.59903H9.59871H9.59839H9.59807H9.59774H9.59742H9.5971H9.59678H9.59645H9.59613H9.59581H9.59549H9.59516H9.59484H9.59452H9.5942H9.59387H9.59355H9.59323H9.5929H9.59258H9.59226H9.59194H9.59161H9.59129H9.59097H9.59064H9.59032H9.59H9.58967H9.58935H9.58903H9.5887H9.58838H9.58806H9.58773H9.58741H9.58709H9.58676H9.58644H9.58612H9.58579H9.58547H9.58514H9.58482H9.5845H9.58417H9.58385H9.58353H9.5832H9.58288H9.58255H9.58223H9.58191H9.58158H9.58126H9.58093H9.58061H9.58029H9.57996H9.57964H9.57931H9.57899H9.57866H9.57834H9.57802H9.57769H9.57737H9.57704H9.57672H9.57639H9.57607H9.57575H9.57542H9.5751H9.57477H9.57445H9.57412H9.5738H9.57347H9.57315H9.57282H9.5725H9.57218H9.57185H9.57153H9.5712H9.57088H9.57055H9.57023H9.5699H9.56958H9.56925H9.56893H9.5686H9.56828H9.56795H9.56763H9.5673H9.56698H9.56665H9.56633H9.566H9.56568H9.56535H9.56503H9.5647H9.56438H9.56405H9.56373H9.5634H9.56308H9.56275H9.56243H9.5621H9.56178H9.56145H9.56113H9.5608H9.56048H9.56015H9.55983H9.5595H9.55918H9.55885H9.55853H9.5582H9.55788H9.55755C9.07598 3.67859 8.6085 3.83751 8.22415 4.12771C7.83991 4.41782 7.5591 4.82376 7.42315 5.28563L7.41384 5.31976L7.41385 5.31976L7.41355 5.32081C7.16712 6.17541 7.01061 6.65827 6.71815 7.04788C6.42612 7.43691 6.0021 7.72819 5.2414 8.2146L5.21828 8.23194L5.21836 8.23204L5.21473 8.23445C4.82589 8.49232 4.5276 8.86553 4.36178 9.30164C4.19596 9.73776 4.17093 10.2149 4.29021 10.6659C4.40949 11.117 4.66709 11.5194 5.02681 11.8165C5.38589 12.1131 5.82871 12.29 6.29326 12.3224H6.44899C6.932 12.3213 7.40178 12.1645 7.78858 11.8752C8.17539 11.5859 8.45861 11.1796 8.59618 10.7166L8.59617 10.7166L8.59661 10.7152L8.60738 10.6814C8.85285 9.8274 9.00894 9.34474 9.3011 8.95527C9.59306 8.56606 10.0173 8.2747 10.7786 7.78794L10.8041 7.76991Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.24696 6.39398C9.14633 6.38543 9.0505 6.34724 8.97157 6.28426C8.91905 6.24235 8.87531 6.19049 8.84287 6.13165C8.81042 6.07281 8.7899 6.00815 8.78248 5.94137C8.77506 5.87459 8.78089 5.807 8.79963 5.74248C8.81837 5.67795 8.84965 5.61776 8.89169 5.56534C8.95487 5.48656 9.03998 5.42827 9.13627 5.39784C9.23256 5.36741 9.33572 5.3662 9.4327 5.39437C9.52968 5.42253 9.61613 5.47881 9.68114 5.55609C9.74615 5.63336 9.7868 5.72817 9.79795 5.82854C9.8091 5.92891 9.79025 6.03033 9.74379 6.11999C9.69733 6.20965 9.62534 6.28354 9.53691 6.3323C9.44848 6.38107 9.34758 6.40253 9.24696 6.39398Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.46689 4.99727L9.42049 5.0562C9.3676 5.01455 9.32349 4.96283 9.29071 4.90403C9.25794 4.84522 9.23714 4.7805 9.22954 4.71361C9.22193 4.64672 9.22766 4.57899 9.2464 4.51433C9.26513 4.44971 9.29648 4.38944 9.33862 4.33701C9.40161 4.25815 9.48654 4.19972 9.58271 4.16908C9.67892 4.13843 9.78205 4.13697 9.87908 4.1649C9.97612 4.19283 10.0627 4.24889 10.1279 4.32599C10.1931 4.4031 10.234 4.49779 10.2454 4.59812C10.2568 4.69844 10.2382 4.7999 10.192 4.88967C10.1458 4.97945 10.074 5.05351 9.98568 5.1025C9.8974 5.1515 9.79657 5.17324 9.69593 5.16497C9.5953 5.15669 9.49938 5.11878 9.42028 5.05603L9.46689 4.99727ZM9.46689 4.99727C9.42179 4.96176 9.38417 4.91766 9.35622 4.86751C9.32827 4.81737 9.31054 4.76218 9.30406 4.70514C9.29757 4.6481 9.30246 4.59034 9.31844 4.5352C9.33442 4.48006 9.36117 4.42864 9.39715 4.38391C9.4509 4.31658 9.52339 4.26669 9.60548 4.24054C9.68756 4.21439 9.77555 4.21315 9.85834 4.23697C9.94112 4.2608 10.015 4.30863 10.0706 4.37442C10.1262 4.4402 10.1611 4.52099 10.1709 4.60659C10.1806 4.69219 10.1647 4.77875 10.1253 4.85534C10.0859 4.93193 10.0246 4.99512 9.94929 5.03693C9.87396 5.07873 9.78794 5.09728 9.70208 5.09022C9.61622 5.08316 9.53438 5.05082 9.46689 4.99727Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.6168 6.35051C10.5161 6.34224 10.4202 6.30433 10.3411 6.24158C10.2885 6.1998 10.2446 6.14804 10.2119 6.08927C10.1793 6.0305 10.1586 5.96587 10.151 5.89908C10.1434 5.83229 10.1491 5.76467 10.1677 5.70008C10.1863 5.63548 10.2174 5.57519 10.2594 5.52266C10.3224 5.44375 10.4073 5.38528 10.5035 5.35462C10.5998 5.32397 10.7029 5.32252 10.7999 5.35045C10.897 5.37837 10.9835 5.43443 11.0487 5.51153C11.1139 5.58864 11.1548 5.68334 11.1662 5.78366C11.1776 5.88399 11.159 5.98544 11.1128 6.07522C11.0666 6.16499 10.9948 6.23905 10.9065 6.28805C10.8182 6.33705 10.7174 6.35878 10.6168 6.35051Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.37835 2.37656L2.37833 2.37654L2.89723 2.42808L2.95021 2.375L2.95029 2.37507C2.95029 2.37508 2.9503 2.37509 2.95031 2.3751L6.75409 6.17094L6.80901 6.22575L6.75237 6.27878C6.62779 6.3954 6.52584 6.53405 6.45166 6.68773L6.45174 6.68777L6.45007 6.69085C6.43117 6.72574 6.41494 6.76253 6.3973 6.80262L6.35314 6.90297L6.27561 6.82545L2.39492 2.94477C2.35672 2.90881 2.32593 2.86571 2.3043 2.81791C2.28248 2.7697 2.27042 2.71765 2.26879 2.66476C2.26716 2.61188 2.27599 2.55919 2.2948 2.50973C2.3136 2.46026 2.342 2.41501 2.37835 2.37656Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.42832 9.36027V9.3526L9.43488 9.33796C9.45663 9.28944 9.48156 9.24129 9.50794 9.19513C9.52666 9.16237 9.53761 9.14692 9.54533 9.13603C9.54817 9.13202 9.55057 9.12863 9.55277 9.12521L9.60309 9.04694L9.66889 9.11274L13.617 13.0608L13.617 13.0608L13.619 13.0629C13.6897 13.1393 13.7281 13.2401 13.7261 13.3442C13.7242 13.4482 13.6821 13.5475 13.6086 13.6212C13.5351 13.6949 13.436 13.7373 13.332 13.7396C13.2279 13.7419 13.127 13.7039 13.0504 13.6335L13.0504 13.6335L13.048 13.6312L9.31702 9.88117L9.28836 9.85237L9.29684 9.81262C9.32419 9.68446 9.3594 9.5581 9.40226 9.43426C9.40484 9.41184 9.41254 9.39329 9.41812 9.38114C9.42091 9.37507 9.42405 9.3688 9.42644 9.36403C9.42699 9.36293 9.4275 9.36191 9.42796 9.36099C9.42808 9.36075 9.4282 9.36051 9.42832 9.36027Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPeanutFree);\nexport default __webpack_public_path__ + \"static/media/peanut-free.cdc09b0d.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _path, _path2, _path3, _path4, _path5, _path6, _path7;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgShellfishFree(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    r: 8,\n    transform: \"matrix(-1 0 0 1 8 8)\",\n    fill: \"#036EB8\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.82514 2.62604C8.64434 2.5892 9.68064 2.80038 10.2418 3.50486C10.9095 3.56372 11.5366 3.85195 12.0163 4.32107C12.3012 4.57988 12.5297 4.89474 12.6874 5.24592C12.8418 5.58995 12.925 5.96158 12.9322 6.33844C13.5159 7.1129 13.7552 7.99584 13.5838 8.83911L13.5838 8.83911L13.5837 8.83966C13.495 9.25992 13.3145 9.65539 13.0551 9.99779C12.796 10.34 12.4645 10.6207 12.0843 10.82C11.8599 10.9443 11.5807 11.0817 11.3393 11.197L11.4084 11.2905C11.4885 11.3907 11.5413 11.51 11.5618 11.6367C11.5824 11.7638 11.5698 11.8942 11.525 12.015L11.525 12.015L11.5245 12.0164C11.4619 12.1757 11.3631 12.3184 11.236 12.433C11.1088 12.5477 10.9568 12.6312 10.7918 12.6771L10.7918 12.6772L10.7881 12.678C9.92478 12.8711 9.04282 12.9685 8.15817 12.9684L8.00458 12.9718L8.00405 12.9718C7.06194 12.9856 6.12152 12.8875 5.20252 12.6796L5.2025 12.6798L5.19836 12.6786C5.03578 12.6319 4.88618 12.5482 4.76122 12.4342C4.63626 12.3202 4.53932 12.1788 4.47796 12.0212L4.47794 12.0212L4.47732 12.0195C4.43368 11.8989 4.42138 11.7691 4.44158 11.6424C4.46173 11.5159 4.51359 11.3967 4.59232 11.2957C4.59247 11.2955 4.59263 11.2953 4.59279 11.2951L4.66274 11.2018C4.42141 11.0865 4.14252 10.9492 3.91825 10.825C3.53808 10.6257 3.20658 10.345 2.94742 10.0028C2.68808 9.66042 2.5076 9.26496 2.41885 8.8447L2.41866 8.84371C2.25252 8.00103 2.48648 7.12002 3.07016 6.3438C3.07405 5.97847 3.14978 5.61739 3.29314 5.28116C3.43971 4.93737 3.65399 4.6266 3.92319 4.36736C4.41256 3.88101 5.05442 3.57857 5.7403 3.51045C5.96168 3.21075 6.29365 2.9999 6.65763 2.85943C7.03343 2.71439 7.44859 2.64227 7.82514 2.62604ZM7.82514 2.62604C7.82516 2.62604 7.82518 2.62604 7.82521 2.62604L7.82843 2.70097L7.82506 2.62605C7.82509 2.62605 7.82511 2.62605 7.82514 2.62604ZM10.8086 11.7557C10.8086 11.7993 10.7063 11.9067 10.6157 11.9235C8.89578 12.2828 7.12019 12.2828 5.4003 11.9235M10.8086 11.7557L10.7489 11.8011L10.7221 11.7657M10.8086 11.7557L10.5653 11.4352M10.8086 11.7557H10.7336C10.7336 11.7493 10.7349 11.7459 10.7348 11.7459C10.7348 11.7459 10.7336 11.7492 10.7289 11.7563C10.7269 11.7592 10.7246 11.7624 10.7221 11.7657M10.7221 11.7657C10.7151 11.7745 10.706 11.7846 10.695 11.7948C10.6631 11.8245 10.6275 11.8451 10.602 11.8498L10.6003 11.8501L10.6003 11.8501C8.89222 12.2069 7.12886 12.2073 5.42063 11.8511M10.7221 11.7657L10.5086 11.4845M5.42063 11.8511C5.42204 11.8517 5.42345 11.8522 5.42486 11.8527L5.4003 11.9235M5.42063 11.8511C5.41897 11.8508 5.4173 11.8505 5.41563 11.8501L5.4003 11.9235M5.42063 11.8511C5.39106 11.8403 5.36381 11.8239 5.34038 11.8028C5.32673 11.7905 5.31454 11.7767 5.30399 11.7618M5.4003 11.9235C5.35961 11.9094 5.32217 11.8873 5.29018 11.8585C5.25818 11.8297 5.2323 11.7947 5.21404 11.7557M5.21404 11.7557L5.27347 11.8015L5.30399 11.7618M5.21404 11.7557L5.46071 11.4352M5.21404 11.7557L5.28196 11.7239C5.28818 11.7372 5.29556 11.7499 5.30399 11.7618M5.30399 11.7618L5.51727 11.4847M5.46071 11.4352L5.51374 11.4882C5.51492 11.4871 5.5161 11.4859 5.51727 11.4847M5.46071 11.4352C5.52185 11.3741 5.56758 11.2993 5.59413 11.217C5.62068 11.1347 5.62729 11.0473 5.61341 10.962C5.59782 10.8999 5.56824 10.8423 5.52694 10.7934C5.48564 10.7446 5.43371 10.7058 5.37513 10.6801M5.46071 11.4352L5.52015 11.481L5.51727 11.4847M5.51727 11.4847C5.58505 11.4158 5.63582 11.3321 5.6655 11.2401C5.6957 11.1465 5.70323 11.047 5.68744 10.95L5.68642 10.9437L5.68615 10.9437C5.66777 10.8706 5.6329 10.8026 5.58422 10.745C5.53571 10.6876 5.47477 10.642 5.40602 10.6117M5.40602 10.6117C5.40625 10.6118 5.40647 10.612 5.4067 10.6121L5.37513 10.6801M5.40602 10.6117C5.40577 10.6116 5.40552 10.6115 5.40527 10.6114L5.37513 10.6801M5.40602 10.6117C5.14905 10.4925 4.67168 10.2671 4.33537 10.084L4.33368 10.083L4.33367 10.0831C4.06117 9.94361 3.82326 9.74508 3.63727 9.50196C3.4514 9.25898 3.32209 8.97758 3.25877 8.67828M5.37513 10.6801C5.11839 10.5609 4.63846 10.3344 4.2995 10.1498C4.01707 10.0053 3.77047 9.79952 3.57771 9.54753C3.38494 9.29554 3.25087 9.00369 3.18528 8.69328M3.25877 8.67828C3.2588 8.67845 3.25883 8.67862 3.25886 8.67879L3.18528 8.69328M3.25877 8.67828C3.13497 8.04876 3.33496 7.36455 3.83415 6.75042L3.83442 6.75008L3.91664 6.64772L3.93317 6.62715V6.60075V6.46987V6.46598L3.93307 6.46598C3.91867 6.18832 3.96464 5.91084 4.06781 5.65265C4.17097 5.39446 4.32888 5.16171 4.53065 4.97042L4.53155 4.96957L4.53155 4.96956C4.94012 4.56915 5.52078 4.32158 5.96694 4.3548L5.96773 4.35486L5.96773 4.35486L6.20434 4.36997L6.25534 4.37322L6.27703 4.32695L6.37771 4.11215L6.37808 4.11136L6.37808 4.11136C6.45074 3.9515 6.63491 3.79912 6.90479 3.68177C7.1721 3.56553 7.51236 3.48872 7.87878 3.47229L7.87878 3.47229C8.29974 3.45338 8.68696 3.51275 9.00043 3.6325C9.31461 3.75253 9.54941 3.93099 9.67492 4.14658L9.67503 4.14678L9.78914 4.34143L9.81379 4.3835L9.86224 4.37803L10.0854 4.35286L10.0855 4.35286C10.1076 4.35034 10.1299 4.34884 10.1522 4.34835M3.25877 8.67828C3.25873 8.67811 3.25869 8.67794 3.25866 8.67777L3.18528 8.69328M3.18528 8.69328C3.05607 8.03716 3.26582 7.3307 3.77595 6.70311L10.1522 4.34835M10.1522 4.34835C10.1511 4.34827 10.15 4.34819 10.1488 4.34811L10.1542 4.2733L10.1555 4.34829C10.1544 4.34831 10.1533 4.34833 10.1522 4.34835ZM10.1522 4.34835C10.6392 4.38425 11.0973 4.59313 11.4438 4.93732L11.4465 4.94002L11.4466 4.93995C11.66 5.13128 11.8285 5.36733 11.9403 5.63127C12.052 5.89521 12.1041 6.18055 12.0929 6.46694L12.0928 6.46987H12.0929V6.60075V6.62715L12.1094 6.64772L12.1916 6.75004M10.1522 4.34835L11.7265 10.1498C11.3909 10.3344 10.9077 10.5609 10.6509 10.6801M12.1916 6.75004L12.25 6.7032L12.1916 6.75008L12.1916 6.75004ZM12.1916 6.75004C12.6847 7.36475 12.891 8.04912 12.7673 8.67828M12.7673 8.67828C12.7673 8.67811 12.7673 8.67794 12.7674 8.67777L12.8408 8.69328L12.7672 8.67879C12.7672 8.67862 12.7672 8.67845 12.7673 8.67828ZM12.7673 8.67828C12.704 8.97758 12.5746 9.25898 12.3888 9.50196C12.2028 9.74508 11.9649 9.94361 11.6924 10.0831L11.6904 10.0841L11.6904 10.0841C11.3577 10.2671 10.8773 10.4924 10.62 10.6117M10.62 10.6117C10.6203 10.6116 10.6205 10.6115 10.6208 10.6114L10.6509 10.6801M10.62 10.6117C10.5513 10.642 10.4903 10.6876 10.4418 10.745C10.3931 10.8026 10.3583 10.8706 10.3399 10.9437L10.3383 10.9499L10.3386 10.95C10.3228 11.047 10.3303 11.1465 10.3605 11.2401C10.3902 11.332 10.4409 11.4157 10.5086 11.4845M10.62 10.6117C10.6198 10.6118 10.6196 10.612 10.6193 10.6121L10.6509 10.6801M10.6509 10.6801L10.5653 11.4352M10.5653 11.4352L10.5056 11.4806L10.5086 11.4845M10.5653 11.4352L10.5123 11.4882C10.5111 11.487 10.5098 11.4858 10.5086 11.4845\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.1813 10.848L11.1812 10.8479L11.1849 10.8453L11.2872 10.7732L11.3388 10.7368L11.3835 10.7814L13.9526 13.3505L13.9526 13.3505L13.953 13.3509C14.0114 13.4102 14.0511 13.4854 14.0671 13.5671C14.0831 13.6487 14.0747 13.7333 14.043 13.8103C14.0112 13.8872 13.9576 13.9531 13.8886 13.9998L13.8466 13.9377L13.8886 13.9998C13.8197 14.0464 13.7386 14.0718 13.6553 14.0726L13.6541 14.0726C13.542 14.0719 13.4348 14.0274 13.3551 13.9486L13.3549 13.9483L10.7187 11.3154L10.6517 11.2485L10.7321 11.1986C10.8458 11.1282 10.9435 11.046 11.0452 10.9605C11.0892 10.9234 11.1341 10.8857 11.1813 10.848Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.65105 2.04897L2.65111 2.04903L4.66478 4.07108L4.71973 4.12626L4.66251 4.1791C4.6453 4.195 4.63007 4.21291 4.61716 4.23246L4.61716 4.23246L4.61671 4.23313C4.56211 4.3139 4.50521 4.39242 4.44602 4.46868L4.44603 4.46868L4.44554 4.46929C4.37585 4.55719 4.29998 4.64001 4.21851 4.71712L4.16551 4.76728L4.11392 4.71568L2.04487 2.64665L2.04487 2.64666L2.04403 2.6458C2.0054 2.6059 1.97501 2.55878 1.9546 2.50712C1.9342 2.45547 1.92419 2.40029 1.92514 2.34477C1.92609 2.28924 1.93797 2.23444 1.96013 2.18351C1.98218 2.1328 2.01398 2.08692 2.05372 2.04846C2.09284 2.0094 2.13926 1.9784 2.19033 1.95722C2.24163 1.93594 2.29661 1.925 2.35214 1.925C2.40766 1.925 2.46264 1.93594 2.51394 1.95722C2.56523 1.97849 2.61182 2.00967 2.65105 2.04897Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.65463 3.91556C9.65939 3.81738 9.70294 3.72512 9.77572 3.65905C9.84851 3.59297 9.94456 3.55851 10.0428 3.56325C10.141 3.56799 10.2332 3.61155 10.2993 3.68434C10.3654 3.75713 10.3999 3.85318 10.3951 3.95138L10.3951 3.95145C10.3124 5.62973 9.78463 7.81612 8.98867 9.8035L8.98863 9.80359C8.96098 9.8724 8.91339 9.93138 8.85197 9.97295C8.79055 10.0145 8.71811 10.0368 8.64395 10.0369L8.64176 10.0369C8.59695 10.0356 8.5527 10.0265 8.51103 10.01C8.46545 9.99234 8.42382 9.96583 8.38854 9.932C8.35326 9.89817 8.32502 9.85769 8.30546 9.81289C8.2859 9.7681 8.2754 9.71988 8.27457 9.67101C8.27374 9.62213 8.28259 9.57358 8.30061 9.52814L8.30072 9.52787C9.05861 7.639 9.57627 5.48767 9.65463 3.91556ZM9.65463 3.91556C9.65463 3.91558 9.65463 3.9156 9.65463 3.91562L9.72954 3.91923M9.65463 3.91556C9.65463 3.91554 9.65463 3.91552 9.65464 3.9155L9.72954 3.91923M9.72954 3.91923C9.73333 3.8409 9.76807 3.76729 9.82613 3.71458C9.88419 3.66187 9.96081 3.63438 10.0391 3.63816C10.1175 3.64194 10.1911 3.67669 10.2438 3.73475C10.2965 3.79281 10.324 3.86943 10.3202 3.94776L8.37033 9.5558C9.13048 7.66128 9.65067 5.50163 9.72954 3.91923Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.1334 10.4208L10.1335 10.4207C11.3358 9.34933 12.2601 8.00208 12.8269 6.49469L12.8278 6.49217L12.8278 6.49215C12.858 6.4022 12.8525 6.30408 12.8125 6.21805C12.7724 6.13201 12.7009 6.06464 12.6126 6.02982C12.5243 5.995 12.4261 5.99538 12.3381 6.0309C12.2501 6.06642 12.1791 6.13437 12.1397 6.22071L12.1375 6.22561L12.1377 6.22568C11.6172 7.62564 10.7597 8.87578 9.6412 9.86556C9.58475 9.91537 9.54483 9.98121 9.52675 10.0543C9.50866 10.1274 9.51329 10.2043 9.54004 10.2747C9.5668 10.3452 9.61439 10.4057 9.67646 10.4484C9.73854 10.4911 9.81216 10.5138 9.88748 10.5136M10.1334 10.4208L9.88748 10.5136M10.1334 10.4208C10.066 10.4807 9.97894 10.5137 9.88876 10.5136M10.1334 10.4208L9.88876 10.5136M9.88748 10.5136H9.88876M9.88748 10.5136H9.88876M9.88876 10.5136H9.88891V10.4386L9.88876 10.5136Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.49828 10.0099C7.4552 10.027 7.40937 10.0361 7.36302 10.0369L7.36099 10.0369C7.28761 10.0361 7.21612 10.0134 7.1557 9.97176C7.09543 9.9302 7.0489 9.87164 7.02203 9.80355C6.22436 7.81608 5.6983 5.62972 5.61388 3.95153L5.61388 3.95138C5.60913 3.85318 5.64359 3.75713 5.70968 3.68434C5.77576 3.61155 5.86805 3.56799 5.96625 3.56325C6.06444 3.55851 6.1605 3.59297 6.23329 3.65905C6.30605 3.7251 6.3496 3.81735 6.35437 3.9155C6.43273 5.48761 6.95039 7.63898 7.70828 9.52787L7.70839 9.52814C7.72641 9.57358 7.73526 9.62213 7.73443 9.67101C7.7336 9.71988 7.7231 9.7681 7.70354 9.81289C7.68398 9.85769 7.65575 9.89817 7.62046 9.932C7.58526 9.96576 7.54373 9.99222 7.49828 10.0099ZM7.49828 10.0099C7.49818 10.0099 7.49808 10.01 7.49797 10.01L7.47087 9.94007L7.49859 10.0098C7.49849 10.0098 7.49838 10.0098 7.49828 10.0099Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.86457 6.22063L3.8644 6.22071C3.82504 6.13437 3.75404 6.06643 3.66605 6.0309C3.57806 5.99538 3.47978 5.995 3.39151 6.02982C3.30324 6.06464 3.23171 6.13202 3.19167 6.21805C3.15163 6.30407 3.14614 6.40219 3.17633 6.49215L3.17717 6.49464L3.17721 6.49463C3.74355 8.00463 4.66848 9.35432 5.87233 10.4274L5.87431 10.4292L5.87434 10.4292C5.94319 10.4863 6.03052 10.5163 6.11991 10.5136C6.12031 10.5135 6.1207 10.5135 6.1211 10.5135L6.11856 10.4386C6.17849 10.4384 6.23697 10.4201 6.28621 10.3859C6.33545 10.3517 6.37313 10.3034 6.39426 10.2473C6.41538 10.1912 6.41894 10.1301 6.40446 10.0719C6.38999 10.0137 6.35817 9.96137 6.31322 9.92173L3.86457 6.22063ZM3.86457 6.22063L3.86645 6.22568C4.38695 7.62562 5.24436 8.87574 6.36287 9.86552L3.86457 6.22063Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShellfishFree);\nexport default __webpack_public_path__ + \"static/media/shellfish-free.4ea2c91b.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _path, _path2, _path3, _path4;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSoyFree(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    r: 8,\n    transform: \"matrix(-1 0 0 1 8 8)\",\n    fill: \"#F5CF80\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.71834 13.0323C6.09921 13.034 5.48809 12.8923 4.93285 12.6184L4.93284 12.6184L4.93159 12.6178C4.48191 12.3853 4.10512 12.0332 3.84271 11.6003C3.58041 11.1676 3.44257 10.6709 3.44437 10.1648C3.42908 8.89861 4.24975 7.76288 5.66456 7.03935C5.96798 6.85504 6.19106 6.56341 6.28955 6.22232C6.62841 4.63741 7.40802 3.53171 8.51889 3.13545L8.51888 3.13544L8.52019 3.135C8.99245 2.97623 9.49771 2.94214 9.98702 3.03602C10.476 3.12985 10.9326 3.34833 11.3124 3.6703C12.1604 4.35676 12.5711 5.48081 12.5594 6.71434C12.5477 7.94894 12.1135 9.30139 11.2611 10.4574L11.2611 10.4574C10.0468 12.1038 8.34616 13.0322 6.71834 13.0323ZM6.71834 13.0323L6.71814 12.9573M6.71834 13.0323C6.71827 13.0323 6.71821 13.0323 6.71814 13.0323V12.9573M6.71814 12.9573C8.31752 12.9573 9.99746 12.0443 11.2008 10.4129M6.71814 12.9573C6.11058 12.959 5.51089 12.82 4.96603 12.5511C4.52862 12.325 4.1621 11.9825 3.90685 11.5614C3.65159 11.1403 3.51751 10.6569 3.51937 10.1645C3.50426 8.93429 4.30144 7.81987 5.70111 7.10489L11.2008 10.4129M11.2008 10.4129C12.8874 8.12533 12.916 5.06402 11.2646 3.72806C10.8944 3.41413 10.4495 3.20113 9.97288 3.10968C9.49626 3.01823 9.0041 3.05144 8.54409 3.20609C7.46664 3.59043 6.698 4.66793 6.36235 6.24054L11.2008 10.4129ZM10.7626 4.33858L10.7626 4.3386L10.7612 4.33742C10.4956 4.11207 10.1769 3.95813 9.83529 3.89014C9.49406 3.82223 9.14117 3.8423 8.80986 3.94846C8.01545 4.23316 7.41676 5.08956 7.14569 6.39509L7.14576 6.39511L7.14492 6.39841C7.06959 6.69326 6.93541 6.96983 6.75045 7.21148C6.56548 7.45314 6.33356 7.65489 6.06863 7.8046L6.06866 7.80466L6.06587 7.80609C5.29226 8.2016 4.85524 8.65631 4.61106 9.07547C4.36673 9.49489 4.31266 9.88359 4.31266 10.1511V10.1511C4.31258 10.4957 4.40595 10.8339 4.58281 11.1296C4.75945 11.425 5.01278 11.6669 5.3159 11.8299C6.99167 12.6564 9.10099 11.9115 10.5614 9.93206C11.1917 9.07642 11.604 7.9651 11.6756 6.92185C11.7472 5.87755 11.4774 4.91574 10.7626 4.33858Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.18458 8.67871L6.1844 8.67871C5.73646 8.67763 5.30304 8.52005 4.95904 8.23331C4.91969 8.20845 4.88563 8.17606 4.85881 8.13798C4.83085 8.09827 4.81137 8.05324 4.80158 8.00568C4.79179 7.95811 4.79189 7.90904 4.8019 7.86152C4.8119 7.814 4.83158 7.76905 4.85972 7.72947L4.85952 7.72932L4.86348 7.72462C4.89582 7.68621 4.93542 7.65455 4.98 7.63145C5.02459 7.60834 5.07329 7.59426 5.12332 7.58999C5.17336 7.58572 5.22374 7.59136 5.27159 7.60658C5.31934 7.62176 5.36364 7.6462 5.40195 7.67847C5.58583 7.83221 5.81114 7.928 6.04943 7.95372C6.28772 7.97944 6.52828 7.93395 6.74072 7.82298C6.95317 7.71202 7.12795 7.54057 7.24299 7.3303C7.35803 7.12003 7.40816 6.88036 7.38704 6.64161L7.38701 6.64129C7.37368 6.4827 7.32881 6.32837 7.25505 6.18735C7.18129 6.04633 7.08012 5.92147 6.95747 5.82006L6.95747 5.82007L6.95695 5.81963C6.91854 5.78729 6.88688 5.74769 6.86378 5.7031C6.84068 5.65851 6.82659 5.60981 6.82233 5.55977C6.81806 5.50974 6.8237 5.45936 6.83891 5.4115C6.85413 5.36365 6.87863 5.31926 6.91101 5.28088L6.91085 5.28074L6.91483 5.27669C6.94876 5.24214 6.98939 5.21489 7.03423 5.19662C7.07908 5.17835 7.12719 5.16944 7.1756 5.17044C7.22401 5.17143 7.27171 5.18231 7.31577 5.20241C7.35814 5.22175 7.39628 5.24922 7.42803 5.28324C7.71855 5.52665 7.93062 5.8506 8.03749 6.21432C8.14483 6.57966 8.14119 6.96865 8.02703 7.33191C7.91288 7.69517 7.69335 8.01632 7.39633 8.25457C7.09989 8.49236 6.7396 8.63688 6.36104 8.66986C6.29936 8.67872 6.24016 8.67872 6.18676 8.67871L6.18458 8.67871Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.75807 6.16454L6.72079 6.12721L2.64772 2.04892L6.75807 6.16454ZM6.75807 6.16454L6.73554 6.21224M6.75807 6.16454L6.73554 6.21224M6.73554 6.21224C6.62891 6.43804 6.53996 6.67177 6.46948 6.91132L6.43383 7.03249M6.73554 6.21224L6.43383 7.03249M6.43383 7.03249L6.3445 6.9432M6.43383 7.03249L6.3445 6.9432M6.3445 6.9432L2.04645 2.64663L2.04595 2.64612M6.3445 6.9432L2.04595 2.64612M2.04595 2.64612C2.00705 2.60648 1.97634 2.55956 1.95559 2.50805C1.93484 2.45653 1.92445 2.40143 1.92502 2.34589C1.92559 2.29036 1.9371 2.23548 1.95891 2.1844C1.98064 2.13348 2.01217 2.08732 2.05171 2.04857M2.04595 2.64612L2.05171 2.04857M2.05171 2.04857C2.09072 2.00946 2.13706 1.97842 2.18808 1.95721C2.23925 1.93595 2.29412 1.925 2.34954 1.925C2.40495 1.925 2.45982 1.93595 2.51099 1.95721C2.56212 1.97846 2.60856 2.00959 2.64763 2.04883L2.05171 2.04857Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.2506 10.6743L10.2506 10.6743L10.2512 10.673C10.3401 10.4715 10.4467 10.2784 10.5698 10.0958L10.6207 10.0203L10.685 10.0847L13.9526 13.3541L13.9526 13.3541L13.953 13.3545C14.0312 13.4338 14.075 13.5408 14.075 13.6522C14.075 13.7636 14.0312 13.8705 13.953 13.9498L13.9529 13.9499C13.9138 13.9895 13.8672 14.0209 13.8158 14.0424C13.7645 14.0638 13.7093 14.0749 13.6537 14.0749C13.598 14.0749 13.5429 14.0638 13.4916 14.0424C13.4403 14.021 13.3937 13.9896 13.3546 13.9501C13.3546 13.95 13.3545 13.95 13.3545 13.9499L10.2365 10.8285L10.201 10.7929L10.2204 10.7465L10.2506 10.6743Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.15\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoyFree);\nexport default __webpack_public_path__ + \"static/media/soy-free.c7def614.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _g, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVegetarian(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 8.65216,\n    cy: 8,\n    r: 8,\n    fill: \"#22AC38\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_7801_40913)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.85465 11.5712C8.00596 11.5712 8.1427 11.5651 8.25897 11.5566V13C8.25897 13.0552 8.30374 13.1 8.35897 13.1H8.94493C9.00015 13.1 9.04493 13.0552 9.04493 13V11.5566C10.7733 11.686 11.8298 11.0882 12.4111 10.2069C12.999 9.31555 13.0875 8.15406 12.9281 7.21966L12.9279 7.21858L12.8917 7.01908C12.8842 6.97811 12.8521 6.94605 12.8112 6.93859L12.6128 6.90249C12.6126 6.90245 12.6124 6.90242 12.6122 6.90238C12.2981 6.84171 11.8709 6.82431 11.4478 6.85864C11.1237 6.88493 10.7952 6.94209 10.5179 7.03718C10.8871 6.09506 10.6392 5.20781 10.2307 4.51065C9.79098 3.76033 9.15826 3.21633 8.87402 3.03232L8.70858 2.91778C8.67433 2.89407 8.62898 2.89407 8.59474 2.91778L8.42906 3.03247C8.13394 3.2258 7.5015 3.77187 7.06508 4.52264C6.6603 5.21898 6.41875 6.10251 6.78635 7.04325C6.50937 6.94488 6.18212 6.88621 5.8591 6.85916C5.43569 6.8237 5.00808 6.84167 4.69173 6.90237L4.4927 6.93859C4.45174 6.94605 4.41968 6.97811 4.41223 7.01908L4.37594 7.21858L4.37589 7.21884C4.2429 7.96126 4.26617 9.05395 4.74708 9.96113C4.98844 10.4164 5.34534 10.8252 5.85475 11.1172C6.36385 11.4089 7.01976 11.5808 7.85465 11.5712ZM7.85465 11.5712C7.85449 11.5712 7.85433 11.5713 7.85417 11.5713H7.85396V11.4713M7.85465 11.5712C7.8548 11.5712 7.85496 11.5712 7.85512 11.5712L7.85417 11.4899L7.85396 11.4713M7.85396 11.4713C4.57165 11.5092 4.21342 8.693 4.47432 7.23647L8.25897 11.4563C8.14318 11.4649 8.00615 11.4713 7.85417 11.4713H7.85396ZM8.25868 6.06728V7.90673C7.57222 7.19056 7.33775 6.48017 7.42184 5.8164C7.51044 5.11704 7.95539 4.44633 8.65163 3.85666C9.35029 4.44848 9.79434 5.12004 9.88188 5.8193C9.96496 6.48284 9.72942 7.19216 9.04463 7.9067V6.06728C9.04463 6.01206 8.99986 5.96728 8.94463 5.96728H8.35868C8.30345 5.96728 8.25868 6.01206 8.25868 6.06728ZM7.5267 8.28985C7.99914 8.74172 8.23936 9.40896 8.25791 10.2285L6.95738 8.92798C6.91833 8.88892 6.85501 8.88892 6.81596 8.92798L6.40163 9.3423C6.38288 9.36106 6.37234 9.38649 6.37234 9.41301C6.37234 9.43954 6.38288 9.46497 6.40163 9.48373L7.70272 10.7848C6.5798 10.7633 5.91094 10.3406 5.53275 9.75658C5.14766 9.16196 5.05262 8.383 5.11607 7.64259C6.235 7.55326 7.02223 7.80735 7.5267 8.28985ZM11.5132 10.0947L11.5132 10.0947L11.51 10.0981C11.2492 10.3842 10.5771 10.7615 9.60033 10.7856L10.9022 9.48373C10.921 9.46497 10.9315 9.43954 10.9315 9.41301C10.9315 9.38649 10.921 9.36106 10.9022 9.3423L10.4879 8.92798C10.4488 8.88892 10.3855 8.88892 10.3465 8.92798L9.04737 10.2271C9.04947 10.1628 9.05299 10.0962 9.05825 10.0278C9.14344 9.08051 9.47264 8.45974 10.0039 8.08851C10.5236 7.72527 11.2546 7.58809 12.1875 7.64429C12.2081 7.9034 12.2184 8.30739 12.1469 8.73737C12.0669 9.21812 11.8862 9.72174 11.5132 10.0947Z\",\n    fill: \"white\",\n    stroke: \"white\",\n    strokeWidth: 0.2,\n    strokeLinejoin: \"round\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_7801_40913\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 10,\n    height: 10,\n    fill: \"white\",\n    transform: \"translate(3.65216 3)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVegetarian);\nexport default __webpack_public_path__ + \"static/media/vegetarian.611a05d0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useMemo } from 'react';\nimport { Icon, Stack, Tooltip } from '@material-ui/core';\nimport { isEmpty } from 'ramda';\n\n// src\nimport {\n  CaffeineFreeIcon, ColdIcon, DairyFreeIcon, GluttenFreeIcon, HalalIcon,\n  HotIcon, KosherIcon, LocallyGrownIcon, PeanutFreeIcon, ShellfishFreeIcon, SoyFreeIcon,\n  SpicyIcon, VeganIcon, VegetarianIcon\n} from '../../assets/icons/allergens';\nimport { AllergenIngredients } from '../../types/MerchandiseType';\n\ninterface MerchandiseAllergensProps {\n  allergens?: AllergenIngredients | null,\n  iconSize?: \"small\" | \"inherit\" | \"large\" | \"medium\",\n  limit?: number\n}\n\nexport const AllergenIngredientsLabelsMap = {\n  'nuts_free': 'Nuts Free',\n  'shellfish_free': 'Shellfish Free',\n  'soy_free': 'Soy Free',\n  'gluten_free': 'Gluten Free',\n  'dairy_free': 'Dairy Free',\n  'caffeine_free': 'Caffiene Free',\n  'cold': 'Cold',\n  'hot': 'Hot',\n  'spicy': 'Spicy',\n  'halal': 'Halal',\n  'kosher': 'Kosher',\n  'vegan': 'Vegan',\n  'vegetarian': 'Vegetarian',\n  'locally_grown': 'Locally Grown',\n}\n\nconst MerchandiseAllergens = ({ allergens, iconSize = 'medium', limit = -1 }: MerchandiseAllergensProps): JSX.Element | null => {\n  if (!allergens || isEmpty(allergens)) return null;\n\n  const getAllergenIcon = (allergen: keyof AllergenIngredients) => {\n    switch (allergen) {\n      case \"halal\":\n        return HalalIcon\n      case \"vegan\":\n        return VeganIcon\n      case \"spicy\":\n        return SpicyIcon\n      case \"kosher\":\n        return KosherIcon\n      case \"caffeine_free\":\n        return CaffeineFreeIcon\n      case \"cold\":\n        return ColdIcon\n      case \"dairy_free\":\n        return DairyFreeIcon\n      case \"gluten_free\":\n        return GluttenFreeIcon\n      case \"hot\":\n        return HotIcon\n      case \"nuts_free\":\n        return PeanutFreeIcon\n      case \"shellfish_free\":\n        return ShellfishFreeIcon\n      case \"soy_free\":\n        return SoyFreeIcon\n      case \"vegetarian\":\n        return VegetarianIcon\n      case \"locally_grown\":\n      default:\n        return LocallyGrownIcon\n    }\n  }\n\n  const allergensList = useMemo(() => {\n    const list = limit > 0 ? Object.keys(allergens).slice(0, limit) : Object.keys(allergens);\n    return list.reduce<JSX.Element[]>((acc, key: string) => {\n      if (allergens[key]) {\n        acc.push(\n          <Tooltip title={AllergenIngredientsLabelsMap[key]} key={key}>\n            <Icon key={key} component={getAllergenIcon(key as keyof AllergenIngredients)} fontSize={iconSize} />\n          </Tooltip>\n        )\n      }\n      return acc;\n    }, []);\n  }, [allergens]);\n\n  return (\n    <Stack direction={'row'} alignItems={'center'} gap={0.5} flexWrap={'wrap'}>\n      {allergensList}\n    </Stack>\n  );\n}\n\nexport default MerchandiseAllergens;\n","import React, { useContext } from \"react\";\nimport { useMemo } from \"react\";\nimport { Theme, createStyles, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardActionArea,\n  Fab,\n  CardMedia,\n  Typography,\n} from \"@material-ui/core\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Add, ChevronRight, Star as StarIcon } from \"@material-ui/icons\";\nimport { If, Then, Else } from \"react-if\";\nimport { filter, head, pathOr, pipe, propEq, reduce, defaultTo, length, propOr } from \"ramda\";\n\nimport MerchandiseDescription from \"../../bos_common/src/components/Merchandise/MerchandiseDescription\";\nimport { isOverInventoryLimit } from \"../../bos_common/src/services/merchandiseUtils\";\n\nimport {\n  Merchandise,\n  MerchandiseModifier,\n  Merchant,\n  MerchantCoupon,\n} from \"../../services/models\";\nimport { AppContext, CartItemType } from \"../../context/AppContext\";\nimport {\n  getMerchandiseOverallRatings,\n  isEmptyOrNil,\n  isKioskDevice,\n  isMerchandiseAvailable,\n  isMerchandiseStockLow,\n  isMerchantOnline,\n  isNotificationSoundEnabled,\n} from \"../../utils\";\nimport {\n  RenderSoldOut,\n  RenderLowStockWarning,\n} from \"../common/MerchandiseHelper\";\nimport { repeatAudio, withFallbackPath } from \"../../bos_common/src/utils\";\nimport { UserContext } from \"../../bos_common/src/context/UserContext\";\nimport MerchandisePrice from \"./MerchandisePrice\";\nimport { isCouponValidOnMerchandise } from \"../../bos_common/src/services/CouponUtils\";\nimport MerchandiseAllergens from \"../../bos_common/src/components/Merchandise/MerchandiseAllergens\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      height: \"100%\",\n\n      \"& .card-action-area\": {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        padding: theme.spacing(1),\n\n        \"& .details\": {\n          display: \"flex\",\n          flexGrow: 1,\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n          marginBottom: theme.spacing(1),\n          marginLeft: theme.spacing(1),\n          marginRight: theme.spacing(1),\n          height: \"100%\",\n\n          \"& .menu-title\": {\n            marginBottom: theme.spacing(1),\n          },\n          \"& .itemRow\": {\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"flex-end\",\n            marginBottom: theme.spacing(1),\n            \"& .MuiButtonBase-root\": {\n              \"& .MuiSvgIcon-root\": {\n                fill: \"white\",\n              },\n            },\n\n            \"& .price-container\": {\n              display: \"flex\",\n              alignItems: \"center\",\n            },\n          },\n        },\n\n        \"& .merchPhoto\": {\n          display: \"flex\",\n          alignItems: \"center\",\n\n          \"& .cover\": {\n            width: 120,\n            height: 120,\n\n            [theme.breakpoints.up(\"md\")]: {\n              width: 200,\n              height: 200,\n            },\n          },\n\n\n        },\n\n        \"& .merch-rating\": {\n          display: 'flex',\n          marginTop: '-1.25rem',\n          alignItems: \"center\",\n          backgroundColor: '#FFF',\n          padding: '0 0.25rem',\n          borderRadius: '0.25rem',\n          boxShadow: \"0px 3px 12px rgb(0 0 0 / 7%)\",\n\n          \"& .MuiSvgIcon-root\": {\n            marginRight: theme.spacing(0.5)\n          },\n        },\n      },\n    },\n  })\n);\n\nexport default function MenuItemCard(props: {\n  merchandise: Merchandise;\n  merchant: Merchant;\n  modifiers: MerchandiseModifier[] | undefined;\n  coupon?: MerchantCoupon;\n}): React.ReactElement {\n  const classes = useStyles();\n  const { orderType } = useContext(AppContext)\n  const { merchant, merchandise, modifiers, coupon } = props;\n  const merchantUserName = merchant.username;\n  const merchandiseId = merchandise.id;\n  const merchandisePhoto = defaultTo(\n    \"\",\n    head(pathOr([], [\"merchandise\", \"photos\"], props))\n  );\n\n  const itemPageLink = {\n    pathname: `/${merchantUserName}/item/${merchandiseId}`,\n    state: { from: window.location.pathname },\n  };\n  const isKioskModeEnabled = isKioskDevice();\n\n  const { addItemToCart, cart, setCoupon } = useContext(AppContext);\n\n  const { user } = useContext(UserContext);\n  const playNotificationSound = isNotificationSoundEnabled(user);\n\n  const onAddToCartClick = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // Assume no modifiers if an item can be added to\n    addItemToCart(\n      { ...merchandise, quantity: 1 } as CartItemType,\n      merchant\n    );\n    if (isCouponValidOnMerchandise(merchandise, coupon)) {\n      setCoupon(coupon);\n    }\n\n    const notifAudio = document.getElementById(\n      \"app_add_to_cart_audio\"\n    ) as HTMLAudioElement;\n    notifAudio && playNotificationSound && repeatAudio(notifAudio, 1);\n  };\n\n  const quantityUsedWithinCart = pipe(\n    filter(propEq(\"id\", merchandiseId)),\n    reduce((acc: number, item: CartItemType) => acc + item.quantity, 0)\n  )(cart);\n\n  const willBeOverStockLimit = isOverInventoryLimit(\n    merchandise,\n    quantityUsedWithinCart + 1\n  );\n\n  const overallRatings = getMerchandiseOverallRatings(merchandise);\n  const numberOfReviews = length(propOr([], \"reviews\")(merchandise));\n\n  const RenderCTA = () => {\n    const theme = useTheme();\n\n    return (\n      <>\n        <If condition={!isMerchandiseAvailable(merchandise)}>\n          <Then>\n            <RenderSoldOut />\n          </Then>\n          <Else>\n            <If condition={merchandise.modifierTemplateId}>\n              <Then>\n                <Fab color=\"secondary\" size=\"small\" aria-label=\"enter\">\n                  <ChevronRight style={{ fill: theme.palette.primary.main }} />\n                </Fab>\n              </Then>\n              <Else>\n                <Fab\n                  color=\"secondary\"\n                  size=\"small\"\n                  aria-label=\"add\"\n                  disabled={willBeOverStockLimit}\n                  onClick={onAddToCartClick}\n                >\n                  <Add style={{ fill: theme.palette.primary.main }} />\n                </Fab>\n              </Else>\n            </If>\n          </Else>\n        </If>\n      </>\n    );\n  };\n\n  const CardMediaEnhanced: any = useMemo(\n    () => withFallbackPath(CardMedia, merchandisePhoto),\n    [merchandisePhoto]\n  );\n\n  const MerchandiseRating = (\n    <If condition={numberOfReviews >= 3}>\n      <div className=\"merch-rating\">\n        <StarIcon color=\"primary\" fontSize=\"small\" />\n        <Typography variant=\"subtitle1\" component={'span'}>\n          {overallRatings}</Typography>\n      </div>\n    </If>\n  )\n\n  return (\n    <Card className={classes.root} elevation={3}>\n      <CardActionArea\n        className=\"card-action-area\"\n        component={RouterLink}\n        to={itemPageLink}\n      >\n        <div className=\"merchPhoto\" style={{ display: 'flex', alignItems: 'center', flexFlow: 'column', }}>\n          {merchandisePhoto && !isEmptyOrNil(merchandisePhoto) &&\n            <>\n              <CardMediaEnhanced\n                className=\"cover\"\n                title={merchandise.name}\n                src={`${merchandisePhoto}_small`}\n                component={\"img\"}\n                alt={\"merch-img\"}\n              />\n              {MerchandiseRating}\n            </>\n          }\n        </div>\n\n        <div className=\"details\">\n          <div>\n            <Typography\n              component=\"div\"\n              variant={isKioskModeEnabled ? \"h6\" : \"body1\"}\n              style={{ color: \"black\", fontWeight: 500, lineHeight: 1.2 }}\n            >\n              {merchandise.name}\n            </Typography>\n            <MerchandiseDescription merchandise={merchandise} typographyProps={{ gutterBottom: true }} />\n            <MerchandiseAllergens allergens={merchandise?.ingredientTags} />\n          </div>\n\n          <div className=\"itemRow\">\n            <Typography\n              variant=\"subtitle1\"\n              color=\"black\"\n              component=\"div\"\n              className=\"price-container\"\n            >\n              <MerchandisePrice merchandise={merchandise} coupon={coupon} />\n              &nbsp;\n              <If condition={isMerchandiseStockLow(merchandise)}>\n                <RenderLowStockWarning />\n              </If>\n            </Typography>\n\n            <If condition={isEmptyOrNil(merchandisePhoto)}>\n              {MerchandiseRating}\n            </If>\n\n            <If condition={isMerchantOnline(merchant, orderType)}>\n              <RenderCTA />\n            </If>\n          </div>\n        </div>\n      </CardActionArea>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\nimport { rgba } from \"polished\";\nimport PercentageIcon from \"../../assets/icons/PercentageIcon\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  root: {\n    display: \"flex\",\n    gap: theme.spacing(1.25),\n    padding: `${theme.spacing(1)} ${theme.spacing(1.5)}`,\n    background: rgba(theme.palette.secondary.main, 0.15),\n    color: theme.palette.secondary.main,\n    fontWeight: 700,\n    borderRadius: theme.spacing(1),\n\n    \"& .tag\": {\n      background: theme.palette.background.paper,\n      fontSize: \"10px\",\n      padding: `${theme.spacing(0.3)} ${theme.spacing(0.8)}`,\n      borderRadius: \"3px\",\n    },\n  }\n}))\n\nconst MarketingOneLiner = ({ tag, description }: { tag?: string, description: string }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {<PercentageIcon color=\"secondary\"/>}\n      {tag && <span className=\"tag\">{tag}</span>}\n      <div>{description}</div>\n    </div>\n  );\n}\n\nexport default MarketingOneLiner;\n","import React from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core\";\nimport { rgba } from \"polished\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  root: {\n    background: rgba(theme.palette.primary.main, 0.15),\n    color: theme.palette.primary.main,\n    fontWeight: \"bold\",\n    fontSize: \"12px\",\n    borderRadius: \"3px\",\n    padding: `${theme.spacing(0.2)} ${theme.spacing(0.6)}`,\n  }\n}))\n\n\nexport default function CountBox({ count }: { count: number }) {\n  const classes = useStyles();\n  return (<span className={classes.root}>{count}</span>);\n}","import React from \"react\";\nimport { createStyles, Drawer, makeStyles, SwipeableDrawer, Theme } from \"@material-ui/core\";\nimport PromotionIllustration from \"../assets/images/congratulations-rewards.svg\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  root: {\n    textAlign: \"center\",\n\n    '& .MuiPaper-root': {\n      padding: `${theme.spacing(4)} ${theme.spacing(2)}`,\n      borderRadius: \"20px 20px 0 0\",\n      overflowY: \"unset\",\n\n      '&:before': {\n        content: '\"\"',\n        position: \"absolute\",\n        top: \"-10px\",\n        left: \"50%\",\n        transform: \"translate(-50%)\",\n        width: \"130px\",\n        height: \"6px\",\n        borderRadius: \"4px\",\n        background: \"rgba(255, 255, 255, 0.5)\",\n        pointerEvents: \"none\"\n      },\n\n      '& .drawerImage': {\n        maxWidth: \"180px\",\n        width: \"100%\",\n        marginBottom: theme.spacing(2),\n        margin: \"auto\",\n      },\n\n      '& .drawerHeading': {\n        margin: 0,\n        marginBottom: theme.spacing(1),\n        color: \"#364245\",\n        fontSize: 20,\n        fontWeight: 600,\n      },\n\n      '& .drawerDescription': {\n        color: theme.palette.grey[600],\n        fontSize: 14,\n        lineHeight: 1.3\n      }\n    }\n  }\n}))\n\ntype CustomDrawerProps = {\n  position?: \"top\" | \"right\" | \"bottom\" | \"left\";\n  isOpen: boolean;\n  setIsOpen: (value: boolean) => void;\n  title: string;\n  description: string;\n  promotionImage?: string,\n  children?: React.ReactElement;\n};\n\nconst CustomDrawer = (props: CustomDrawerProps) => {\n  const { position = \"bottom\", isOpen, setIsOpen, title, description, children, promotionImage = PromotionIllustration } = props;\n\n  const classes = useStyles()\n\n  const toggleDrawer = (open: boolean) => (\n    event: React.KeyboardEvent | React.MouseEvent,\n  ) => {\n    if (\n      event?.type === 'keydown' &&\n      ((event as React.KeyboardEvent).key === 'Tab' ||\n        (event as React.KeyboardEvent).key === 'Shift')\n    ) {\n      return;\n    }\n\n    setIsOpen(open);\n  };\n\n  return (\n    <SwipeableDrawer\n      className={classes.root}\n      anchor={position}\n      open={isOpen}\n      onOpen={toggleDrawer(true)}\n      onClose={toggleDrawer(false)}>\n      <img className=\"drawerImage\" src={promotionImage} />\n      <h3 className=\"drawerHeading\">{title}</h3>\n      <p className=\"drawerDescription\">{description}</p>\n      {children && children}\n    </SwipeableDrawer>\n  );\n};\n\nexport default CustomDrawer;\n","import React from \"react\";\nimport { Button, createStyles, Dialog, Theme, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport PromotionIllustration from \"../../assets/images/congratulations-rewards.svg\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .MuiPaper-root\": {\n        padding: theme.spacing(5),\n        borderRadius: \"24px\",\n        maxWidth: 700,\n        width: \"100%\",\n        display: \"grid\",\n        gridTemplateColumns: \"auto 1fr\",\n        gridGap: \"40px\",\n\n        \"@media (max-width: 700px)\": {\n          textAlign: \"center\",\n          gridTemplateColumns: \"1fr\",\n        },\n\n        \"& .dialogImage\": {\n          maxWidth: \"180px\",\n          width: \"100%\",\n\n          \"@media (max-width: 700px)\": {\n            margin: \"auto\",\n          },\n        },\n\n        \"& .dialogContent\": {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n\n          \"& .heading\": {\n            color: \"#364245\",\n            fontWeight: 600,\n            fontSize: 24,\n            margin: 0,\n            marginBottom: 24,\n          },\n\n          \"& .description\": {\n            color: theme.palette.grey[600],\n            fontSize: \"16px\",\n            lineHeight: 1.3,\n          },\n\n          \"& .confirmButton\": {\n            borderRadius: \"6px\",\n          },\n        },\n      },\n    },\n  })\n);\n\ntype PromotionDialogProps = {\n  isOpen: boolean;\n  setOpen: (value: boolean) => void;\n  title: string;\n  description: string;\n  promotionImage?: string;\n  children?: React.ReactElement;\n};\n\nconst PromotionDialog = (props: PromotionDialogProps) => {\n  const {\n    isOpen,\n    setOpen,\n    title,\n    description,\n    promotionImage = PromotionIllustration,\n    children\n  } = props;\n\n  const classes = useStyles();\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Dialog className={classes.root} onClose={handleClose} open={isOpen}>\n      <img className=\"dialogImage\" src={promotionImage} />\n\n      <div className=\"dialogContent\">\n        <div>\n          <h3 className=\"heading\">{title}</h3>\n          <p className=\"description\">{description}</p>\n          {children && children}\n        </div>\n\n        <Button onClick={handleClose} color=\"primary\" variant=\"contained\" className=\"confirmButton\">\n          Confirm\n        </Button>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default PromotionDialog;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Button,\n  createStyles,\n  Fab,\n  makeStyles,\n  Theme,\n  Typography,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { pathOr } from \"ramda\";\nimport { useLocation } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { If } from \"react-if\";\n\n// src\nimport { UserContext } from \"../../bos_common/src/context/UserContext\";\nimport { MerchantPromotion } from \"../../bos_common/src/types/MerchantPromotionType\";\nimport { isCouponValid, isValidExpiryDate } from \"../../bos_common/src/services/CouponUtils\";\nimport { Merchant } from \"../../services/models\";\nimport { getPromotionChipStyleConfig, isUserEligibleForPromotion } from \"../../utils\";\nimport CustomDrawer from \"../CustomDrawer\";\nimport PromotionDialog from \"./PromotionDialog\";\nimport PromotionIllustration from \"../../assets/images/congratulations-rewards.svg\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      textAlign: \"center\",\n      padding: `${theme.spacing(2)} ${theme.spacing(2)}`,\n\n      \"&.sticky\": {\n        zIndex: 10,\n        position: \"sticky\",\n        top: \"68px\",\n        background: theme.palette.common.white,\n      },\n\n      \"& .buttonWrapper\": {\n        padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\n      },\n\n      \"& .promotionButton\": {\n        borderRadius: theme.spacing(1),\n        color: theme.palette.common.white,\n        backgroundColor: \"#F7932E\",\n        fontSize: \"14px\",\n\n        [theme.breakpoints.down('sm')]: {\n          padding: `${theme.spacing(.5)} 0`,\n        },\n        '& .MuiButton-label': {\n          lineHeight: 1.2,\n        },\n\n        \"&:hover\": {\n          backgroundColor: \"#F7932E\",\n        },\n\n        \"&.rounded\": {\n          borderRadius: 30,\n        },\n      },\n    },\n  })\n);\n\ntype PromotionButtonProps = {\n  merchant?: Merchant;\n};\n\nconst PromotionButton = (props: PromotionButtonProps) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const location = useLocation<{ promotion: MerchantPromotion }>()\n  const { merchant } = props;\n  let promotion = location.state?.promotion;\n  let coupon = promotion?.coupons?.find(c => isCouponValid(c))\n\n  // Prefer location.promotion over Merchant Promotion\n  if (!promotion) {\n    promotion = pathOr(undefined, ['promotions', 0], merchant);\n    coupon = pathOr(undefined, ['coupons', 0], promotion);\n  }\n\n  const [isPromotionDrawerOpen, setPromotionDrawerOpen] = useState(false);\n  const [isPromotionDialogOpen, setPromotionDialogOpen] = useState(false);\n\n  const { user } = useContext(UserContext);\n  const isMobile = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down(\"sm\")\n  );\n\n  if (!(promotion && isUserEligibleForPromotion(promotion, user))) {\n    return null\n  }\n\n  const DialogProps = {\n    title: promotion.title,\n    description: promotion.description,\n    promotionImage: PromotionIllustration,\n  }\n  const DialogContent = coupon && (\n    <Typography fontSize={isMobile ? \"14px\" : \"16px\"} color={theme.palette.grey[600]}>\n      Use <b>{coupon.code}</b> on your next order to claim the rewards!<br />\n      <If condition={isValidExpiryDate(coupon.endDate)}>\n        Valid until <b>{format(new Date(coupon.endDate), 'MMM d, p')}</b>\n      </If>\n    </Typography>\n  )\n\n  const { icon: PromotionIcon } = getPromotionChipStyleConfig(promotion)\n\n  return isMobile ? (\n    <div className={`${classes.root} sticky`}>\n      <div className=\"promotionButton\">\n        <Button\n          className=\"promotionButton\"\n          onClick={() => setPromotionDrawerOpen(true)}\n        >\n          {<PromotionIcon sx={{color: \"white\"}} />}{promotion.oneliner}\n        </Button>\n      </div>\n      <CustomDrawer {...DialogProps} isOpen={isPromotionDrawerOpen} setIsOpen={setPromotionDrawerOpen}>\n        {DialogContent}\n      </CustomDrawer>\n    </div>\n  ) : (\n    <span className={classes.root}>\n      <Fab\n        variant=\"extended\"\n        className=\"promotionButton rounded\"\n        onClick={() => setPromotionDialogOpen(true)}\n      >\n        {<PromotionIcon sx={{ width: 22, height: 22, color: \"white\" }} />}{promotion.oneliner}\n      </Fab>\n      <PromotionDialog {...DialogProps} isOpen={isPromotionDialogOpen} setOpen={setPromotionDialogOpen}>\n        <>{DialogContent}</>\n      </PromotionDialog>\n    </span>\n  );\n};\n\nexport default PromotionButton;","import React, { useEffect, useContext } from \"react\";\nimport useAxios from \"axios-hooks\";\nimport LazyLoad from \"react-lazyload\";\nimport {\n  CardContent,\n  createStyles,\n  makeStyles,\n  Theme,\n  Grid,\n  Typography,\n  useMediaQuery\n} from \"@material-ui/core\";\nimport { pluck, isEmpty, without, pathOr } from \"ramda\";\nimport { If, Then } from \"react-if\";\n\nimport { FullscreenPaper } from \"../../bos_common/src/components/Papers\";\nimport MerchandiseListing from \"../../bos_common/src/components/Merchandise/MerchandiseListing\";\nimport { groupMerchandiseDataByCategories } from \"../../bos_common/src/services/merchandiseUtils\";\nimport {\n  Merchandise,\n  Merchant,\n  MerchandiseApiResponseType,\n  MerchandiseModifier,\n  MerchantCoupon,\n  ItemType,\n} from \"../../services/models\";\n\nimport MenuItemCard from \"./MenuItemCard\";\nimport { MERCHANT_DATA_FETCH_INTERVAL } from \"../../config/constants\";\nimport { useFetchApiOnInterval } from \"../../bos_common/src/hooks\";\nimport SimpleLoader from \"../../bos_common/src/components/SimpleLoader\";\nimport { VisitedMerchantContext } from \"../../context/VisitedMerchantContext/VisitedMerchantContext\";\nimport { isMerchandiseAvailable, scrollToTop } from \"../../utils\";\nimport MarketingOneLiner from \"../common/MarketingOneLiner\";\nimport CountBox from \"../common/CountBox\";\nimport PromotionButton from \"../Promotions/PromotionButton\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: \"relative\",\n      backgroundColor: theme.palette.background.paper,\n      flex: \"1 1 auto\",\n\n      \"& .category-info\": {\n        marginBottom: theme.spacing(2),\n        marginTop: theme.spacing(2),\n      },\n      \"&:last-child\": {\n        minHeight: \"calc(100vh - 150px)\",\n      },\n      '& .lazyload-wrapper': {\n        height: '100%'\n      }\n    },\n  })\n);\n\ninterface RenderMerchandiseProps {\n  merchandises: Merchandise[];\n  merchant: Merchant;\n  modifiers: MerchandiseModifier[] | undefined;\n}\n\nconst RenderMerchandises = ({\n  merchandises = [],\n  merchant,\n  modifiers,\n}: RenderMerchandiseProps) => {\n\n  const promotion = pathOr({}, ['promotions', 0], merchant);\n  const coupon = pathOr({}, ['coupons', 0], promotion);\n\n  // sort by available so that unavailable items are listed at the end and filter visible merchandises\n  merchandises\n    ?.sort((a: Merchandise, b: Merchandise) => {\n      if (a.inventory?.dailyCurrentStock === 0) return 1;\n      if (b.inventory?.dailyCurrentStock === 0) return -1;\n\n      return (a.displayOrder !== b.displayOrder)\n        ? (a.displayOrder > b.displayOrder ? 1 : -1)\n        : (a.name > b.name ? 1 : -1);\n    })\n    .filter((item) => item.visible);\n  return (\n    <If condition={merchandises.length > 0}>\n      <Then>\n        {merchandises.map((merchandise: Merchandise) => (\n          <Grid item xs={12} sm={6} lg={4} key={merchandise.id}>\n            <LazyLoad offset={100} height={100} unmountIfInvisible>\n              <MenuItemCard\n                merchandise={merchandise}\n                merchant={merchant}\n                modifiers={modifiers}\n                coupon={coupon}\n              />\n            </LazyLoad>\n          </Grid>\n        ))}\n      </Then>\n    </If>\n  );\n};\n\nconst RenderFeaturedDeals = ({ merchandises, merchant, modifiers }: RenderMerchandiseProps) => {\n\n  const classes = useStyles();\n  const promotion = pathOr({}, ['promotions', 0], merchant);\n  const coupon: MerchantCoupon = pathOr({}, ['coupons', 0], promotion);\n\n  const featuredDealItems = React.useMemo(() => {\n    if (coupon && coupon.affectedItems) {\n      return merchandises.filter((m) => {\n        if (!isMerchandiseAvailable(m)) return false; // keep only available items\n        const match = coupon.affectedItems?.filter((item) => {\n          return (item.type === ItemType.CATEGORY) ? (Number(item.id) === m.categoryId) : (item.id === m.id);\n        });\n        return match && (match?.length > 0);\n      })\n    }\n    return [];\n  }, [merchant, merchandises]);\n\n  if (featuredDealItems.length < 1)\n    return null;\n\n  return (\n    <CardContent className={classes.root}>\n      <div className=\"category-info\">\n        <Typography variant=\"body1\" component=\"div\" display='flex' alignItems='center'>\n          Featured Deals&nbsp;&nbsp;\n          <CountBox count={featuredDealItems.length} />\n        </Typography>\n        <div style={{ display: 'inline-block', marginTop: '8px', fontSize: '12px' }}>\n          <MarketingOneLiner description={promotion?.oneliner} />\n        </div>\n      </div>\n      <Grid container spacing={2}>\n        <RenderMerchandises\n          merchandises={featuredDealItems}\n          modifiers={modifiers}\n          merchant={merchant}\n        />\n      </Grid>\n    </CardContent>\n  )\n}\n\ntype MerchantMenuProps = {\n  merchant: Merchant;\n};\nconst MerchantMenu = (props: MerchantMenuProps): React.ReactElement => {\n  const { merchant } = props;\n  const { setVisitedMenu } = useContext(VisitedMerchantContext);\n\n  const [{ data: merchandiseData, loading }, fetchMerchandises] =\n    useAxios<MerchandiseApiResponseType>({\n      url: \"/merchandises\",\n      params: { merchantId: merchant.id },\n    });\n  useFetchApiOnInterval(fetchMerchandises, MERCHANT_DATA_FETCH_INTERVAL, true);\n\n  const { mercCategories = [], merchandises = [] } = merchandiseData || {};\n\n  useEffect(() => {\n    merchandiseData && setVisitedMenu(merchandiseData);\n  }, [merchandiseData])\n\n  useEffect(() => {\n    scrollToTop();\n  }, [])\n\n  const classes = useStyles();\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n\n  const groupedMerchandises = groupMerchandiseDataByCategories({\n    categories: mercCategories,\n    merchandises: merchandises,\n    merchant,\n  });\n  const categories = without([null], pluck('category', groupedMerchandises));\n\n  return (\n    <FullscreenPaper>\n      <SimpleLoader loading={loading} />\n      <MerchandiseListing\n        categories={categories}\n        menuItemsAvailable={!isEmpty(merchandises)}\n        loading={loading}\n      >\n        <>\n          <If condition={isMobile}>\n            <PromotionButton merchant={merchant} />\n          </If>\n          <RenderFeaturedDeals\n            merchant={merchant}\n            merchandises={merchandises}\n            modifiers={merchandiseData?.modifiers} />\n          {groupedMerchandises?.map(\n            ({ category, merchandises }, idx: number) => (\n              <CardContent\n                className={classes.root}\n                key={idx}\n                id={`category-${category ? category.id : \"0\"}`}\n              >\n                {category && (\n                  <div className=\"category-info\">\n                    {\n                      <Typography variant=\"body1\" component=\"div\" display='flex' alignItems='center'>\n                        {category.name}&nbsp;&nbsp;\n                        <CountBox count={merchandises.length} />\n                      </Typography>\n                    }\n                    {category.description && (\n                      <Typography\n                        variant=\"subtitle2\"\n                        component=\"p\"\n                        color=\"textSecondary\"\n                      >\n                        {category.description}\n                      </Typography>\n                    )}\n                  </div>\n                )}\n\n                <Grid container spacing={2}>\n                  <RenderMerchandises\n                    merchandises={merchandises}\n                    modifiers={merchandiseData?.modifiers}\n                    merchant={merchant}\n                  />\n                </Grid>\n              </CardContent>\n            )\n          )}\n        </>\n      </MerchandiseListing>\n    </FullscreenPaper>\n  );\n};\n\nexport default MerchantMenu;\n","import React from \"react\";\nimport { Fab, styled } from \"@material-ui/core\";\n\n// added important here so that the outline styles don't get overridden by MUI defaults\nconst OutlinedFab = styled(Fab)(({ theme }) => ({\n  backgroundColor: `${theme.palette.common.white} !important`,\n  color: `${theme.palette.secondary.main} !important`,\n  border: `1px solid ${theme.palette.secondary.main} !important`,\n\n  \"&:disabled\": {\n    border: \"none\",\n  },\n\n  \"&:hover\": {\n    backgroundColor: `${theme.palette.secondary.main} !important`,\n    color: `${theme.palette.common.white} !important`,\n  },\n}));\n\nexport default OutlinedFab;\n","import React from 'react'\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Fab } from \"@material-ui/core\"\nimport OutlinedFab from './OutlinedFab'\n\ntype ConfirmationAlert = {\n  isOpen: boolean;\n  onConfirm?: () => void;\n  confirmLabel?: string;\n  onCancel?: () => void;\n  cancelLabel?: string;\n  children: any;\n  title: string\n}\n\nconst ConfirmationAlert = (props: ConfirmationAlert): React.ReactElement => {\n  const { isOpen = false, onConfirm, onCancel, title, cancelLabel = 'Cancel', confirmLabel = 'Confirm' } = props\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={onCancel}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {props.children}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions style={{ justifyContent: 'space-evenly', paddingBottom: 20, paddingTop: 20 }}>\n      \n      {onCancel && <OutlinedFab sx={{height:40}} onClick={onCancel} color='secondary' variant='extended'>\n          {cancelLabel}\n        </OutlinedFab>}\n        {onConfirm && <Fab onClick={onConfirm} color=\"primary\" size=\"medium\" variant='extended' autoFocus>\n          {confirmLabel}\n        </Fab>}\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default ConfirmationAlert;","import React, { useContext, useEffect, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { Card, Button, makeStyles, createStyles, Box, Theme } from '@material-ui/core'\nimport { pathEq } from 'ramda'\nimport { If } from \"react-if\"\nimport { AppContext, CartType } from '../../context/AppContext'\nimport { OrderType, FeatureFlags, Merchant } from '../../services/models'\nimport ConfirmationAlert from '../../bos_common/src/components/ConfirmationAlert'\nimport classNames from 'classnames'\nimport { rgba } from 'polished'\ninterface OrderOption {\n  type: OrderType,\n  label: string,\n  disabled?: boolean\n}\n\ninterface IMerchantPageParams {\n  merchantUserName: string,\n  merchandiseId?: string,\n}\n\nconst isReservationsEnabled = (featureFlags: FeatureFlags | undefined, merchant: Merchant | undefined): boolean => {\n  return pathEq(['enableReservations'], 1, featureFlags) && merchant?.orderingConfig?.enabledReservations;\n}\n\nconst OrderOptions: OrderOption[] = [\n  {\n    type: OrderType.PICKUP,\n    label: 'Pickup',\n  },\n  {\n    type: OrderType.DINEIN,\n    label: 'Dine-In',\n  },\n  {\n    type: OrderType.RESERVATION,\n    label: 'Reservation',\n  }\n]\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    boxRootStyle: {\n    },\n    cardRootStyle: {\n      \"&.MuiCard-root\": {\n        width: 'max-content',\n        marginLeft: '50%',\n        transform: 'translate(-50%, 0)',\n        padding: 4,\n        boxShadow: '0 3px 6px rgba(0, 0, 0, 0.07)',\n        marginBottom: 3,\n      }\n    },\n    buttonRootStyle: {\n      \"&.MuiButton-root\": {\n        width: 88,\n        height: 35,\n        borderRadius: 8,\n        textTransform: 'unset',\n        fontWeight: 500,\n        padding: 0,\n        '&:not(:last-child)': {\n          margin: '0 4px 0 0',\n        },\n        '&.primary': {\n          color: 'rgba(0, 0, 0, 0.87)',\n          boxShadow: 'none',\n        },\n        '&.selected': {\n          background: rgba(theme.palette.primary.main, 0.15),\n          border: `1px solid ${theme.palette.primary.main}`,\n          borderRadius: 8,\n          color: theme.palette.primary.main\n        },\n        \"&.Mui-disabled\": {\n          color: 'rgba(0, 0, 0, 0.26)'\n        }\n      }\n    }\n  })\n)\n\nconst OrderOptionsGroup = (props: {\n  merchant?: Merchant\n}): React.ReactElement => {\n  const history = useHistory()\n  const { merchantUserName } = useParams<IMerchantPageParams>()\n  const { merchant } = props\n  const { setCartType, setOrderType, orderType, featureFlags, tableQrCodeObject } = useContext(AppContext)\n  const { boxRootStyle, cardRootStyle, buttonRootStyle } = useStyles()\n  const [showOrderTypeAlert, setShowOrderTypeAlert] = useState<boolean>(false)\n  const [orderOptions, setOrderOptions] = useState<OrderOption[]>(OrderOptions)\n  const isReservationFeatureEnabled = isReservationsEnabled(featureFlags, merchant)\n\n  useEffect(() => {\n    const res = isReservationFeatureEnabled ? OrderOptions : OrderOptions.slice(0, 2);\n    res[1].disabled = tableQrCodeObject ? false : true;\n    setOrderOptions(res)\n  }, [tableQrCodeObject, isReservationFeatureEnabled])\n\n  const changeOrderTypeToPickUp = () => {\n    setOrderType(OrderType.PICKUP)\n    setCartType(CartType.REGULAR)\n    history.push(`/${merchantUserName}`)\n    setShowOrderTypeAlert(false)\n  }\n\n  const handleSwitchOption = (order: OrderOption) => {\n    if (order.type !== orderType) {\n      switch (order.type) {\n        case OrderType.PICKUP:\n          setShowOrderTypeAlert(true)\n          break\n        case OrderType.DINEIN:\n        default:\n          setOrderType(order.type)\n          break\n      }\n    }\n  }\n\n  return (\n    <Box className={boxRootStyle}>\n      <If condition={orderType === OrderType.DINEIN}>\n        <ConfirmationAlert\n          title=\"Would you like to switch from Dine in to Pick up?\"\n          isOpen={showOrderTypeAlert}\n          onConfirm={changeOrderTypeToPickUp}\n          onCancel={() => setShowOrderTypeAlert(false)} >\n          {''}\n        </ConfirmationAlert>\n      </If>\n      <Card classes={{root: cardRootStyle}}>\n      {\n        orderOptions.map((orderOption: OrderOption) =>\n          <Button\n            classes={{\n              root: classNames([\n                buttonRootStyle,\n                orderType === orderOption.type\n                  ? 'selected'\n                  : 'primary'\n              ])\n            }}\n            onClick={() => handleSwitchOption(orderOption)}\n            key={orderOption.type}\n            disabled={orderOption.disabled}\n          >\n            {orderOption.label}\n          </Button>\n        )\n      }\n      </Card>\n    </Box>\n  )\n}\n\nexport default OrderOptionsGroup\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { createStyles, IconButton, makeStyles, Theme } from \"@material-ui/core\";\nimport { FavoriteBorderSharp, Favorite as FavIcon } from \"@material-ui/icons\";\nimport useAxios from \"axios-hooks\";\n\nimport { UserContext } from \"../../bos_common/src/context/UserContext\";\nimport axios from \"../../bos_common/src/services/backendAxios\";\nimport { Merchandise, Merchant, Favorite } from \"../../services/models\";\nimport SignupDrawer, { SignupEntrance } from \"../User/SignupDrawer\";\nimport { isKioskDevice } from \"../../utils\";\nimport { useLocation } from \"react-router\";\nimport { rgba } from \"polished\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&.MuiButtonBase-root': {\n        backgroundColor: `${rgba(theme.palette.primary.main, 0.15)}`,\n        transition: 'all 200ms linear',\n\n        '&:hover': {\n          backgroundColor: `${rgba(theme.palette.primary.main, 0.3)}`,\n        }\n      }\n    },\n  })\n);\n\nconst FavoriteButton = (props: {\n  merchant: Merchant;\n  merchandise?: Merchandise;\n  onUpdateSuccess?: (favorited: boolean) => void;\n}): React.ReactElement | null => {\n  if (isKioskDevice()) {\n    return null;\n  }\n\n  const { user } = useContext(UserContext);\n  const [favorited, setFavorited] = useState<boolean>(false);\n  const [favLoading, setFavLoading] = useState<boolean>(false);\n  const [showSignup, setShowSignup] = useState<boolean>(false);\n\n  const location = useLocation();\n  const isFavoriteCallback = location.hash === \"#favorite\";\n\n  const [, executeFavoritePut] = useAxios(\n    { url: \"/favorite/update\", method: \"POST\" },\n    { manual: true }\n  );\n\n  const toggleMerchantFavoriteState = (newFav: boolean) => {\n    setFavorited(newFav);\n\n    setFavLoading(true);\n    executeFavoritePut({\n      data: {\n        userId: user?.id,\n        merchantId: props.merchant.id,\n        merchandiseId: props.merchandise?.id,\n        favorited: newFav,\n      },\n    })\n      .then((response) => {\n        setFavLoading(false);\n        if (response.status === 200) {\n          props.onUpdateSuccess && props.onUpdateSuccess(newFav);\n        } else {\n          setFavorited(!newFav);\n        }\n      })\n      .catch((err) => {\n        setFavLoading(false);\n        setFavorited(!newFav);\n      });\n  };\n\n  const getStoreFavoriteState = () => {\n    setFavLoading(true);\n    axios\n      .get<Favorite[]>(\"/favorites\", {\n        params: {\n          userId: user?.id,\n          merchantId: props.merchant.id,\n          merchandiseId: props.merchandise?.id,\n        },\n      })\n      .then((response) => {\n        setFavLoading(false);\n        if (response.status === 200) {\n          const isFavorite = response.data.length > 0;\n          setFavorited(isFavorite);\n          if (!isFavorite && isFavoriteCallback)\n            toggleMerchantFavoriteState(true);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setFavLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    if (user) {\n      getStoreFavoriteState();\n    }\n  }, [user]);\n\n  const saveFavorite = () => {\n    if (user && props.merchant) {\n      toggleMerchantFavoriteState(!favorited);\n    } else {\n      setShowSignup(true);\n    }\n  };\n\n  const redirectUrl = location.pathname + \"#favorite\";\n  const classes = useStyles();\n\n  return (\n    <>\n      <IconButton\n        className={classes.root}\n        aria-label=\"favorite\"\n        disabled={favLoading}\n        onClick={saveFavorite}\n      >\n        {favorited ? (\n          <FavIcon color=\"primary\" />\n        ) : (\n          <FavoriteBorderSharp color=\"primary\" />\n        )}\n      </IconButton>\n      {showSignup && (\n        <SignupDrawer\n          open={showSignup}\n          setOpen={setShowSignup}\n          entrance={SignupEntrance.FAVORTIE}\n          redirectAfterSignup={redirectUrl}\n        />\n      )}\n    </>\n  );\n};\n\nexport default FavoriteButton;\n","import React, { useEffect, useState } from 'react';\nimport {\n  Box,\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  TypographyProps,\n  useTheme\n} from '@material-ui/core';\nimport { AlarmOn, Schedule } from '@material-ui/icons';\nimport useAxios from 'axios-hooks';\nimport { If, Then, Else } from 'react-if';\n\nimport { WaitTime } from '../../bos_common/src/types/WaitTimeType';\nimport { Merchant, Order } from '../../services/models';\nimport { pluralString } from '../../utils';\nimport { useFunctionOnInterval } from '../../bos_common/src';\nimport { WAIT_TIME_ON_ORDER_STATUS_INTERVAL } from '../../config/constants';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .MuiTypography-root': {\n        display: 'flex',\n        alignItems: 'center',\n        marginTop: \"2px\",\n      },\n      '& .wait-time-icon': {\n        marginRight: 5,\n        marginTop: \"-2px\",\n      },\n    },\n    boxRoot: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      width: '100%',\n      '& .wait-time-wrapper': {\n        display: 'flex',\n        alignItems: 'center',\n        marginRight: 12,\n        whiteSpace: 'nowrap',\n      },\n      '& .progress-bar-wrapper': {\n        width: '100%',\n        '& .progress-root': {\n          display: 'block',\n          width: '100%',\n          maxWidth: '360px',\n          height: 8,\n          position: 'relative',\n          borderRadius: 5,\n          overflow: 'visible',\n          background: '#E5E5E5',\n          '& .progress-bar-indicator': {\n            height: '100%',\n            borderRadius: 5,\n            mask: 'linear-gradient(#fff 0 0)',\n            '&::before': {\n              content: '\"\"',\n              borderRadius: 5,\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundImage: 'linear-gradient(90deg, #00FF8A 0%, #FFF800 50.32%, #EA5514 100%)',\n            }\n          }\n        }\n      }\n    },\n  }),\n);\n\ntype RenderWaitTimeProps = {\n  merchant?: Merchant,\n  order?: Order,\n  withIcon?: boolean,\n  short?: boolean,\n  typographyProps?: TypographyProps<\"div\">,\n}\nconst RenderWaitTimeSlider = ({ merchant, order, withIcon = true, short = false, typographyProps = {} }: RenderWaitTimeProps): React.ReactElement => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const [waitColor, setWaitColor] = useState<string>()\n\n  const url = order\n    ? `/orders/${order.id}/waitTime`\n    : merchant\n      ? `/merchants/${merchant.id}/waitTime`\n      : undefined;\n\n  const [{ data: waitTime, loading }, executeGet] = useAxios<WaitTime>(\n    { url, method: 'get' },\n    { manual: true }\n  );\n\n  const timerHandler = useFunctionOnInterval(executeGet, WAIT_TIME_ON_ORDER_STATUS_INTERVAL, true)\n\n  useEffect(() => {\n    if (waitTime && waitTime.readyTime) {\n      if (timerHandler.current) {\n        clearTimeout(timerHandler.current)\n      }\n    }\n\n    if (waitTime) {\n      if (waitTime.maxMinutes < 25) {\n        setWaitColor(theme.palette.info.light)\n      } else if (waitTime.maxMinutes < 40) {\n        setWaitColor('#F8B62D')\n      } else if (waitTime.maxMinutes <= 45) {\n        setWaitColor('#F1840F')\n      } else {\n        setWaitColor('#EA5615')\n      }\n    }\n  }, [waitTime])\n\n  const getWaitTimeString = (minMinutes: number | undefined, maxMinutes: number | undefined) => {\n    if (minMinutes == null || maxMinutes == null) {\n      return 'n/a'\n    } else {\n      return (<span style={{ color: waitColor }}>{minMinutes}-{maxMinutes} mins</span>)\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <If condition={loading && !waitTime}>\n        <Then>\n          <Typography variant=\"subtitle1\" color=\"textPrimary\" component=\"div\" {...typographyProps}>\n            {withIcon && <Schedule className='wait-time-icon' color='primary' />}\n            Estimating&nbsp;...\n          </Typography>\n        </Then>\n        <Else>\n          <If condition={!!waitTime}>\n            <Then>\n              <Typography variant=\"subtitle1\" color=\"textPrimary\" component=\"div\" {...typographyProps}>\n                {\n                  waitTime?.readyTime\n                    ? (<>\n                      {withIcon && <AlarmOn className='wait-time-icon' color='primary' />}\n                      {new Date(waitTime?.readyTime)}\n                    </>)\n                    : (waitTime?.priorOrdersInQueue && !short)\n                      ? (<>\n                        {withIcon && <Schedule className='wait-time-icon' color='primary' />}\n                        {pluralString(waitTime.priorOrdersInQueue, 'order')} / {pluralString(waitTime.priorItemsInQueue, 'item')} in queue,\n                        est.&nbsp;{getWaitTimeString(waitTime?.minMinutes, waitTime?.maxMinutes)}\n                      </>)\n                      : (<Box className={classes.boxRoot}>\n                        <div className='wait-time-wrapper'>\n                          {withIcon && <Schedule color=\"primary\" className='wait-time-icon' />}\n                          {getWaitTimeString(waitTime?.minMinutes, waitTime?.maxMinutes)}&nbsp;&nbsp;wait time\n                        </div>\n                        <div className='progress-bar-wrapper'>\n                          <div className='progress-root'>\n                            <div className='progress-bar-indicator' style={{ width: `${(waitTime?.maxMinutes ?? 0) / 60 * 100}%` }}></div>\n                          </div>\n                        </div>\n                      </Box>)\n                }\n              </Typography>\n            </Then>\n          </If>\n        </Else>\n      </If >\n    </div>\n  )\n}\n\nexport default RenderWaitTimeSlider;","import React from \"react\";\nimport { SwipeableDrawer, Toolbar, makeStyles, Theme, createStyles, Typography } from \"@material-ui/core\";\nimport { If } from \"react-if\";\nimport { ColoredPaper } from \"./Papers\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      '& .MuiPaper-root': {\n        overflowY: \"unset\",\n        borderRadius: \"8px\", // to override inline style\n        '&:before': {\n          content: \"''\",\n          position: \"absolute\",\n          top: -15,\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          pointerEvents: \"none\",\n          width: \"130px\",\n          height: \"6px\",\n          borderRadius: \"50px\",\n          background: \"rgba(255, 255, 255, 0.5)\"\n        },\n      },\n      '& .toolbar': {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginTop: theme.spacing(1),\n        paddingLeft: theme.spacing(2),\n        '& .MuiTypography-root': {\n          lineHeight: 1.2,\n        },\n      },\n      '& .content': {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n      }\n    },\n  }),\n);\n\n\nconst BottomDrawer = (props: {\n  children: React.ReactElement,\n  open: boolean,\n  setOpen: (open: boolean) => void,\n  onClose?: () => void,\n  title?: React.ReactNode | string,\n  keepMounted?: boolean,\n  anchor?: \"bottom\" | \"left\" | \"top\" | \"right\",\n  className?: string\n}): React.ReactElement => {\n  const classes = useStyles()\n  const { open, setOpen, onClose, title, children, keepMounted = true, anchor='bottom', className=\"\" } = props;\n\n  const toggleDrawer = (open: boolean) => (\n    event: React.KeyboardEvent | React.MouseEvent,\n  ) => {\n    if (\n      event && event.type === 'keydown' &&\n      ((event as React.KeyboardEvent).key === 'Tab' ||\n        (event as React.KeyboardEvent).key === 'Shift')\n    ) {\n      return;\n    }\n\n    setOpen(open)\n    if (!open && onClose) {\n      onClose()\n    }\n  }\n\n  return (\n    <SwipeableDrawer\n      variant=\"temporary\"\n      ModalProps={{ keepMounted }}\n      anchor={anchor}\n      open={open}\n      onOpen={toggleDrawer(true)}\n      onClose={toggleDrawer(false)}\n      className={classNames([classes.drawer],{\n        [className]: Boolean(className)\n      })}>\n      <ColoredPaper\n        className=\"toolbarWrapper\"\n        role=\"presentation\">\n        <If condition={!!title}>\n          <Toolbar className=\"toolbar\">\n            <Typography variant=\"h6\" component=\"div\">\n              {title}\n            </Typography>\n          </Toolbar>\n        </If>\n        {children}\n      </ColoredPaper>\n    </SwipeableDrawer>\n  )\n}\n\nexport default BottomDrawer","import { createStyles, makeStyles, Theme } from '@material-ui/core';\nimport React from 'react';\nimport { If, Then, Else } from 'react-if';\nimport { format } from 'date-fns';\n\nimport { Merchant, SpecialHours } from '../../services/models';\nimport { daysOfWeek, getSpecialTimings } from '../../services/hoursUtils';\nimport { getTimeLabelFromOffset, isEmptyOrNil } from '../../utils';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .special-hours-contianer': {\n        display: \"grid\",\n        gridTemplateColumns: \"82px auto\",\n\n        '& .range-label': {},\n\n        '& .timings-container': {\n          \"& ul\":{\n            listStyle: 'none',\n            padding: `0 ${theme.spacing(1)}`\n          }\n        }\n      }\n    }\n  })\n)\n\nconst HourGroup = ({ day, hourGroups }: { day: string; hourGroups: SpecialHours[] }) => {\n\n  return (\n    <div className='special-hours-contianer' key={`hours_${day}`}>\n      <span className='range-label'>{day}</span>\n      <span className='timings-container'>\n        <ul>\n          {\n            hourGroups.map((hours: SpecialHours) => {\n              const { fromMinOffset, toMinOffset } = hours\n              const timing = (fromMinOffset == 0 || toMinOffset == 0)\n                ? 'Closed'\n                : `${getTimeLabelFromOffset(fromMinOffset)} - ${getTimeLabelFromOffset(toMinOffset)}`\n\n              return <li key={`${day}_${timing}`}>{timing}</li>\n            })\n          }\n        </ul>\n      </span>\n    </div >\n  )\n}\n\nconst SpecialTimings = ({ customizations }: { customizations: SpecialHours[] }) => {\n  const classes = useStyles()\n\n  const formattedSpecialTimings = getSpecialTimings(customizations)\n  const SpecialTimings: Array<React.ReactElement> = []\n\n  const days = Array.from(daysOfWeek.values());\n  days.forEach((day: string) => {\n    const hourGroups = formattedSpecialTimings[day];\n    if (hourGroups != null) {\n      SpecialTimings.push(\n        <HourGroup key={day} day={day} hourGroups={hourGroups} />\n      )\n    }\n  })\n\n  Object.keys(formattedSpecialTimings).forEach((key: string) => {\n    if (!days.includes(key)) {\n      const hourGroups = formattedSpecialTimings[key];\n      if (hourGroups != null) {\n        SpecialTimings.push(\n          <HourGroup day={key} hourGroups={hourGroups} />\n        )\n      }\n    }\n  })\n\n  return (\n    <div className={classes.root}>\n      {SpecialTimings}\n    </div>\n  )\n}\n\ntype MerchantStoreHourProps = {\n  merchant: Merchant\n}\nconst MerchantStoreHours = ({ merchant }: MerchantStoreHourProps): React.ReactElement => {\n  const { hours } = merchant\n  const noTimingsAvailable = !hours || (isEmptyOrNil(hours?.defaultFromMinOffset) && isEmptyOrNil(hours?.defaultToMinOffset) && isEmptyOrNil(hours.customizations))\n  return (\n    <div className='timings-container'>\n      <If condition={noTimingsAvailable}>\n        <Then>\n          No store hours specified\n        </Then>\n        <Else>\n          <If condition={!isEmptyOrNil(hours?.defaultFromMinOffset) && !isEmptyOrNil(hours?.defaultToMinOffset)}>\n            {`${getTimeLabelFromOffset(hours?.defaultFromMinOffset)} - ${getTimeLabelFromOffset(hours?.defaultToMinOffset)}`}\n          </If>\n          <If condition={!isEmptyOrNil(hours.customizations)}>\n            <SpecialTimings customizations={hours.customizations} />\n          </If>\n        </Else>\n      </If>\n\n    </div >\n  )\n}\n\n\nexport const MerchantStoreHoursForToday = ({ merchant }: MerchantStoreHourProps): React.ReactElement => {\n  const date = new Date();\n  const day = (date.getDay() + 6) % 7;\n  const dayOfWeek = daysOfWeek.get(day);\n  const dateStr = format(date, 'MM-dd');\n\n  const { hours } = merchant;\n  const noTimingsAvailable = !hours || (isEmptyOrNil(hours?.defaultFromMinOffset) && isEmptyOrNil(hours?.defaultToMinOffset) && isEmptyOrNil(hours.customizations))\n  if (noTimingsAvailable) {\n    return <div>No store hours specified</div>;\n  }\n\n  if (hours?.customizations) {\n    const formattedSpecialTimings = getSpecialTimings(hours.customizations);\n    const hourGroups = formattedSpecialTimings[dateStr] || (dayOfWeek ? formattedSpecialTimings[dayOfWeek] : null);\n    if (hourGroups != null) {\n      return (\n        <div className='special-hours-contianer'>\n          <span className='range-label'>{\"Today's hours:\"}&nbsp;</span>\n          <span className='timings-container'>\n            {hourGroups\n              .map<React.ReactNode>((hours: SpecialHours) => {\n                const { fromMinOffset, toMinOffset } = hours\n                const timing = (fromMinOffset == 0 || toMinOffset == 0)\n                  ? 'Closed'\n                  : `${getTimeLabelFromOffset(fromMinOffset)} - ${getTimeLabelFromOffset(toMinOffset)}`\n\n                return <span key={`${day}_${timing}`}>{timing}</span>\n              })\n              .reduce((prev, curr) => [prev, `, `, curr])\n            }\n          </span>\n        </div >\n      )\n    }\n  }\n\n  return (\n    <div className='special-hours-contianer'>\n      <If condition={!isEmptyOrNil(hours?.defaultFromMinOffset) && !isEmptyOrNil(hours?.defaultToMinOffset)}>\n        <>\n          <span className='range-label'>{\"Today's hours:\"}&nbsp;</span>\n          <span className='timings-container'>\n            {`${getTimeLabelFromOffset(hours?.defaultFromMinOffset)} - ${getTimeLabelFromOffset(hours?.defaultToMinOffset)}`}\n          </span>\n        </>\n      </If>\n    </div >\n  )\n}\n\n\nexport default MerchantStoreHours;","import React from \"react\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography, { TypographyProps } from \"@material-ui/core/Typography\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport { createStyles, makeStyles } from \"@material-ui/core\";\nimport { If } from \"react-if\";\nimport classNames from \"classnames\";\n\nimport { MerchantRating } from \"../../bos_common/src/types/MerchantType\";\nimport { pluralString } from \"../../utils\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'flex',\n\n      '& .MuiPaper-root.list-item-icon-container': {\n        marginLeft: 'auto',\n        padding: '0.25rem',\n      },\n\n      '& .MuiPaper-root.list-item-icon-container.star-only': {\n        boxShadow: 'none',\n      },\n\n      '& .MuiListItemIcon-root': {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n      },\n    },\n  }))\n\n\ninterface MerchantRatingInfoProps {\n  merchantRating?: MerchantRating;\n  typographyProps?: TypographyProps<\"span\">;\n  starOnly?: boolean;\n}\n\nexport const MerchantRatingInfo = (props: Readonly<MerchantRatingInfoProps>): JSX.Element | null => {\n  const classes = useStyles();\n  const { merchantRating, typographyProps = {}, starOnly } = props;\n\n  const paperClassNames = classNames({\n    'list-item-icon-container': true,\n    'star-only': starOnly\n  })\n\n  return (\n    <If condition={merchantRating && merchantRating.overallRating > 0 && merchantRating?.reviewCount >= 10}>\n      <div className={classes.root} style={{ width: starOnly ? 'auto' : '100vw' }}>\n        <If condition={!starOnly}>\n          <Typography {...typographyProps}>{pluralString(merchantRating?.reviewCount || 0, 'review')}</Typography>\n        </If>\n        <Paper classes={{ root: paperClassNames }}>\n          <ListItemIcon>\n            <StarIcon color=\"primary\" fontSize=\"small\" />\n            <Typography variant=\"subtitle1\" {...typographyProps}>{merchantRating?.overallRating?.toFixed(2)}</Typography>\n          </ListItemIcon>\n        </Paper>\n      </div>\n    </If>\n  );\n}\n\nexport default MerchantRatingInfo;\n","\nimport React from \"react\"\nimport { Card, List, ListItem, ListItemIcon, ListItemText, Typography, makeStyles, createStyles, Theme, CardContent, Divider, Paper } from \"@material-ui/core\"\nimport { Place, Phone, Description, Schedule } from \"@material-ui/icons\"\nimport { If } from \"react-if\"\nimport ReactMarkdown from \"react-markdown\"\n\nimport { Merchant, MerchantRating } from \"../../services/models\"\nimport BottomDrawer from \"../../bos_common/src/components/BottomDrawer\"\nimport MerchantStoreHours from \"./MerchantStoreHours\"\nimport { MerchantRatingInfo } from \"./MerchantRatingInfo\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginTop: theme.spacing(3),\n      marginBottom: theme.spacing(3),\n      paddingRight: theme.spacing(1),\n      '& .MuiDivider-root:last-child': {\n        display: 'none',\n      },\n      '& .phoneLink': {\n        color: theme.palette.primary.main,\n      },\n    },\n  }),\n);\n\nconst MerchantInfoDrawer = (props: {\n  open: boolean,\n  setOpen: (open: boolean) => void,\n  merchant: Merchant,\n}): React.ReactElement => {\n  const classes = useStyles();\n  const { officialName, category, address, phoneNumber, description, hours, rating } = props.merchant\n  const title = (\n    <div>\n      <Typography variant=\"h5\" component=\"div\">{officialName}</Typography>\n      <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n        {category}\n      </Typography>\n    </div>\n  )\n\n  return (\n    <BottomDrawer {...props} title={title} >\n      <CardContent>\n        <Card className={classes.root} elevation={3}>\n          <List>\n            {rating && (\n              <ListItem>\n                <MerchantRatingInfo merchantRating={rating} />\n              </ListItem>\n            )}\n            <If condition={address}>\n              <>\n                <ListItem>\n                  <ListItemIcon>\n                    <Place color=\"primary\" />\n                  </ListItemIcon>\n                  <ListItemText primary={address} />\n                </ListItem>\n                <Divider variant=\"inset\" component=\"li\" />\n              </>\n            </If>\n            <If condition={Boolean(hours)}>\n              <>\n                <ListItem>\n                  <ListItemIcon>\n                    <Schedule color=\"primary\" />\n                  </ListItemIcon>\n                  <ListItemText primary={<MerchantStoreHours merchant={props.merchant} />} />\n                </ListItem>\n                <Divider variant=\"inset\" component=\"li\" />\n              </>\n            </If>\n            <If condition={phoneNumber}>\n              <>\n                <ListItem>\n                  <ListItemIcon>\n                    <Phone color=\"primary\" />\n                  </ListItemIcon>\n                  <ListItemText>\n                    <a href={`tel:${phoneNumber}`} className=\"phoneLink\"> {phoneNumber}</a>\n                  </ListItemText>\n                </ListItem>\n                <Divider variant=\"inset\" component=\"li\" />\n              </>\n            </If>\n            <If condition={description}>\n              <>\n                <ListItem>\n                  <ListItemIcon>\n                    <Description color=\"primary\" />\n                  </ListItemIcon>\n                  <ListItemText>\n                    <ReactMarkdown>\n                      {description || ''}\n                    </ReactMarkdown>\n                  </ListItemText>\n                </ListItem>\n                <Divider variant=\"inset\" component=\"li\" />\n              </>\n            </If>\n          </List>\n        </Card>\n      </CardContent>\n    </BottomDrawer>\n  )\n}\n\nexport default MerchantInfoDrawer","export default __webpack_public_path__ + \"static/media/table-icon.c4409af5.svg\";","import React from 'react';\nimport { useTheme } from '@material-ui/core';\n\n// src\nimport DiamondIcon from \"../../assets/icons/DiamondIcon\";\nimport { Merchant } from \"../../services/models\";\nimport { isEmptyOrNil } from \"../../utils\";\nimport { useAppDispatch } from '../../redux/hooks';\nimport { setShowRewardsEducationDrawer } from '../../redux/slice/merchant/action';\n\n\nconst renderMerchantRewards = (merchant: Merchant): JSX.Element | null => {\n  const theme = useTheme();\n  const dispatch = useAppDispatch();\n\n  const openRewardsEductionDrawer = (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    dispatch(setShowRewardsEducationDrawer(true))\n  }\n\n  const isPointsAvailable =\n    !isEmptyOrNil(merchant.orderingConfig?.pointsPerDollar) &&\n    merchant.orderingConfig?.pointsPerDollar &&\n    merchant.orderingConfig?.pointsPerDollar > 0;\n\n  return isPointsAvailable\n    ? (\n      <span\n        onClick={openRewardsEductionDrawer}\n        style={{\n          color: theme.palette.secondary.main,\n          fontWeight: 700,\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: theme.spacing(0.5),\n          cursor: 'pointer'\n        }}\n      >\n        <DiamondIcon color=\"secondary\" />\n        {merchant.orderingConfig?.pointsPerDollar}% rewards\n      </span>\n    )\n    : null;\n}\n\nexport default renderMerchantRewards;","import * as React from \"react\";\nimport { useState, useContext } from \"react\";\nimport { CardHeader, Typography, Avatar, Divider, IconButton, createStyles, makeStyles, Theme, Box, useMediaQuery, Stack } from \"@material-ui/core\"\nimport { InfoOutlined as InfoIcon } from \"@material-ui/icons\"\nimport { Else, If, Switch, Then, Case } from 'react-if'\nimport classNames from \"classnames\";\nimport { rgba } from \"polished\";\n\nimport { Merchant, OrderType } from \"../../services/models\"\nimport FavoriteButton from \"../common/FavoriteButton\"\nimport RenderWaitTimeSlider from \"../common/WaitTimeSlider\";\nimport { withFallbackPath, getOfflineMerchantMessage, isMerchantOnline, isKioskDevice, isStoreOpen, isEmptyOrNil, getTimeLabelFromOffset } from \"../../utils\";\n\nimport MerchantInfoDrawer from \"./MerchantInfoDrawer\";\nimport { AppContext } from \"../../context/AppContext\";\nimport TableIcon from \"../../assets/icons/table-icon.svg\";\nimport MerchantRatingInfo from \"./MerchantRatingInfo\";\nimport renderMerchantRewards from \"../common/MerchantRewards\";\nimport CustomizedChip from \"../common/CustomizedChip\";\nimport { nextOpenHour } from \"../../services/hoursUtils\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .filledIconButton': {\n        '&.MuiButtonBase-root': {\n          backgroundColor: `${rgba(theme.palette.primary.main, 0.15)}`,\n          transition: \"all 200ms linear\",\n\n          '&:hover': {\n            backgroundColor: `${rgba(theme.palette.primary.main, 0.3)}`,\n          }\n        }\n      },\n\n      '& .MuiAvatar-root': {\n        width: theme.spacing(8),\n        height: theme.spacing(8),\n      },\n      '& .inDivider': {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        borderBottom: `1px solid ${theme.palette.divider}`\n      },\n      '& .MuiCardHeader-action': {\n        alignSelf: 'center',\n      },\n      '& .realTimeInfo': {\n        padding: `${theme.spacing(1)} ${theme.spacing(2)}`\n      },\n      '& .offline-status': {\n        alignItems: 'center',\n        padding: `8px 8px`,\n        borderRadius: '10px',\n        '& .store-timings': {\n          backgroundColor: theme.palette.common.white,\n          border: 0,\n          color: rgba(54, 66, 69, 1),\n          padding: '0 4px',\n          marginRight: theme.spacing(1),\n        },\n        '&.ordering-unavailable': {\n          backgroundColor: rgba(227, 77, 40, 0.15),\n          '& .MuiTypography-root': {\n            color: rgba(227, 77, 40, 1)\n          }\n        },\n        '&.ordering-available': {\n          backgroundColor: rgba(54, 66, 69, 0.15),\n          '& .MuiTypography-root': {\n            color: rgba(54, 66, 69, 1)\n          }\n        },\n      },\n    }\n  }),\n);\n\nconst RenderMerchantOrderingStatusBanner = (props: { merchant: Merchant, orderType: OrderType }) => {\n  const { merchant, orderType } = props\n  const isMerchantOrderingAvailable = isMerchantOnline(merchant, orderType);\n  const isMerchanStoreOpen = isStoreOpen(merchant, new Date())\n\n  const RenderOfflineMessage = () => {\n\n    const variant = \"subtitle2\";\n    const offlineStatusClasses = classNames(['offline-status'], {\n      'ordering-unavailable': !isMerchantOrderingAvailable,\n      'ordering-available': isMerchantOrderingAvailable\n    })\n\n    if (isKioskDevice()) {\n      if (!isMerchantOrderingAvailable) {\n        return (\n          <Stack direction='row' className={offlineStatusClasses}>\n              <Typography variant={variant} component='p'>\n                {getOfflineMerchantMessage(orderType, merchant)}\n              </Typography>\n          </Stack>\n        )\n      } else {\n        return null;\n      }\n    }\n\n    if (isMerchantOrderingAvailable && isMerchanStoreOpen) return null;\n    const openFromMinOffset = !isMerchanStoreOpen ? nextOpenHour(merchant) : null;\n    const storeTimingsLabel = !isEmptyOrNil(openFromMinOffset)\n      ? `Opens ${getTimeLabelFromOffset(openFromMinOffset)}`\n      : ''\n\n    return (\n      <Stack direction='row' className={offlineStatusClasses}>\n        <Switch>\n          <Case condition={!isMerchanStoreOpen && storeTimingsLabel}>\n            <CustomizedChip\n              className='store-timings'\n              label={storeTimingsLabel}\n            />\n            &nbsp;\n            <Typography variant={variant} component='p'>\n              <If condition={!isMerchantOrderingAvailable}>\n                <Then>\n                  Come back soon!\n                </Then>\n                <Else>\n                  Order ahead available\n                </Else>\n              </If>\n            </Typography>\n          </Case>\n          <Case condition={!isMerchantOrderingAvailable}>\n            <Typography variant={variant} component='p'>\n              {getOfflineMerchantMessage(orderType, merchant)}\n            </Typography>\n          </Case>\n        </Switch>\n      </Stack>\n    )\n  }\n\n  return (\n    <If condition={isMerchantOrderingAvailable && isMerchanStoreOpen && merchant.claimed}>\n      <Then>\n        <RenderWaitTimeSlider merchant={merchant} typographyProps={{ variant: \"subtitle2\", color: \"textSecondary\" }} short />\n      </Then>\n      <Else>\n        <RenderOfflineMessage />\n      </Else>\n    </If>\n  )\n}\n\ntype MerchantInforHeader = {\n  merchant: Merchant,\n}\nconst MerchantInfoHeader = ({ merchant }: MerchantInforHeader): React.ReactElement => {\n  const classes = useStyles()\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"sm\"));\n\n  const { officialName, logo, category } = merchant;\n  const { orderType, tableQrCodeObject } = useContext(AppContext);\n  const [showDetailInfo, setShowInfo] = useState<boolean>(false);\n\n  const AvatarEnhanced: any = withFallbackPath(Avatar, logo);\n  const isKioskModeEnabled = isKioskDevice();\n  const rewards = renderMerchantRewards(merchant);\n\n  return (\n    <div className={classes.root}>\n      <CardHeader elevation={3}\n        title={<Typography variant={isMobile ? \"h6\" : \"h5\"} component=\"div\">{officialName}</Typography>}\n        avatar={<AvatarEnhanced color=\"secondary\" alt={officialName} src={`${logo}_small`} variant=\"rounded\" />}\n        action={\n          <>\n            <If condition={!isKioskModeEnabled}>\n              <IconButton color=\"primary\" className=\"filledIconButton\" onClick={() => setShowInfo(true)}>\n                <InfoIcon />\n              </IconButton>\n            </If>\n            &nbsp;\n            <FavoriteButton merchant={merchant} />\n          </>\n        }\n        subheader={\n          <Box sx={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', lineHeight: 1 }}>\n            <Typography variant={isMobile ? \"caption\" : \"body1\"} color=\"textSecondary\" className=\"category-line\">\n              {category}{rewards ? <>&nbsp;&nbsp;{\"|\"}&nbsp;&nbsp;</> : ''}\n            </Typography>\n            <Typography variant={isMobile ? \"caption\" : \"body1\"} color=\"textSecondary\" className=\"category-line\">\n              {rewards}\n            </Typography>\n            <MerchantRatingInfo merchantRating={merchant?.rating} typographyProps={{ variant: (isMobile ? \"caption\" : \"body1\"), color: \"textSecondary\" }} starOnly />\n          </Box>\n        }\n      />\n\n      <Divider className=\"inDivider\" />\n\n\n      <div className=\"realTimeInfo\">\n        <If condition={tableQrCodeObject?.identifier}>\n          <Then>\n            <Typography color=\"textSecondary\" component=\"div\" variant={isMobile ? \"caption\" : \"body1\"} sx={{ display: 'flex', alignItems: 'center' }}>\n              <img src={TableIcon} width={24} />&nbsp;Table: {tableQrCodeObject?.identifier}\n            </Typography>\n          </Then>\n        </If>\n\n        <RenderMerchantOrderingStatusBanner merchant={merchant} orderType={orderType} />\n      </div>\n      <MerchantInfoDrawer merchant={merchant} open={showDetailInfo} setOpen={setShowInfo} />\n    </div>\n  )\n}\n\nexport default MerchantInfoHeader;\n","import { ascend, find, map, pathOr, pipe, prop, propEq, sort } from \"ramda\";\nimport { AxiosResponse } from \"axios\";\n\nimport axios from \"../bos_common/src/services/backendAxios\";\nimport { isCouponValid } from \"../bos_common/src/services/CouponUtils\";\nimport { AppContextStateType, CartItemType } from \"../context/AppContext\"\nimport { getAuthHeaders, getRequiredRedemptionPoints, isCartFromAnOpenTabOrder } from \"../utils\"\nimport {\n  getCartDiscountedAmount, getItemsRedeemAmount,\n  getTotalPrice, getTotalTax, getTotalTip\n} from \"./cartUtils\"\nimport { LineItem, MerchandiseCategory, Order, OrderStatus, OrderType, User } from \"./models\"\nimport config from \"../config/config\";\nimport assert from \"assert\";\n\ntype CreateOrderServiceParams = {\n  appContext: AppContextStateType,\n  paymentIntentId?: string,\n  name?: string,\n  user?: User,\n  token?: string,\n  orderStatus?: OrderStatus,\n  phone?: string | null\n}\n\nconst createOrderService = (params: CreateOrderServiceParams): Promise<AxiosResponse<Order>> => {\n  const {\n    appContext,\n    paymentIntentId,\n    name,\n    user,\n    token,\n    orderStatus = OrderStatus.PAID,\n    phone\n  } = params;\n\n  const allowedOrderStatus = [OrderStatus.PAID, OrderStatus.OPEN_CHECK];\n  assert(allowedOrderStatus.includes(orderStatus));\n\n  const { cart, merchantConfig, orderType, tip, pickupTime, coupon, tableQrCodeObject, openCheckOrder, cartType, orderPickupType } = appContext;\n  // NOTE: Temporary, to maintain compatilibity between Redux and Context until fully migrate to Redux.\n\n  const isDineinOrderType = orderType === OrderType.DINEIN\n  const isOpenCheckOrder = orderStatus === OrderStatus.OPEN_CHECK\n  // if Active order is set to OPEN_CHECK mode and application is in Dine In Mode then update the Order\n  const isUpdatingOpenCheck = isDineinOrderType && openCheckOrder?.id && openCheckOrder.status === OrderStatus.OPEN_CHECK\n\n  const orderingConfig = merchantConfig?.merchant.orderingConfig;\n  const currency = \"USD\";\n\n  // sort line items based on Categories\n  const sortedCartItems: CartItemType[] = pipe(\n    map((item: CartItemType) => {\n      const categoryItem: MerchandiseCategory | undefined = find(\n        propEq('id', item.categoryId),\n        pathOr([], ['mercCategories'], merchantConfig)\n      );\n\n      return { ...item, categoryOrder: categoryItem?.displayOrder ?? -1 };\n    }),\n    sort(ascend(prop('categoryOrder')))\n  )(cart);\n\n  const orderLineItems = sortedCartItems.map((item) => {\n    return {\n      id: item.id,\n      name: item.name,\n      price: item.price,\n      quantity: item.quantity,\n      note: item.note,\n      categoryId: item.categoryId,\n      customization: item.modifiers || {},\n      customizationDisplayOrder: item.modifiersDisplayOrder,\n      customizationSignature: item.modifiersSignature,\n      refunded: false,\n      remainInventory: undefined,\n      quantityRedeemed: item.quantityRedeemed || 0,\n      pointsRedeemed: (item.quantityRedeemed || 0) > 0 ? getRequiredRedemptionPoints(item, merchantConfig?.merchant) : 0,\n    } as LineItem\n  })\n\n  const getPointsRedeemInfo = () => {\n    return {\n      pointsRedeemed: Math.round(orderLineItems.reduce((acc, item) => acc + (item?.pointsRedeemed ?? 0) * (item.quantityRedeemed || 0), 0)),\n      amountRedeemed: getItemsRedeemAmount(cart),\n    }\n  }\n\n  const getCouponRedemptionInfo = () => {\n    if (!coupon || !isCouponValid(coupon)) {\n      return null;\n    }\n\n    return {\n      couponId: coupon.id,\n      couponCode: coupon.code,\n      amountRedeemed: getCartDiscountedAmount(cart, coupon),\n    };\n  }\n\n  const getOrderAmountSummary = () => {\n    const totalAmount = getTotalPrice({ cart, tip, coupon, orderingConfig })\n    const taxAmount = getTotalTax(cart, coupon, orderingConfig)\n    const tipAmount = getTotalTip(cart, tip)\n    return isOpenCheckOrder ? {\n      amount: 0,\n      tax: 0,\n      tip: 0,\n    } : {\n      amount: totalAmount,\n      tax: taxAmount,\n      tip: tipAmount,\n    }\n  }\n\n  const getOrderData = (paymentId: string | null, name?: string): Partial<Order> => {\n\n    if (isUpdatingOpenCheck) {\n      return {\n        ...((openCheckOrder) && {\n          id: openCheckOrder.id\n        }),\n        userDisplayName: name || user?.displayName || '',\n        currency: currency,\n        paymentId: paymentId,\n        lineItems: isCartFromAnOpenTabOrder(cartType) ? [] : orderLineItems,\n        status: orderStatus,\n        tableId: tableQrCodeObject?.id,\n        pointsRedemptionInfo: getPointsRedeemInfo(),\n        couponRedemptionInfo: getCouponRedemptionInfo(),\n        ...(getOrderAmountSummary()),\n      } as Partial<Order>;\n    }\n    return {\n      ...((openCheckOrder) && {\n        id: openCheckOrder.id\n      }),\n      userId: user?.id,\n      userDisplayName: name || user?.displayName || '',\n      merchantId: merchantConfig?.merchant?.id || '',\n      description: '',\n      currency: currency,\n      paymentId: paymentId,\n      lineItems: isCartFromAnOpenTabOrder(cartType) ? [] : orderLineItems,\n      status: orderStatus,\n      type: orderType,\n      tableId: tableQrCodeObject?.id,\n      readyTime: null,\n      toPickupTime: pickupTime || new Date(),\n      pointsRedemptionInfo: getPointsRedeemInfo(),\n      couponRedemptionInfo: getCouponRedemptionInfo(),\n      ...(merchantConfig?.merchant.orderingConfig?.enabledEatHere && !isDineinOrderType && {\n        pickupType: orderPickupType,\n      }),\n      sourceInfo: {\n        device: config.appConfig.deviceType,\n        app: config.appConfig.appType,\n      },\n      ...(getOrderAmountSummary()),\n    } as Partial<Order>;\n  }\n\n  if (isUpdatingOpenCheck) {\n    return axios({\n      url: `/orders/openCheck/${openCheckOrder?.id}`,\n      method: 'PUT',\n      data: getOrderData(paymentIntentId ?? null, name),\n      ...(token && {\n        headers: getAuthHeaders(token)\n      })\n    })\n  } else {\n    return axios({\n      url: '/orders',\n      method: 'POST',\n      data: getOrderData(paymentIntentId ?? null, name),\n      params: {\n        phoneNumber: phone\n      },\n      ...(token && {\n        headers: getAuthHeaders(token)\n      })\n    })\n  }\n}\n\nexport default createOrderService","import React, { useContext, useMemo, useState } from \"react\"\nimport {\n  CardContent, MenuItem, Button, makeStyles, Theme, createStyles, Alert, Typography,\n  Divider, Paper, TextField, InputAdornment\n} from \"@material-ui/core\"\nimport { format } from \"date-fns\"\nimport { all, any, lensPath, over, pathOr } from \"ramda\";\n\nimport BottomDrawer from \"../../bos_common/src/components/BottomDrawer\"\nimport { Merchant, SpecialHours } from \"../../services/models\";\nimport { getMinutesOffset, isEmptyOrNil, isStoreOpen } from \"../../utils\";\nimport { DAYS_OF_WEEK } from \"../../bos_common/src\";\nimport { If } from \"react-if\";\nimport { VisitedMerchantContext } from \"../../context/VisitedMerchantContext/VisitedMerchantContext\";\nimport { DateRange, Schedule } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      paddingTop: theme.spacing(2),\n\n      '& .scheduleForm': {\n        display: 'flex',\n        flexDirection: \"column\",\n        width: '100%',\n        maxWidth: 450,\n        minWidth: 60,\n        margin: '0 auto',\n\n        '& .MuiFormControl-root': {\n          marginBottom: theme.spacing(2),\n        }\n      },\n      '& .scheduleButton': {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n      }\n    },\n  }),\n);\n\nconst formatMinutes = (m: number) => (\"0\" + m).slice(-2)\n\nconst findSpecialDays = (d: Date, merchantSpecialHours: SpecialHours[]): SpecialHours[] | undefined => {\n  const dayOfWeek = DAYS_OF_WEEK[d.getDay()];\n  const specialTime: SpecialHours[] | undefined = merchantSpecialHours.filter(({ dayOfWeek: d }: SpecialHours) => d === dayOfWeek);\n  return specialTime;\n}\n\nconst DATE_FORMAT = 'EEE, MMM d'\n\ntype ScheduleOrderDrawerProps = {\n  defaultValue?: Date,\n  merchant: Merchant | undefined,\n  open: boolean,\n  setOpen: (open: boolean) => void,\n  onSchedule: (d: Date) => void,\n  onClose: () => void,\n}\n\nconst ScheduleOrderDrawer = (props: ScheduleOrderDrawerProps): React.ReactElement => {\n  const classes = useStyles()\n\n  const { defaultValue, merchant } = props;\n  const now = new Date()\n  const currentMinsOffset = getMinutesOffset(now)\n\n  const todayTS = new Date(now).setHours(0, 0, 0, 0);\n\n  const defaultDate = new Date(defaultValue || now);\n  const [pickupDateTS, setDate] = useState<number>(new Date(defaultDate).setHours(0, 0, 0, 0));\n  const [pickupMinuteOffset, setMinuteOffset] = useState<number>(getMinutesOffset(defaultDate))\n  const [errorMsg, setErrorMsg] = useState<string>(\"\")\n  const { isMerchantOrderingAvailable } = useContext(VisitedMerchantContext)\n\n  const merchantSpecialHours = pathOr([], ['hours', 'customizations'], merchant)\n\n  const getPickUpTimeOptions = () => {\n    let timeOptions: [string, number][] = []\n    const AMPM: string[] = ['AM', 'PM']\n    const gap = 20\n    let offset = 0\n    AMPM.map((val: string) => {\n      for (let i = 0; i < 12; i++) {\n        const hour = (i === 0) ? 12 : i\n        let j\n        for (j = 0; j < 60 - gap; j += gap) {\n          if (!isTimeItemDisabled(offset))\n            timeOptions.push([`${hour}:${formatMinutes(j)} - ${hour}:${j + 20} ${val}`, offset])\n          offset += gap\n        }\n        if (!isTimeItemDisabled(offset))\n          timeOptions.push([`${hour}:${formatMinutes(j)} - ${i + 1}:00 ${i === 11 ? val === 'AM' ? 'PM' : 'AM' : val}`, offset])\n        offset += gap\n      }\n    })\n    if (timeOptions.length === 0) {\n      timeOptions.push(['No time slot available', 0])\n    } else {\n      timeOptions = over(lensPath([0, 0]), (x: string) => `ASAP (${x})`, timeOptions)\n    }\n\n    return timeOptions\n  }\n\n  const isOpenOnDay = (d: Date) => {\n    const specialDays = findSpecialDays(d, merchantSpecialHours)\n    if (!specialDays) return true\n\n    const isOpen = (specialDay: SpecialHours) => !(specialDay.toMinOffset === 0 || specialDay.fromMinOffset === 0)\n    return all(isOpen, specialDays)\n  }\n\n  // Only support the same day order ahead right now\n  const getPickupDateOptions = () => {\n    const dateOptions: [string, Date, boolean][] = []\n    const d = new Date(todayTS);\n    const numDaysToOrderAhead = merchant?.orderingConfig?.numDaysToOrderAhead || 0;\n\n    const getDateLabel = (index: number, label: string) => {\n      if (index > 1) return label\n      return index === 0 ? 'Today' : 'Tomorrow'\n    }\n\n    for (let i = 0; i < 1 + numDaysToOrderAhead; i++) {\n      dateOptions.push([getDateLabel(i, format(d, DATE_FORMAT)), new Date(d), isOpenOnDay(d)])\n      d.setDate(d.getDate() + 1)\n    }\n    return dateOptions\n  }\n\n  const isTimeSelectionInvalid = (timeValue: number): boolean => {\n    // if merchant hours or if default to and min time are null then do not disable the time\n    const defaultFromMinOffset = pathOr(null, [\"merchant\", \"hours\", \"defaultFromMinOffset\"], props)\n    const defaultToMinOffset = pathOr(null, [\"merchant\", \"hours\", \"defaultToMinOffset\"], props)\n    const pickupStartsAtOffset = pathOr(0, [\"merchant\", \"orderingConfig\", \"pickupStartsAtOffset\"], props)\n    const pickupEndsAtOffset = pathOr(0, [\"merchant\", \"orderingConfig\", \"pickupEndsAtOffset\"], props)\n    if (!props.merchant?.hours || isEmptyOrNil(defaultFromMinOffset) || isEmptyOrNil(defaultToMinOffset)) return false\n\n    // timeValue should lie between the defaultFromMinOffset and defaultToMinOffset\n    const isInvalidTimeValue = timeValue < (defaultFromMinOffset + pickupStartsAtOffset) || timeValue >= (defaultToMinOffset - pickupEndsAtOffset)\n\n    return isInvalidTimeValue\n  }\n\n  const isTimeSelectionInvalidForSpecialHours = (specialDays: SpecialHours[] = [], timeValue: number) => {\n    // timeValue should lie between the toMinOffset and fromMinOffset\n    const isValidTimeValue = (specialDay: SpecialHours) => {\n      const { toMinOffset, fromMinOffset } = specialDay\n      return fromMinOffset <= timeValue && toMinOffset >= timeValue\n    }\n    return !any(isValidTimeValue, specialDays)\n  }\n\n  const isTimeItemDisabled = (timeValue: number) => {\n    const specialDays = findSpecialDays(new Date(pickupDateTS), merchantSpecialHours)\n    if (pickupDateTS === todayTS) {\n      const invalidCheck = !isEmptyOrNil(specialDays)\n        ? isTimeSelectionInvalidForSpecialHours(specialDays, timeValue)\n        : isTimeSelectionInvalid(timeValue)\n      return (timeValue < currentMinsOffset) || invalidCheck\n    }\n\n    return !isEmptyOrNil(specialDays)\n      ? isTimeSelectionInvalidForSpecialHours(specialDays, timeValue)\n      : isTimeSelectionInvalid(timeValue)\n  }\n\n  const handleTimeChange = (event: any) => {\n    setMinuteOffset(event.target.value);\n    setErrorMsg(\"\")\n  };\n\n  const handleDateChange = (event: React.ChangeEvent<{ value: string }>) => {\n    setDate(Number(event.target.value));\n    setErrorMsg(\"\")\n  };\n\n  const onClickSchedule = () => {\n    if (isTimeItemDisabled(pickupMinuteOffset)) {\n      setErrorMsg(\"Please choose a valid pick up time\")\n    } else {\n      const pickupFinalDateTime = new Date(pickupDateTS + pickupMinuteOffset * 60 * 1000)\n      props.onSchedule(pickupFinalDateTime)\n      props.setOpen(false)\n      setErrorMsg(\"\")\n    }\n  }\n\n  const pickupDateOptions = useMemo(() => getPickupDateOptions(), []);\n  const pickupTimeOptions = useMemo(() => getPickUpTimeOptions(), [pickupDateTS]);\n\n  return (\n    <BottomDrawer\n      {...props}\n      title={''}\n      onClose={props.onClose}\n    >\n      <Paper className={classes.root}>\n        <Typography variant=\"h6\" align=\"center\" >Schedule Pickup Time</Typography>\n        <Divider sx={{ my: 1 }} />\n        <CardContent>\n          <form className='scheduleForm'>\n            <TextField\n              id=\"pick-date\"\n              select\n              label=\"Date\"\n              value={`${pickupDateTS}`}\n              onChange={handleDateChange}\n              variant=\"outlined\"\n              fullWidth\n              InputProps={{\n                startAdornment: <InputAdornment position=\"start\"><DateRange color=\"primary\" /></InputAdornment>,\n              }}\n            >\n              {pickupDateOptions.map((val: [string, Date, boolean]) => {\n                return (\n                  <MenuItem key={val[0]} value={val[1].getTime()} disabled={!(val[2])}>\n                    {val[0]}\n                  </MenuItem>\n                )\n              })}\n            </TextField>\n            <TextField\n              id=\"pick-time\"\n              select\n              label=\"Time\"\n              value={pickupMinuteOffset}\n              onChange={handleTimeChange}\n              variant=\"outlined\"\n              fullWidth\n              error={isTimeItemDisabled(pickupMinuteOffset)}\n              InputProps={{\n                startAdornment: <InputAdornment position=\"start\"><Schedule color=\"primary\" /></InputAdornment>,\n              }}\n              SelectProps={{\n                displayEmpty: true\n              }}\n            >\n              {pickupTimeOptions.map((val: [string, number]) => {\n                return <MenuItem key={val[1]} value={val[1]}>\n                  {val[0]}\n                </MenuItem>\n              })}\n            </TextField>\n            <If condition={isMerchantOrderingAvailable && !isStoreOpen(merchant, new Date())}>\n              <Typography variant=\"subtitle2\" color=\"GrayText\" textAlign=\"center\">\n                {merchant?.officialName} is closed now. To place an order, you need to select a time for pick-up in the future.\n              </Typography>\n            </If>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={onClickSchedule}\n              fullWidth\n              className='scheduleButton'>\n              Confirm\n            </Button>\n            {errorMsg && <Alert severity=\"warning\">{errorMsg}</Alert>}\n          </form>\n        </CardContent>\n      </Paper>\n    </BottomDrawer>\n  )\n}\n\nexport default ScheduleOrderDrawer","import React from 'react';\nimport { createStyles, Typography, TypographyProps } from '@material-ui/core';\nimport { Place } from '@material-ui/icons';\n\nimport { Merchant } from '../../services/models';\nimport { makeStyles } from '@material-ui/core';\nimport { Theme } from 'pretty-format/build/types';\nimport { isKioskDevice } from '../../utils';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      lineHeight: '1.2 !important',\n      marginTop: '2px',\n\n      '& .place-icon': {\n        marginRight: '5px',\n        marginTop: '-2px',\n      },\n    },\n  })\n)\n\n\ntype MerchantAddressProps = {\n  merchant?: Merchant,\n  typographyProps?: TypographyProps<\"div\">,\n  showIcon?: boolean,\n}\n\nconst MerchantAddress = ({ merchant, typographyProps = {}, showIcon = true }: MerchantAddressProps): React.ReactElement | null => {\n  const classes = useStyles()\n  const isKioskModeEnabled = isKioskDevice()\n\n  if (!merchant || isKioskModeEnabled) return null;\n\n  return (\n    <Typography\n      variant=\"subtitle1\"\n      color=\"textPrimary\"\n      component=\"div\"\n      className={classes.root}\n      {...typographyProps}>\n      {showIcon && <Place color=\"primary\" className=\"place-icon\" />}{merchant.address}\n    </Typography>\n  )\n}\n\nexport default MerchantAddress","import React, { useState, useContext } from \"react\";\nimport { Box, CardActionArea, createStyles, IconButton, makeStyles, Stack, Theme, Typography } from \"@material-ui/core\";\nimport { Schedule, ChevronRight, EventAvailable } from \"@material-ui/icons\";\nimport { Else, If, Then } from \"react-if\";\nimport classNames from \"classnames\";\n\nimport { Merchant, OrderType } from \"../../services/models\";\nimport { displayTime, isEmptyOrNil, isKioskDevice, isStoreOpen } from '../../utils';\nimport { AppContext } from \"../../context/AppContext\";\nimport RenderWaitTime from \"../common/WaitTime\";\n\nimport ScheduleOrderDrawer from \"./ScheduleOrderDrawer\";\nimport MerchantAddress from \"../MerchantInfo/MerchantAddress\";\n\ntype PickupOptionsProps = {\n  merchant: Merchant,\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n\n      '&.needPickupTime': {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n\n        '& .merchantAddressText': {\n          color: 'rgba(255, 255, 255, 0.8)'\n        }\n      },\n\n      '& .iconWrapper': {\n        backgroundColor: theme.palette.primary.main,\n        borderRadius: 20,\n        width: 40,\n        height: 40,\n        color: \"white\",\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n    },\n    kioskOptionsContainer: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginBottom: theme.spacing(1),\n      '& > div': {\n        marginLeft: theme.spacing(1)\n      }\n    },\n  }),\n);\n\nconst RenderKioskModeOption = ({ merchant }: Omit<PickupOptionsProps, 'isKioskMode'>): React.ReactElement => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.kioskOptionsContainer}>\n      <Schedule color=\"primary\" />\n      {merchant &&\n        <RenderWaitTime merchant={merchant} withIcon={false} />\n      }\n    </div>\n  )\n}\n\nconst RenderNoScheduleOptions = ({ merchant }: Omit<PickupOptionsProps, 'isKioskMode'>): React.ReactElement | null => {\n  const classes = useStyles();\n\n  if (!merchant) return null\n\n  return (\n    <div className={classes.root}>\n      <Stack direction={'row'} alignItems=\"center\" spacing={2}>\n        <div className=\"iconWrapper\"><Schedule /></div>\n        <Box>\n          <RenderWaitTime\n            merchant={merchant}\n            withIcon={false}\n            typographyProps={{\n              variant: \"subtitle1\",\n            }}\n          />\n          <div className=\"merchantAddressText\">\n            <MerchantAddress merchant={merchant} showIcon={false} typographyProps={{ variant: \"caption\", color: 'GrayText' }} />\n          </div>\n        </Box>\n      </Stack>\n    </div>\n  )\n}\n\nconst RenderStandardPickupOptions = ({ merchant }: Omit<PickupOptionsProps, 'isKioskMode'>): React.ReactElement => {\n  const classes = useStyles();\n  const { pickupTime, setPickupTime } = useContext(AppContext)\n  const isValidPickupTime = isStoreOpen(merchant, pickupTime ? new Date(pickupTime) : new Date())\n  const [isOpen, setIsOpen] = useState(false)\n\n\n  const onChangeDate = (d: Date) => {\n    setPickupTime(d || undefined)\n  }\n\n  const Icon = isValidPickupTime ? <EventAvailable /> : <Schedule />\n  const pickupTimeLabel = pickupTime ? displayTime(pickupTime) : \"\"\n  const pickupTimeString = isValidPickupTime\n    ? `Pick up ${isEmptyOrNil(pickupTime) ? 'ASAP' : `at ${pickupTimeLabel}`}`\n    : 'Schedule Your Pickup'\n\n  const rootClasses = classNames([classes.root], {\n    ['needPickupTime']: !isValidPickupTime\n  })\n\n  return (\n    <div className={rootClasses}>\n      <CardActionArea onClick={() => setIsOpen(true)}>\n        <Stack direction={'row'} alignItems=\"center\" spacing={2}>\n          <div className=\"iconWrapper\">{Icon}</div>\n          <Box>\n            <Typography variant=\"subtitle1\" component=\"div\" color={isValidPickupTime ? \"default\" : \"white\"}>\n              {pickupTimeString}\n            </Typography>\n            <div className=\"merchantAddressText\">\n              <MerchantAddress merchant={merchant} showIcon={false} typographyProps={{ variant: \"caption\", color: isValidPickupTime ? 'GrayText' : 'inherit' }} />\n            </div>\n          </Box>\n        </Stack>\n      </CardActionArea>\n      <div>\n        <IconButton onClick={() => setIsOpen(true)} color={isValidPickupTime ? \"primary\" : \"inherit\"}>\n          <ChevronRight />\n        </IconButton>\n\n        <ScheduleOrderDrawer\n          merchant={merchant}\n          defaultValue={pickupTime}\n          open={isOpen}\n          setOpen={setIsOpen}\n          onSchedule={onChangeDate}\n          onClose={() => setIsOpen(false)}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst PickupOptions = ({ merchant }: PickupOptionsProps): React.ReactElement => {\n  const isKioskModeEnabled = isKioskDevice()\n  const { orderType } = useContext(AppContext)\n\n  return isKioskModeEnabled || orderType === OrderType.DINEIN\n    ? <RenderKioskModeOption merchant={merchant} />\n    :\n    <If condition={merchant.orderingConfig?.orderAhead}>\n      <Then><RenderStandardPickupOptions merchant={merchant} /></Then>\n      <Else>\n        <RenderNoScheduleOptions merchant={merchant} />\n      </Else>\n    </If>\n}\n\nexport default PickupOptions","import * as React from \"react\";\nimport { Alert, AppBar, createStyles, Grow, makeStyles, Theme, Toolbar, Typography } from \"@material-ui/core\";\nimport { If } from 'react-if';\n\n// src\nimport { MenuDrawer } from \"../common/MenuDrawer\";\nimport { Merchant, OrderType } from \"../../services/models\";\nimport PickupOptions from \"../PickupDetails/PickupOptions\";\nimport { isKioskDevice } from \"../../utils\";\nimport MerchantAddress from \"../MerchantInfo/MerchantAddress\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .toolbar': {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: 0,\n      },\n      '& .title-container': {\n        display: \"flex\",\n        flexDirection: 'row',\n        justifyContent: \"space-between\",\n        alignItems: 'center',\n        width: '100%',\n        '& .title': {\n          display: \"block\",\n          textAlign: \"center\",\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          color: theme.palette.primary.main,\n          fontWeight: \"bold\"\n        },\n        '& .leftTitle': {\n          display: \"block\",\n          textAlign: \"left\",\n          paddingLeft: theme.spacing(2),\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n        },\n        '& .right': {\n          visibility: 'visible',\n          '&.hide': {\n            visibility: 'hidden'\n          }\n        },\n      },\n      '& .pickup-info-container': {\n        width: '100%',\n        minHeight: '40px',\n      },\n    },\n  }),\n);\n\ntype ShoppingHeaderProps = {\n  title: string | React.ReactNode,\n  orderType: OrderType,\n  leftChild?: React.ReactNode,\n  merchant?: Merchant,\n  errorMessage?: string,\n}\nconst ShoppingCartHeader = ({ title, orderType, leftChild, merchant, errorMessage }: ShoppingHeaderProps): React.ReactElement => {\n  const classes = useStyles()\n  const isKioskModeEnabled = isKioskDevice()\n\n  return (\n    <AppBar color={'inherit'} elevation={3} position={\"sticky\"} className={classes.root}>\n      <Toolbar className='toolbar' disableGutters={true}>\n        <div className=\"title-container\">\n          <If condition={Boolean(leftChild)}>\n            <div className=\"left\">\n              {leftChild}\n            </div>\n          </If>\n          <Typography\n            variant={isKioskModeEnabled ? \"h5\" : \"h6\"}\n            component=\"div\" sx={{ flexGrow: 1 }}\n            className={leftChild ? \"title\" : \"leftTitle\"}\n          >\n            {title}\n          </Typography>\n          <If condition={!isKioskModeEnabled}>\n            <div className=\"right\">\n              <MenuDrawer />\n            </div>\n          </If>\n        </div>\n        {\n          merchant && (orderType === OrderType.PICKUP) &&\n          (\n            <Grow in={!!merchant}>\n              <div className=\"pickup-info-container\">\n                <PickupOptions merchant={merchant} />\n              </div>\n            </Grow>\n          )\n        }\n      </Toolbar>\n      <If condition={!!errorMessage}>\n        <Alert severity=\"warning\" className=\"error-alert\">{errorMessage}</Alert>\n      </If>\n    </AppBar>\n  );\n}\n\nexport default ShoppingCartHeader;","import React from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { NavigateBefore } from \"@material-ui/icons\";\nimport { useHistory, useLocation } from \"react-router\";\n\nexport default function BackButton(props: {\n  onBack?: () => void,\n}): React.ReactElement {\n  const history = useHistory();\n  const location = useLocation<{ from: { pathname: string } }>();\n\n  const onBack = props.onBack ? props.onBack : () => {\n    location.state?.from ? history.push(location.state?.from) : history.goBack();\n  }\n\n  return (\n    <IconButton color=\"primary\" onClick={onBack} >\n      <NavigateBefore fontSize=\"large\" />\n    </IconButton>\n  )\n}","import React, { useContext, useEffect, useState, useMemo } from \"react\";\nimport {\n  createStyles,\n  makeStyles,\n  TextField,\n  Theme,\n  ToggleButton,\n  ToggleButtonGroup,\n  Typography,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport debounce from \"debounce\";\n\n// src\nimport renderPrice from \"../../bos_common/src/components/Price\";\nimport { AppContext, TipData } from \"../../context/AppContext\";\nimport {\n  getMerchantTipRatesConfig,\n  getSubtotalPrice,\n} from \"../../services/cartUtils\";\nimport { rgba } from \"polished\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n\n      '& .MuiToggleButtonGroup-root': {\n        display: 'flex',\n        justifyContent: 'space-between',\n        maxWidth: 375,\n      },\n      \"& .gratuityItem\": {\n        padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\n        borderRadius: \"8px !important\",\n        borderColor: theme.palette.info.light,\n        background: rgba(theme.palette.info.light, 0.15),\n        borderLeft: `1px solid ${theme.palette.info.light} !important`,\n        color: theme.palette.info.light,\n        fontSize: 14,\n        fontWeight: 600,\n\n        \"&.Mui-selected\": {\n          borderColor: theme.palette.primary.main,\n          background: rgba(theme.palette.primary.main, 0.15),\n          borderLeft: `1px solid ${theme.palette.primary.main} !important`,\n\n          \"& .MuiToggleButton-label\": {\n            color: theme.palette.primary.main\n          }\n        },\n\n        \"& .customTip\": {\n          \"& .MuiOutlinedInput-notchedOutline\": {\n            borderColor: \"transparent\"\n          }\n        },\n      },\n\n      \"& .MuiToggleButton-root\": {\n        paddingTop: 4,\n        paddingBottom: 4,\n      },\n      \"& .MuiInputLabel-root\": {\n        fontSize: \"small\",\n        textTransform: \"none\",\n        lineHeight: \"1.75em\",\n      },\n      \"& .customButton\": {\n        paddingLeft: theme.spacing(0.5),\n        paddingRight: theme.spacing(0.5),\n        \"& .MuiInputBase-root\": {\n          paddingLeft: theme.spacing(1),\n          fontSize: \"14px\",\n          fontWeight: \"bold\",\n        },\n        \"& .MuiInputAdornment-root\": {\n          marginRight: 0,\n        },\n      },\n      \"& .tipAmount\": {\n        fontSize: 12,\n      },\n      '& .MuiTypography-root': {\n        color: theme.palette.info.light,\n      },\n      \"& .Mui-selected\": {\n        \"& .MuiInputBase-input\": {\n          color: theme.palette.primary.main,\n        },\n        '& .MuiTypography-root': {\n          color: theme.palette.primary.main,\n        },\n        \"& .MuiInputLabel-root\": {\n          color: theme.palette.primary.main,\n        },\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: theme.palette.secondary.main,\n        },\n      },\n      \"& .MuiToggleButton-label\": {\n        display: \"inline-block\",\n        lineHeight: \"20px\",\n      },\n      \"& .MuiInputBase-input\": {\n        textAlign: \"center\",\n        minWidth: 55,\n        maxWidth: 80,\n\n        \"-moz-appearance\": \"textfield\",\n        \"&::-webkit-inner-spin-button\": {\n          WebkitAppearance: \"none\",\n          margin: 0,\n        },\n        \"&::-webkit-outer-spin-button\": {\n          WebkitAppearance: \"none\",\n          margin: 0,\n        },\n      },\n    },\n  })\n);\n\ntype TipOptionDisplay = {\n  tipPercent: number;\n  percentDisplay: string;\n  priceDisplay: string;\n};\n\nexport default function TipOptions(): React.ReactElement {\n  const classes = useStyles();\n  const { tip, setTip, cart, merchantConfig } = useContext(AppContext);\n  const subTotal = getSubtotalPrice(cart);\n\n  const merchantTipOptions: TipData[] =\n    getMerchantTipRatesConfig(merchantConfig);\n\n  const tipOptionDisplay: TipOptionDisplay[] = [];\n  merchantTipOptions.forEach((tipOption: TipData) => {\n    if (tipOption.tipRate) {\n      tipOptionDisplay.push({\n        tipPercent: tipOption.tipRate,\n        priceDisplay: renderPrice(subTotal * tipOption.tipRate),\n        percentDisplay: `${(tipOption.tipRate * 100).toFixed(0)}%`,\n      } as TipOptionDisplay);\n    }\n  });\n\n  useEffect(() => {\n    if (tip.tipRate === undefined && tip.customTip === undefined) {\n      setTip(merchantTipOptions[0]);\n    }\n  }, []);\n\n  const currentOption =\n    tip.tipRate || tip.customTip\n      ? merchantTipOptions.find((option) => option.tipRate === tip.tipRate)\n        ? tip.tipRate\n        : \"custom\"\n      : merchantTipOptions[0].tipRate;\n\n  const [option, setOption] = useState(currentOption);\n  const [customTip, setCustomTip] = useState<string>(\n    tip.customTip ? String(tip.customTip) : \"\"\n  );\n  const [isCustomTipSelected, setCustomTipSelected] = useState(false);\n  const debouncedHandler = useMemo(() => debounce(setTip, 500), []);\n\n  const onTipRateChange = (\n    event: React.MouseEvent<HTMLElement>,\n    newOption: string | number | null\n  ) => {\n    if (newOption !== null) {\n      setOption(newOption);\n\n      if (merchantTipOptions.find((option) => newOption === option.tipRate)) {\n        const newTip: TipData = {\n          tipRate: Number(newOption),\n        };\n        setTip(newTip);\n        setCustomTip(\"\");\n      }\n    }\n  };\n\n  const onCustomTipChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newCustomTip = Number(event.target.value);\n    const newVal = newCustomTip < 0 ? \"0\" : event.target.value;\n    setCustomTip(newVal);\n\n    const newTip: TipData = { customTip: Number(newVal) };\n    debouncedHandler(newTip);\n  };\n\n  return (\n    <div className={classes.root} id=\"shopping-cart-tips\">\n      <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n        Gratuity\n      </Typography>\n\n      <ToggleButtonGroup\n        color=\"primary\"\n        value={option}\n        exclusive\n        onChange={onTipRateChange}\n        aria-label=\"Gratuity options\"\n      >\n        {tipOptionDisplay.map((tipOption: TipOptionDisplay) => (\n          <ToggleButton\n            className=\"gratuityItem\"\n            value={tipOption.tipPercent}\n            aria-label={tipOption.percentDisplay}\n            key={tipOption.percentDisplay}\n            onClick={()=>setCustomTipSelected(false)}\n          >\n            {tipOption.priceDisplay}\n            <br />\n            <span className=\"tipAmount\">{tipOption.percentDisplay}</span>\n          </ToggleButton>\n        ))}\n\n        <ToggleButton\n          value=\"custom\"\n          aria-label=\"customize\"\n          className=\"customButton gratuityItem\"\n          selected={isCustomTipSelected}\n          onClick={()=>setCustomTipSelected(true)}\n        >\n          <TextField\n            onClick={()=>setCustomTipSelected(true)}\n            className=\"customTip\"\n            color=\"primary\"\n            label=\"\"\n            type=\"number\"\n            size=\"small\"\n            value={customTip}\n            inputProps={{ min: 0 }}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">$</InputAdornment>\n              ),\n              size: \"small\",\n            }}\n            placeholder=\"Custom\"\n            onChange={onCustomTipChange}\n          />\n        </ToggleButton>\n      </ToggleButtonGroup>\n    </div>\n  );\n}\n","import React from \"react\"\nimport { Typography, makeStyles } from \"@material-ui/core\"\nimport { MerchandiseModifiersType } from \"../../types/MerchandiseType\"\n\nconst useStyles = makeStyles({\n  root: {\n    marginTop: 0,\n    marginBottom: 0,\n    paddingInlineStart: 0,\n    listStyleType: 'none',\n\n    '& li': {\n      '&:before': {\n        content: \"'\\u{2014}'\",\n        marginRight: '5px'\n      }\n    },\n  }\n})\n\ntype MerchandiseModifiersProps = {\n  modifiers?: MerchandiseModifiersType,\n  modifiersDisplayOrder?: Array<string>,\n}\nconst MerchandiseModifiers = ({ modifiers, modifiersDisplayOrder}: MerchandiseModifiersProps) => {\n  const classes = useStyles();\n  if (!modifiers)\n    return null\n\n  const modifierKeys = Object.keys(modifiers);\n  const toDisplayList = (modifiersDisplayOrder?.length === modifierKeys.length) ? modifiersDisplayOrder : modifierKeys;\n\n  return (\n    <Typography variant=\"overline\" color=\"textSecondary\" component=\"div\" style={{ lineHeight: 1.2 }}>\n      <ul className={classes.root}>\n        {toDisplayList.map((name) => <li key={name}>{name}</li>)}\n      </ul>\n    </Typography>\n  )\n}\n\nexport default MerchandiseModifiers","import React from 'react';\nimport { Typography, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    textTransform:\"initial\",\n    \"&:before\": {\n      content: \"'\\u{201C}'\"\n    },\n    \"&:after\": {\n      content: \"'\\u{201D}'\"\n    }\n  }\n})\ntype MerchandiseNotesProps = {\n  note: string\n}\nconst MerchandiseNotes = (props: MerchandiseNotesProps) => {\n  const classes = useStyles();\n\n  return (\n    <Typography variant=\"overline\" color=\"text.secondary\" className={classes.root}>\n      Note: {props.note}\n    </Typography>\n  )\n}\n\nexport default MerchandiseNotes;","import React, { useState } from \"react\";\nimport { createStyles, Fab, IconButton, InputBase, makeStyles, Theme } from \"@material-ui/core\";\nimport { Add, Remove, Delete } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      width: '130px',\n      '& .MuiInputBase-root': {\n        margin: 0,\n      },\n      '& .MuiInputBase-input': {\n        textAlign: 'center',\n        \"-moz-appearance\": \"textfield\",\n        '&::-webkit-inner-spin-button': {\n          WebkitAppearance: 'none',\n          margin: 0,\n        },\n        '&::-webkit-outer-spin-button': {\n          WebkitAppearance: 'none',\n          margin: 0,\n        },\n      },\n    },\n  }),\n);\n\ninterface QuantityInputProps {\n  quantity: number,\n  onQuantityChange: (quantity: number, change: number) => void,\n  minQuantity?: number | null,\n  maxQuantity?: number | null,\n}\n\nexport default function QuantityInput({\n  quantity,\n  minQuantity = 0,\n  maxQuantity,\n  onQuantityChange\n}: QuantityInputProps): React.ReactElement {\n  const classes = useStyles()\n  const [count, setCount] = useState(quantity)\n\n  React.useEffect(() => { \n    setCount(quantity); \n  }, [quantity]);\n\n  const onClick = (increment: number) => {\n    const newCount = Math.max(0, count + increment)\n    setCount(newCount)\n    if (newCount !== count) {\n      onQuantityChange(newCount, newCount - count)\n    }\n  }\n\n  const onChange = (value: number) => {\n    const oldCount = count\n    const newCount = Math.max(value, 0)\n    setCount(newCount)\n    if (newCount != oldCount) {\n      onQuantityChange(newCount, newCount - oldCount)\n    }\n  }\n\n  const minusDisabled = (minQuantity != null && count <= minQuantity)\n  const plusDisabled = (maxQuantity != null && count >= maxQuantity)\n\n  return (\n    <div className={classes.root}>\n      <Fab size=\"small\" color=\"secondary\" aria-label=\"reduce\" disabled={minusDisabled} onClick={() => onClick(-1)} >\n        {(!minQuantity && count == 1) ? (<Delete fontSize=\"small\" />) : (<Remove fontSize=\"small\" />)}\n      </Fab>\n      <InputBase\n        sx={{ ml: 1, flex: 1 }}\n        value={count}\n        type=\"number\"\n        onFocus={(e) => e.target.select()}\n        onChange={(e) => onChange(+e.target.value)}\n        inputProps={{ 'aria-label': 'Input your quantity' }}\n      />\n      <Fab size=\"small\" color=\"secondary\" aria-label=\"add\" disabled={plusDisabled} onClick={() => onClick(1)} >\n        <Add fontSize=\"small\" />\n      </Fab>\n    </div>\n  );\n}","import React, { SetStateAction } from \"react\"\nimport { CartItemType } from \"../AppContext\"\n\nexport interface PointsRedemption {\n  redeemPointsToBeApplied: number,\n  items: CartItemType[],\n  redeemAmount: number,\n}\n\nexport const defaultRedeemPointsInfo: PointsRedemption = {\n  redeemPointsToBeApplied: 0,\n  redeemAmount: 0,\n  items: []\n}\n\nexport interface ShoppingCartContextType {\n  pointsRedeemedInfo: PointsRedemption,\n  appliedRedemption: boolean,\n  soldoutItems: CartItemType[],\n  setPointsRedemptionInfo: (_: PointsRedemption) => void,\n  setApplyRedemption: (_: boolean) => void,\n  clearSoldOutItems: () => void,\n  shoppingBagError: boolean,\n  setShoppingBagError: (_: boolean) => void,\n}\n\nexport const ShoppingCartContext = React.createContext<ShoppingCartContextType>({\n  pointsRedeemedInfo: defaultRedeemPointsInfo,\n  soldoutItems: [],\n  appliedRedemption: false,\n  setPointsRedemptionInfo: (_: SetStateAction<PointsRedemption>) => ({}),\n  setApplyRedemption: (_: SetStateAction<boolean>) => ({}),\n  clearSoldOutItems: () => ({}),\n  shoppingBagError: false,\n  setShoppingBagError: (_: SetStateAction<boolean>) => ({}),\n})\n","import React, { useContext, useMemo } from 'react';\nimport { Theme, createStyles, makeStyles, } from '@material-ui/core/styles';\nimport { Card, CardMedia, Typography, useMediaQuery, Button } from '@material-ui/core';\nimport { pluck, includes } from \"ramda\";\nimport { Else, If, Then } from 'react-if';\n\n// src\nimport MerchandiseModifiers from '../../bos_common/src/components/Merchandise/MerchandiseModifiers';\nimport renderPrice from '../../bos_common/src/components/Price';\nimport MerchandiseNote from '../../bos_common/src/components/Merchandise/MerchandiseNote';\nimport { AppContext, CartItemType } from '../../context/AppContext';\nimport QuantityInput from '../MerchantMenu/QuantityInput';\nimport { isMerchandisePromoted, withFallbackPath } from '../../utils';\nimport { ShoppingCartContext } from '../../context/ShoppingCart/ShoppingCartContext';\nimport { MerchantCoupon } from '../../services/models';\nimport { renderMerchadisePrice } from '../MerchantMenu/MerchandisePrice';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(2),\n      padding: theme.spacing(1),\n      '& .OutOfOrderInfo': {\n        position: 'absolute',\n        left: 0,\n        top: '50%',\n        marginTop: `-${theme.spacing(2)}`,\n        width: '100%',\n        textAlign: \"center\",\n        backgroundColor: theme.palette.grey[100],\n        color: theme.palette.grey[500],\n        zIndex: 10,\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n      }\n    },\n    row1: {\n      display: 'flex',\n      '& .details': {\n        position: 'relative',\n        display: 'flex',\n        flexDirection: 'column',\n        flex: \"1 1 auto\",\n        justifyContent: \"space-evenly\",\n        [theme.breakpoints.up('sm')]: {\n          justifyContent: 'space-between',\n        },\n      },\n      '& .MuiButtonBase-root': {\n        display: 'flex',\n        justifyContent: 'center',\n      },\n\n      '& .cover': {\n        width: 100,\n        height: 100,\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.up('sm')]: {\n          width: 150,\n          height: 150,\n        },\n      }\n    },\n    row2: {\n      display: 'flex',\n      alignItems: 'baseline',\n      justifyContent: 'space-between',\n      marginTop: theme.spacing(1),\n      '& .quantityDisabled': {\n        padding: theme.spacing(.5),\n      },\n    },\n\n  }),\n);\n\nexport default function CartItemCard(props: {\n  item: CartItemType,\n  coupon?: MerchantCoupon,\n  readOnly?: boolean\n}): React.ReactElement {\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'))\n  const { merchantConfig, addItemToCart, removeItemFromCart, featureFlags } = useContext(AppContext)\n  const { soldoutItems } = useContext(ShoppingCartContext)\n\n  const classes = useStyles();\n  const { item, coupon, readOnly = false } = props;\n\n  const currentInventory = item?.inventory?.dailyCurrentStock\n\n  const isItemOutOfStock = useMemo(() => {\n    return includes(item.id, pluck('id', soldoutItems))\n  }, [soldoutItems, item])\n\n  const RenderItemQtyAndPrice = () => {\n    const onChangeQuantity = (newQuantity: number, change: number) => {\n      if (change > 0) {\n        const newItem = { ...props.item };\n        newItem.quantity = change;\n\n        addItemToCart(newItem, merchantConfig?.merchant);\n      } else if (change < 0) {\n        for (let i = change; i < 0; i++) {\n          removeItemFromCart({ merchandiseId: item.id, modifiersSignature: item.modifiersSignature });\n        }\n      }\n    }\n    return (\n      <div className={classes.row2}>\n        <If condition={readOnly}>\n          <Then>\n            <Button variant=\"outlined\" disabled className=\"quantityDisabled\">\n              {item.quantity}\n            </Button>\n          </Then>\n          <Else>\n            <QuantityInput\n              quantity={item.quantity}\n              minQuantity={0}\n              maxQuantity={currentInventory}\n              onQuantityChange={onChangeQuantity} />\n          </Else>\n        </If>\n        <Typography variant=\"body2\" component=\"div\">\n          <If condition={(coupon) && isMerchandisePromoted(item, undefined, coupon)}>\n            <Then>{() =>\n              <>\n                <Typography variant='caption' style={{ textDecoration: 'line-through', marginRight: '.5rem' }}>{renderPrice(item.price  * item.quantity)}</Typography>\n                {renderMerchadisePrice(item, coupon, item.quantity)}\n              </>}\n            </Then>\n            <Else>\n              {renderPrice(item.price  * item.quantity)}\n            </Else>\n          </If>\n        </Typography>\n      </div>\n    )\n  }\n\n  const photo = item.photos && item.photos.length > 0 && item.photos[0] != null\n    ? item.photos[0]\n    : null;\n\n  const CardMediaEnhanced: any = useMemo(() => withFallbackPath(CardMedia, photo), [photo]);\n\n  return (\n    <Card className={classes.root} elevation={3}>\n      <If condition={!readOnly && isItemOutOfStock}>\n        <Typography component=\"div\" variant=\"subtitle1\" className=\"OutOfOrderInfo\">\n          This item is currently out of stock\n        </Typography>\n      </If>\n      <div className={classes.row1}>\n        {photo && (\n          <CardMediaEnhanced\n            component=\"img\"\n            className=\"cover\"\n            src={`${photo}_small`}\n            title={item.name}\n            alt='cart-item-img'\n          />\n        )}\n        <div className=\"details\">\n          <div>\n            <Typography component=\"div\" variant=\"subtitle1\" style={{ lineHeight: 1.2, marginBottom: '4px' }}>\n              {item.name}\n            </Typography>\n            <MerchandiseModifiers modifiers={item.modifiers} modifiersDisplayOrder={item.modifiersDisplayOrder} />\n            {/* when there is a note, we will show it */}\n            {item.note && <MerchandiseNote note={item.note} />}\n          </div>\n          <If condition={!isMobile}>\n            <RenderItemQtyAndPrice />\n          </If>\n        </div>\n      </div>\n      {/* render the Qty and Price below the first row on mobile */}\n      <If condition={isMobile}>\n        <RenderItemQtyAndPrice />\n      </If>\n    </Card>\n  );\n}","import React from \"react\";\nimport { AppContext, CartItemType, CartType } from \"../../context/AppContext\";\nimport CartItemCard from \"./CartItemCard\";\n\ntype CartItemsProps = {\n  cartItems?: CartItemType[]\n}\n\nexport default function CartItems(props: CartItemsProps): React.ReactElement {\n  const { cartItems } = props\n  const { cart, cartType, coupon } = React.useContext(AppContext)\n  const cartList = cartItems || cart\n  const readOnly = cartType === CartType.FROM_OPEN_CHECK;\n\n  // It only renders products that are visible to customers, this allow us to hide the bags from the cart\n  return (\n    <div className='cart-items-container'>\n      {cartList.map((item: CartItemType) => {\n        return (\n          item.visible && (\n            <CartItemCard\n              item={item}\n              key={item.id + item.modifiersSignature}\n              readOnly={readOnly}\n              coupon={coupon}\n            />\n          )\n        )\n      })}\n    </div>\n  )\n}","import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport renderPrice from './Price';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n    },\n  }),\n)\n\nexport default function PriceSummary(props: {\n  currency: string,\n  amount: number,\n  prefix?: string,\n  postfix?: string,\n}): React.ReactElement {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {props.prefix}\n      {\" \"}\n      {renderPrice(parseFloat(`${props.amount}`), props.currency.toLocaleUpperCase())}\n      {\" \"}\n      {props.postfix}\n    </div>\n  )\n}","import React from \"react\";\n\nimport { Order, OrderStatus } from \"../types/OrderTypes\";\nimport { createStyles, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport { getOrderPriceBreakdown, getOrderTotalItems } from \"../services/orderPricingUtils\";\nimport PriceSummary from \"./PriceSummary\";\nimport renderPrice from \"./Price\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n      '& .priceRow': {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n      },\n      '& .totalPrice': {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: theme.spacing(2),\n      },\n    },\n  }),\n)\n\nexport const OrderSummaryTemplate = (props: {\n  amount?: number,\n  currency: string,\n  quantity: number,\n  priceBreakdown: Array<[string, number]>,\n}): React.ReactElement => {\n  const { amount, currency, priceBreakdown, quantity } = props;\n  const classes = useStyles()\n\n  const totalAmount = amount ?? priceBreakdown.reduce((acc: number, [_, value]) => acc + parseFloat(`${value}`), 0)\n\n  return (\n    <div className={classes.root}>\n      {priceBreakdown.map((item: [string, number]) => {\n        return (\n          <div className=\"priceRow\" key={item[0]}>\n            <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"div\">\n              {item[0]}\n            </Typography>\n            <Typography variant=\"body2\" color={item[1] >= 0 ? \"textSecondary\" : \"red\"} component=\"div\">\n              {renderPrice(item[1])}\n            </Typography>\n          </div>\n        )\n      })}\n      <Typography gutterBottom variant=\"subtitle1\" component=\"div\" className=\"totalPrice\">\n        <PriceSummary prefix={`Total (${quantity} items): `} currency={currency} amount={totalAmount} />\n      </Typography>\n    </div>\n  )\n}\n\nconst OrderSummary = (props: {\n  order: Order\n}): React.ReactElement => {\n\n  const { order } = props;\n  const ignoreRefundedRedeemedItem = order.status === OrderStatus.OPEN_CHECK\n  return (\n    <OrderSummaryTemplate\n      amount={props.order.amount}\n      currency={props.order.currency}\n      priceBreakdown={getOrderPriceBreakdown(order, ignoreRefundedRedeemedItem)}\n      quantity={getOrderTotalItems(order.lineItems)}\n    />\n  );\n}\n\nexport default OrderSummary","import { AppContextStateType, CartType } from \"../context/AppContext\"\n\nexport enum LOCALSTORAGE_MARKETPLACE_APP_KEYS {\n  APP_CONTEXT_STATE = 'app-context-state',\n  ORDER_TYPE = 'order-type',\n  PROMOTION_DRAWER = 'promotion-drawer',\n  PROMO_MERCHANT_DRAWER = 'promotion-merchant-drawer',\n  MARKETPLACE_DISCOVERY_SEARCH_STATE = 'marketplace-discovery-search-state',\n  CARRYOUT_BAG_CHOSEN = 'carryout-bag-chosen',\n}\n\ninterface AppContextStateStorageType {\n  appState: Partial<AppContextStateType>,\n  storedTimestamp: number,\n}\n\nexport const storeAppContextState = (appState: AppContextStateType): void => {\n  try {\n    if (appState?.cartType !== CartType.REGULAR) return\n\n    if (appState?.cart?.length > 0) {\n      const appStateCopy = {\n        cart: appState.cart,\n        merchantConfig: appState.merchantConfig,\n        tip: appState.tip,\n        orderType: appState.orderType,\n        pickupTime: appState.pickupTime,\n        tableQrCodeObject: appState.tableQrCodeObject,\n      } as Partial<AppContextStateType>\n\n      const storageData = {\n        appState: appStateCopy,\n        storedTimestamp: Date.now(),\n      } as AppContextStateStorageType\n\n      localStorage.setItem(\n        LOCALSTORAGE_MARKETPLACE_APP_KEYS.APP_CONTEXT_STATE,\n        JSON.stringify(storageData)\n      )\n    } else {\n      removeAppContextStateStorage()\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const getStoredAppContextState = (currState: AppContextStateType): Partial<AppContextStateType> | undefined => {\n  try {\n    const storageDataStr = localStorage.getItem(LOCALSTORAGE_MARKETPLACE_APP_KEYS.APP_CONTEXT_STATE) || undefined\n    if (storageDataStr) {\n      const storageData = JSON.parse(storageDataStr) as AppContextStateStorageType | undefined\n      if (storageData && (Date.now() - storageData.storedTimestamp < 24 * 60 * 60 * 1000)) {\n        const appStateCopy = {\n          cart: storageData.appState.cart || currState.cart,\n          merchantConfig: storageData.appState.merchantConfig || currState.merchantConfig,\n          tip: storageData.appState.tip || currState.tip,\n          orderType: storageData.appState.orderType || currState.orderType,\n          tableQrCodeObject: storageData.appState.tableQrCodeObject || currState.tableQrCodeObject,\n          pickupTime: storageData.appState.pickupTime ? new Date(storageData.appState.pickupTime) : currState.pickupTime,\n        } as Partial<AppContextStateType>\n\n        if (appStateCopy?.cart?.length && appStateCopy?.cart?.length > 0 && appStateCopy?.merchantConfig) {\n          return appStateCopy\n        } else {\n          removeAppContextStateStorage()\n        }\n      }\n    }\n  } catch (err) {\n    console.log(err)\n  }\n\n  return undefined\n}\n\nexport const removeAppContextStateStorage = (): void => {\n  localStorage.removeItem(LOCALSTORAGE_MARKETPLACE_APP_KEYS.APP_CONTEXT_STATE)\n}","import React, { useContext, useMemo } from \"react\";\nimport { AppContext } from \"../../context/AppContext\";\nimport { getPriceBreakdown, getTotalItems, getTotalPrice } from \"../../services/cartUtils\";\nimport { OrderSummaryTemplate } from \"../../bos_common/src/components/OrderSummary\";\n\nconst CartSummary = (): React.ReactElement => {\n  const { cart, tip, coupon, merchantConfig } = useContext(AppContext);\n  const orderingConfig = merchantConfig?.merchant.orderingConfig;\n  const priceBreakdown = useMemo(() =>\n    getPriceBreakdown(cart, tip, coupon, orderingConfig),\n    [cart, tip, coupon, orderingConfig]\n  );\n\n  return (\n    <OrderSummaryTemplate\n      amount={getTotalPrice({ cart, tip, coupon, orderingConfig })}\n      currency={\"USD\"}\n      priceBreakdown={priceBreakdown}\n      quantity={getTotalItems(cart)}\n    />\n  )\n}\n\nexport default CartSummary","import React, { useContext, useState } from 'react'\nimport { useIdleTimer } from 'react-idle-timer'\n\n// src\nimport { AppContext } from '../../context/AppContext';\nimport { enableStartOver, isEmptyOrNil } from '../../utils';\nimport ConfirmationAlert from \"../../bos_common/src/components/ConfirmationAlert\";\n\ntype StartOverDialogProps = {\n  onConfirm: () => void,\n  onClose?: () => void,\n  timeout?: number,\n  debounce?: number\n}\n\nconst StartOverDialog = (props: StartOverDialogProps) => {\n  const {\n    onClose,\n    onConfirm,\n    timeout = 60000, // 60 sec\n    debounce = 500\n  } = props\n  const { clearCart, cart, featureFlags } = useContext(AppContext)\n  const [isOpen, toggleIsOpen] = useState<boolean>(false)\n\n  // if feature flag enabled then show start over dialog\n  if (!enableStartOver(featureFlags)) return null;\n\n  useIdleTimer({\n    timeout,\n    debounce,\n    onIdle: () => !isEmptyOrNil(cart) && toggleIsOpen(true),\n  })\n\n  if (isEmptyOrNil(cart)) return null\n\n  const handleConfirm = () => {\n    onConfirm();\n    toggleIsOpen(false);\n\n    clearCart();\n  }\n\n  const handleCancel = () => {\n    onClose && onClose();\n    toggleIsOpen(false);\n  }\n\n  return (\n    <ConfirmationAlert\n      title=\"Did you forget something?\"\n      isOpen={isOpen}\n      onConfirm={handleConfirm}\n      onCancel={handleCancel}>\n      We noticed you haven’t confirmed you order yet. Would you like to start over?\n    </ConfirmationAlert>\n  )\n}\n\nexport default StartOverDialog","import { FeatureFlags } from \"../types/FeatureFlagTypes\";\n\nexport const isFeatureEnabled = (featureFlags: FeatureFlags|undefined, feature: string) => {\n  return featureFlags && featureFlags[feature] == 1\n}\n\nexport const isCouponEnabled = (featureFlags: FeatureFlags|undefined) => {\n  return isFeatureEnabled(featureFlags, 'enableCoupons');\n}","import { UserPromotionEntry } from \"../../../services/models\";\nimport { RootState } from \"../../store\";\n\nexport const getUserPromotionEntries = (state: RootState): UserPromotionEntry[] | undefined => {\n  return state.marketPlace.entities.userPromotionEntriesList\n}\n\nexport const getUserMerchantPromotionEntries = (merchantId: string): (state: RootState) => UserPromotionEntry[] | undefined => {\n  return (state: RootState): UserPromotionEntry[] | undefined => {\n    return state.marketPlace.entities.userPromotionEntriesList?.filter(i => i.merchant.id === merchantId)\n  }\n}","import React, { useContext, useEffect, useMemo, useState } from 'react'\nimport { makeStyles, createStyles, Theme, TextField, InputAdornment } from '@material-ui/core';\nimport { debounce } from \"debounce\";\n\nimport { isCouponEnabled } from '../../bos_common/src/services/featureFlagUtils';\n\nimport { AppContext } from '../../context/AppContext';\nimport useAxios from 'axios-hooks';\nimport { Loyalty } from '@material-ui/icons';\nimport { MerchantCoupon } from '../../services/models';\nimport { getAPIErrorMessage, getAuthHeaders } from '../../bos_common/src/utils';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport { useAppSelector } from '../../redux/hooks';\nimport { getUserPromotionEntries } from '../../redux/slice/marketPlace/marketPlaceSelector';\nimport { TreatmentType } from '../../bos_common/src/types/MerchantPromotionType';\nimport { defaultTo, path } from 'ramda';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      '& .MuiTextField-root': {\n        marginTop: theme.spacing(.5),\n        marginBottom: theme.spacing(1),\n        width: '100%',\n        maxWidth: 375,\n      },\n      '& .MuiInputBase-input': {\n        fontSize: 14,\n      },\n    },\n  })\n)\n\ninterface CouponMessage {\n  hasError: boolean;\n  message: string;\n}\n\n\nconst ShoppingCartCouponInput = () => {\n  const classes = useStyles();\n  const { coupon, setCoupon, featureFlags, merchantConfig } = useContext(AppContext);\n  const { token } = useContext(UserContext);\n  const [couponCode, setCouponCode] = useState<string>(coupon?.code || \"\");\n  const [couponMessage, setMessage] = useState<CouponMessage>({ hasError: false, message: \"\" });\n\n  const merchantId = merchantConfig?.merchant?.id;\n  const userPromotionEntries = useAppSelector(getUserPromotionEntries);\n  const promotionEntry = userPromotionEntries?.find(i => i.merchant.id === merchantId && i.treatment.type === TreatmentType.COUPON)\n\n  const [, executeCouponCheck] = useAxios<MerchantCoupon>({\n    url: `/merchants/${merchantConfig?.merchant.id}/coupons`,\n    method: 'get',\n    headers: getAuthHeaders(token)\n  },\n    { manual: true }\n  )\n\n  const checkCouponCode = (code: string, curCoupon: MerchantCoupon | undefined) => {\n    if (code.length > 0) {\n      setCouponCode(code);\n      executeCouponCheck({\n        params: {\n          code,\n        }\n      }).then((response) => {\n        if (response.status === 200) {\n          // applyCoupon\n          const couponRst = response.data as MerchantCoupon | undefined;\n          setCoupon(couponRst);\n          setMessage({ hasError: false, message: \"Coupon applied\" });\n        }\n      }).catch((err) => {\n        // remove coupon\n        if (curCoupon !== undefined) {\n          setCoupon(undefined);\n        }\n        setMessage({ hasError: true, message: getAPIErrorMessage(err) || \"Invalid code\" });\n      })\n    } else {\n      // remove coupon\n      if (curCoupon !== undefined) {\n        setCoupon(undefined);\n      }\n      setMessage({ hasError: false, message: \"\" });\n    }\n  }\n\n  const debouncedHandler = useMemo(() => debounce(checkCouponCode, 1000), []);\n\n  useEffect(() => {\n    if (couponCode || promotionEntry) {\n      const code = defaultTo(couponCode, path(['treatment', 'couponCode'], promotionEntry))\n      debouncedHandler(code, coupon)\n    }\n\n    return () => {\n      debouncedHandler.clear();\n    }\n  }, []);\n\n  if (!isCouponEnabled(featureFlags) || !merchantConfig?.merchant || merchantConfig.merchant.orderingConfig?.enabledCoupons !== true) {\n    return null;\n  }\n\n  const handleCodeChange = (event: any) => {\n    setCouponCode(event.target.value);\n\n    debouncedHandler(event.target.value, coupon);\n    if (event.target.value?.length === 0) {\n      debouncedHandler.flush();\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <TextField\n        error={couponMessage.hasError}\n        hiddenLabel\n        variant=\"outlined\"\n        value={couponCode}\n        onChange={handleCodeChange}\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <Loyalty fontSize=\"small\" />\n            </InputAdornment>\n          ),\n        }}\n        size=\"small\"\n        margin=\"none\"\n        placeholder=\"Coupon code?\"\n        helperText={couponMessage.message}\n      />\n    </div>\n  )\n}\n\nexport default ShoppingCartCouponInput","import React, { SyntheticEvent, useContext, useEffect, useState } from 'react';\nimport { If } from 'react-if';\nimport { Card, createStyles, Divider, FormControl, FormControlLabel, FormLabel, makeStyles, Radio, RadioGroup, Theme, Typography } from '@material-ui/core';\n\nimport QuantityInput from '../MerchantMenu/QuantityInput';\nimport { AppContext, CartItemType } from '../../context/AppContext';\nimport { Merchandise } from '../../services/models';\nimport renderPrice from '../../bos_common/src/components/Price';\nimport { ShoppingCartContext } from '../../context/ShoppingCart/ShoppingCartContext';\nimport { useWindowStorage } from '../../bos_common/src';\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from '../../services/localStorage';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .errorMessage': {\n        color: theme.palette.primary.main,\n        marginBottom: theme.spacing(1),\n        fontSize: 12\n      }\n    },\n  })\n);\n\nexport interface QuantityChangeParams {\n  count: number;\n  change: number;\n}\n\ntype MerchandiseNullable = Merchandise | null | undefined;\ntype BagsAddition = 'with' | 'without' | \"\";\n\ntype CartBagItemCardProps = {\n  cartItemCardRef: React.MutableRefObject<HTMLElement | undefined>\n}\n\nexport const CartBagItemCart = ({cartItemCardRef}: CartBagItemCardProps): JSX.Element | null => {\n  const { merchantConfig, cart, addItemToCart, removeItemFromCart } = useContext(AppContext)\n  const { shoppingBagError, setShoppingBagError } = useContext(ShoppingCartContext);\n\n  const [bagsCount, setBagsCount] = useState(0);\n  const [merchantCarryoutBag, setMerchantCarryoutBag] = useState<MerchandiseNullable>(null);\n  const [bagChosen, setBagChosen] = useWindowStorage(LOCALSTORAGE_MARKETPLACE_APP_KEYS.CARRYOUT_BAG_CHOSEN, false, 'sessionStorage');\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    let carryoutBagInCart: CartItemType | undefined;\n    const { carryoutBag } = merchantConfig?.merchant.orderingConfig || {};\n    setMerchantCarryoutBag(carryoutBag);\n\n    if (!carryoutBag) {\n      return;\n    }\n\n    // eslint-disable-next-line prefer-const\n    carryoutBagInCart = cart.find((item) => item.id === carryoutBag.id);\n    setBagsCount(carryoutBagInCart?.quantity || 0);\n  }, [merchantConfig]);\n\n  if (!merchantCarryoutBag) {\n    return null;\n  }\n\n  const onChangeBagsQuantity = ({ count, change }: QuantityChangeParams) => {\n    if (!merchantCarryoutBag) {\n      return;\n    }\n    setBagsCount(count);\n\n    if (change > 0) {\n      const newItem: CartItemType = { ...merchantCarryoutBag, quantity: change };\n      addItemToCart(newItem, merchantConfig?.merchant);\n    } else if (change < 0) {\n      for (let i = change; i < 0; i++) {\n        removeItemFromCart({ merchandiseId: merchantCarryoutBag.id, modifiersSignature: undefined });\n      }\n    }\n  }\n\n  const handleChangeBags = (e: SyntheticEvent) => {\n    const bagsAddition: BagsAddition = (e.target as HTMLInputElement).value as BagsAddition;\n    if (bagsAddition === 'with') {\n      onChangeBagsQuantity({ count: 1, change: 1 - bagsCount });\n    } else {\n      onChangeBagsQuantity({ count: 0, change: -bagsCount });\n    }\n    setShoppingBagError(false);\n    setBagChosen(true);\n  }\n\n  return (\n    <Card elevation={3} className={classes.root} ref={cartItemCardRef}>\n      <div style={{padding: '0px 8px '}}>\n        <FormControl variant=\"standard\" fullWidth error={shoppingBagError}>\n          <FormLabel color=\"primary\" style={{ padding: '8px 0px' }}>Bags?</FormLabel>\n          <Divider />\n          <RadioGroup\n            aria-label=\"Carry out bags\"\n            name=\"radio-buttons-group\"\n            value={bagChosen ? (bagsCount > 0 ? 'with' :'without') : ''}\n            onChange={handleChangeBags}\n          >\n            <FormControlLabel value=\"without\" control={<Radio color=\"primary\" />} label=\"No\"  />\n            <Divider />\n            <FormControlLabel value=\"with\" control={<Radio color=\"primary\" />} label=\"Yes\" />\n            <If condition={bagsCount > 0}>\n              <div style={{ paddingBottom: 8, display:'flex', justifyContent:'space-between'}}>\n                <QuantityInput\n                  quantity={bagsCount}\n                  minQuantity={0}\n                  onQuantityChange={(count, change) => onChangeBagsQuantity({ count, change })}\n                />\n                <Typography variant=\"body2\" component=\"div\">\n                  {renderPrice(merchantCarryoutBag.price * bagsCount)}\n                </Typography>\n              </div>\n            </If>\n            <If condition={shoppingBagError}>\n              <div className='errorMessage'>Please choose a bag option, required</div>\n            </If>\n          </RadioGroup>\n        </FormControl>\n      </div>\n    </Card>\n  );\n}\n","import React, { SyntheticEvent, useContext, useEffect } from 'react';\nimport { Card, createStyles, Divider, FormControl, FormControlLabel, FormLabel, makeStyles, Radio, RadioGroup, Theme } from '@material-ui/core';\n\nimport { AppContext, } from '../../context/AppContext';\nimport { OrderPickupType, OrderType } from '../../services/models';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n  }),\n);\n\nexport const OrderPickupTypeOptions = (): JSX.Element | null => {\n  const clasess = useStyles()\n  const { orderType, orderPickupType, setOrderPickupType, merchantConfig } = useContext(AppContext)\n  if (!merchantConfig?.merchant.orderingConfig?.enabledEatHere || orderType === OrderType.DINEIN) return null\n\n  const handleSwitchToggle = (e: SyntheticEvent) => {\n    const orderPickupType: OrderPickupType = (e.target as HTMLInputElement).value as OrderPickupType;\n    if (orderPickupType !== null)\n      setOrderPickupType(orderPickupType)\n  }\n\n  return (\n    <Card elevation={3} className={clasess.root}>\n      <div style={{ padding: '0px 8px ' }}>\n        <FormControl variant=\"standard\" fullWidth>\n          <FormLabel color=\"primary\" style={{ padding: '8px 0px' }}>Pickup option?</FormLabel>\n          <Divider />\n          <RadioGroup\n            aria-label=\"Carry out bags\"\n            name=\"radio-buttons-group\"\n            value={orderPickupType}\n            onChange={handleSwitchToggle}\n          >\n            <FormControlLabel value={OrderPickupType.TO_GO} control={<Radio color=\"primary\" />} label=\"To go\" />\n            <Divider />\n            <FormControlLabel value={OrderPickupType.EAT_HERE} control={<Radio color=\"primary\" />} label=\"For here\" />\n          </RadioGroup>\n        </FormControl>\n      </div>\n    </Card>\n  );\n}\n","import React, { useContext, useState, useRef } from 'react';\nimport { useHistory } from \"react-router\";\nimport { CardContent, createStyles, makeStyles, Theme, Fab, Drawer, Alert, Divider, LinearProgress, CircularProgress } from \"@material-ui/core\";\nimport { CreditCard } from \"@material-ui/icons\";\nimport { If, Then, Else } from 'react-if';\n\n// src\nimport { getTotalItems, getTotalPrice } from \"../../services/cartUtils\";\nimport { Order } from '../../services/models';\nimport createOrderService from '../../services/createOrderService';\n\nimport { getAPIErrorMessage } from '../../bos_common/src/utils';\nimport { ColoredPaper } from '../../bos_common/src/components/Papers';\nimport { AppContext } from '../../context/AppContext';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport { FabContainer } from '../../bos_common/src/components/FabContainers';\nimport renderPrice from \"../../bos_common/src/components/Price\";\nimport axios from '../../bos_common/src/services/backendAxios';\n\nimport ShoppingCartHeader from './ShoppingCartHeader';\nimport BackButton from '../common/BackButton';\nimport TipOptions from './TipOptions';\nimport CartItems from './CartItems';\nimport CartSummary from './CartSummary';\nimport StartOverDialog from './StartOverDialog';\nimport ShoppingCartCouponInput from './ShoppingCartCouponInput';\nimport { getLiveMerchantPromotion, isEmptyOrNil } from '../../utils';\nimport { ShoppingCartContext } from '../../context/ShoppingCart/ShoppingCartContext';\nimport { CartBagItemCart } from './CartBagItemCard';\nimport { OrderPickupTypeOptions } from './OrderPickupTypeOptions';\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from '../../services/localStorage';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .container': {\n        maxWidth: 600,\n        width: '100vw',\n        '& .drawer-content': {\n          position: 'relative',\n          paddingBottom: 0,\n          paddingTop: theme.spacing(1),\n          '& .cta-container': {\n            position: 'sticky',\n            bottom: theme.spacing(2),\n            width: '100%',\n            display: \"flex\",\n            flexDirection: \"column\",\n            marginTop: theme.spacing(2),\n          },\n          '& .empty-cart-message': {\n            marginTop: theme.spacing(2),\n          },\n          '& .fabProgress': {\n            position: 'absolute',\n            top: '50%',\n            left: '80%',\n            marginTop: -18,\n            marginLeft: -18,\n          },\n        },\n      },\n    },\n  }),\n);\n\ndeclare let window: any;\n\ntype PromiseResponse = {\n  reject: (reason?: string) => void,\n  resolve: (value?: string) => void,\n}\nlet nativeHandler: PromiseResponse | undefined = undefined;\n\nwindow.onPaymentMessage = (response: string) => {\n  const { error = null } = JSON.parse(response)\n  if (nativeHandler) {\n    const copyHandler = nativeHandler;\n    nativeHandler = undefined;\n    if (error) {\n      copyHandler.reject(error);\n    } else {\n      copyHandler.resolve(response);\n    }\n  }\n};\n\ninterface ShoppingCartDrawerProps {\n  showCart: boolean, setShowCart: (arg0: boolean) => void\n}\nconst ShoppingCartDrawer = (props: ShoppingCartDrawerProps): React.ReactElement => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const appContext = useContext(AppContext);\n  const { cart, merchantConfig, tip, coupon, clearCart, orderType } = appContext;\n  const { orderingConfig } = merchantConfig?.merchant || {};\n  const { user, token, refreshUser } = useContext(UserContext)\n  const { soldoutItems, clearSoldOutItems, setShoppingBagError } = useContext(ShoppingCartContext)\n\n  const cartItemCardRef = useRef<HTMLElement>();\n\n  const [loading, setLoading] = useState<boolean>(false)\n  const [errorMsg, setError] = useState<string>(\"\")\n\n  const { showCart, setShowCart } = props\n\n  const count = getTotalItems(cart)\n  const total = getTotalPrice({ cart, tip, coupon, orderingConfig })\n\n  const sendPromotionSmsNotification = (orderId: string) => {\n    const promotion = getLiveMerchantPromotion(merchantConfig?.merchant);\n    promotion && axios.post(`orders/${orderId}/promotion-sms`)\n  };\n\n  const sendMessageToNative = async (total: number) => {\n    setLoading(true)\n    return new Promise<string>((resolve, reject) => {\n      if (window?.webkit) {\n        window?.webkit.messageHandlers.checkoutMessageHandler.postMessage(total);\n        nativeHandler = { resolve, reject } as PromiseResponse;\n      } else if (window?.checkoutMessageHandler) {\n        window.checkoutMessageHandler.postMessage(total)\n        nativeHandler = { resolve, reject } as PromiseResponse;\n      }\n    });\n  }\n\n  const handlePaymentResponse = (paymentResJson: string) => {\n    if (paymentResJson) {\n      const { payment_intent_id: paymentIntentId = null, cancelled, name, phone } = JSON.parse(paymentResJson)\n\n      if (cancelled && cancelled === true) {\n        setLoading(false)\n        return\n      }\n\n      createOrderService({\n        appContext,\n        paymentIntentId,\n        name,\n        user,\n        token,\n        phone\n      }).then((results) => {\n        setLoading(false);\n        if (results.status === 200) {\n          const order = results.data as Order\n          if (phone)\n            sendPromotionSmsNotification(order.id)\n          if (!isEmptyOrNil(user))\n            refreshUser()\n          clearCart()\n          history.push({\n            pathname: `/order/${order.id}`,\n            state: { new: true }\n          });\n        } else {\n          setError(`Could not complete order, please contact staff`);\n        }\n      }).catch((err) => {\n        const message = getAPIErrorMessage(err) || `Could not complete order, please contact staff`;\n        setError(message);\n        setLoading(false);\n        console.log(err)\n      })\n    }\n  }\n\n  const RenderFabCTA = () => {\n    const areCartItemsOutOfOrder = !isEmptyOrNil(soldoutItems)\n\n    const handleOrderCheckout = () => {\n      setError(\"\");\n      if (orderingConfig?.carryoutBag && !sessionStorage.getItem(LOCALSTORAGE_MARKETPLACE_APP_KEYS.CARRYOUT_BAG_CHOSEN)) {\n        setShoppingBagError(true);\n        setError(\"Please choose one of the bag options\");\n        const offset = cartItemCardRef?.current?.getBoundingClientRect();\n        const top = offset?.top;\n        window.scrollTo({\n          top: (Number(top) - 140),\n          behavior: 'smooth',\n        })\n        return;\n      }\n\n      if (window?.webkit || window?.checkoutMessageHandler) {\n        sendMessageToNative(total)\n          .then((data: string) => {\n            handlePaymentResponse(data)\n          })\n          .catch((err) => {\n            //setError(err);\n            setLoading(false);\n            console.log(err);\n          })\n      } else {\n        history.push(\"/checkout\");\n      }\n    }\n\n    return (\n      <FabContainer alignment=\"center\" fabStyle={{ padding: \"24px 0 16px\" }}>\n        <If condition={areCartItemsOutOfOrder}>\n          <Then>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" disabled={loading} onClick={clearSoldOutItems}>\n              Remove unavailable items\n            </Fab>\n          </Then>\n          <Else>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" disabled={count < 1 || loading} onClick={handleOrderCheckout}>\n              <CreditCard fontSize=\"large\" />&nbsp;\n              Continue to Payment {renderPrice(total)}\n            </Fab>\n          </Else>\n        </If>\n        <If condition={loading}>\n          <CircularProgress size={36} className={\"fabProgress\"} />\n        </If>\n      </FabContainer>\n    )\n  }\n\n  const closeDrawer = () => {\n    setError(\"\");\n    setShowCart(false)\n  }\n\n  return (\n    <Drawer anchor=\"right\" open={showCart} onClose={closeDrawer} className={classes.root} ModalProps={{ keepMounted: true }}>\n      <div className=\"container\">\n        <ShoppingCartHeader\n          leftChild={<BackButton onBack={closeDrawer} />}\n          title=\"Shopping Cart\"\n          orderType={orderType}\n          merchant={merchantConfig?.merchant}\n          errorMessage={errorMsg}\n        />\n\n        <If condition={loading}>\n          <LinearProgress />\n        </If>\n\n        <ColoredPaper>\n          <CardContent className=\"drawer-content\">\n            <If condition={count === 0}>\n              <Then>\n                <Alert severity=\"info\" className=\"empty-cart-message\">\n                  {\"You don't have any item in your cart\"}\n                </Alert>\n              </Then>\n              <Else>\n                <CartItems />\n                <CartBagItemCart cartItemCardRef={cartItemCardRef} />\n                <OrderPickupTypeOptions />\n                <Divider />\n                <TipOptions />\n                <ShoppingCartCouponInput />\n                <Divider />\n                <CartSummary />\n              </Else>\n            </If>\n\n            <RenderFabCTA />\n          </CardContent>\n        </ColoredPaper>\n      </div>\n      <StartOverDialog onConfirm={closeDrawer} />\n    </Drawer>\n  )\n}\n\nexport default ShoppingCartDrawer\n","import { BaseIncrement } from \"./BaseIncrement\";\n\nexport enum AnnouncementType {\n  OFFLINE = 'offline',\n  GENERAL = 'general',\n}\n\nexport interface MerchantAnnouncement extends BaseIncrement {\n  merchantId: string;\n  type: AnnouncementType;\n  content: string;\n  startDate: Date;\n  endDate: Date;\n  live: boolean;\n}\n","import React, { useEffect, useContext } from 'react';\nimport { useState } from 'react';\nimport { Typography, CardContent, makeStyles, Theme, createStyles } from '@material-ui/core';\nimport { If, Then } from 'react-if';\n\nimport BottomDrawer from '../bos_common/src/components/BottomDrawer';\nimport { Merchant } from '../services/models';\nimport { getOfflineMerchantMessage, isKioskDevice, isMerchantOnline } from '../utils';\n\nimport OfflineIllustration from '../assets/images/warning-error.svg';\nimport useAxios from 'axios-hooks';\nimport { AnnouncementType, MerchantAnnouncement } from '../bos_common/src/types/MerchantAnnouncementTypes';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport { MerchantStoreHoursForToday } from './MerchantInfo/MerchantStoreHours';\nimport { AppContext } from '../context/AppContext';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .MuiTypography-root': {\n        lineHeight: 1.2,\n      }\n    },\n    offlineMerchantImageContainer: {\n      textAlign: 'center'\n    },\n    offlineMerchantImage: {\n      height: '20vh',\n      objectFit: \"cover\",\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(3),\n    },\n  }),\n);\n\ntype RenderOfflineMerchantDrawer = { merchant: Merchant }\nconst RenderOfflineMerchantDrawer = ({ merchant }: RenderOfflineMerchantDrawer): React.ReactElement | null => {\n  const isKioskModeEnabled = isKioskDevice()\n\n  const classes = useStyles()\n  const { orderType } = useContext(AppContext);\n  const isMerchantOrderingAvailable = isMerchantOnline(merchant, orderType)\n  const [isDrawerOpen, toggleDrawer] = useState(false);\n\n  const sessionStorageKey = `hide_offline_banner_${merchant.username}`\n\n  const [{ data: announcement, loading }, executeAnnouncementGet] = useAxios<MerchantAnnouncement>(\n    {\n      url: `/merchants/${merchant.id}/announcements`,\n      method: 'get',\n      params: { type: AnnouncementType.OFFLINE }\n    },\n    { manual: true }\n  );\n\n  useEffect(() => {\n    const showOfflineBanner = window.sessionStorage.getItem(sessionStorageKey) !== 'true'\n    if (!isMerchantOrderingAvailable && showOfflineBanner) {\n      toggleDrawer(true)\n      if (!isKioskModeEnabled) {\n        executeAnnouncementGet()\n      }\n    } else {\n      toggleDrawer(false)\n    }\n  }, [isMerchantOrderingAvailable])\n\n  const RenderTitle = () => (\n    <Typography variant='h6' component='div' color='textPrimary'>\n      {getOfflineMerchantMessage(orderType, merchant)}\n    </Typography>\n  )\n\n  const handleClose = () => {\n    window.sessionStorage.setItem(sessionStorageKey, \"true\")\n  }\n\n  return (\n    <BottomDrawer\n      open={isDrawerOpen}\n      setOpen={toggleDrawer}\n      onClose={handleClose}\n      title={RenderTitle()}>\n      <CardContent className={classes.root}>\n        <SimpleLoader loading={loading} />\n        <If condition={!isKioskModeEnabled}>\n          <Typography variant='subtitle1' component='div' color='textSecondary'>\n            <MerchantStoreHoursForToday merchant={merchant} />\n          </Typography>\n          <If condition={Boolean(announcement?.content)}>\n            <Then>\n              <Typography variant='subtitle1' component='div' color='textSecondary'>\n                {announcement?.content}\n              </Typography>\n            </Then>\n          </If>\n        </If>\n        <div className={classes.offlineMerchantImageContainer}>\n          <img className={classes.offlineMerchantImage} src={OfflineIllustration} alt=\"offline-merchant\" />\n        </div>\n      </CardContent>\n    </BottomDrawer>\n  )\n}\n\nexport default RenderOfflineMerchantDrawer;","import React, { useContext, useEffect, useState } from \"react\";\n\n// src\nimport { useFunctionOnInterval } from \"../../bos_common/src/hooks\";\nimport { isOverInventoryLimit } from \"../../bos_common/src/services/merchandiseUtils\";\nimport { MERCHANT_DATA_FETCH_INTERVAL } from \"../../config/constants\";\nimport { isEmptyOrNil, isMerchandiseAvailable } from \"../../utils\";\nimport { AppContext, CartItemType, CartType } from \"../AppContext\";\nimport { PointsRedemption, defaultRedeemPointsInfo, ShoppingCartContext } from \"./ShoppingCartContext\"\n\nconst ShoppingCartContextProvider = (props: {\n  children: React.ReactNode,\n}): React.ReactElement => {\n\n  const [pointsRedeemedInfo, setPointsRedemptionInfo] = useState<PointsRedemption>(defaultRedeemPointsInfo);\n  const [appliedRedemption, setApplyRedemption] = useState<boolean>(false);\n  const [soldoutItems, setSoldoutItems] = useState<CartItemType[]>([]);\n  const [ shoppingBagError, setShoppingBagError ] = useState<boolean>(false);\n  const { cart, redeemItems, reFetchMerchandisesForCart, removeItemFromCart, cartType } = useContext(AppContext)\n\n  useFunctionOnInterval(reFetchMerchandisesForCart, MERCHANT_DATA_FETCH_INTERVAL, true, true)\n\n  // To find the invalid items in the carts list\n  useEffect(() => {\n    if (!isEmptyOrNil(cart) && cartType !== CartType.FROM_OPEN_CHECK) {\n      const cartItemQuantities: { [key: string]: number; } = {}\n      // Finding the lineitems in an open check order\n      const invalidItems = cart.filter((item: CartItemType) => {\n        cartItemQuantities[item.id] = item.quantity + (cartItemQuantities[item.id] || 0)\n        const _isOverStockLimit = isOverInventoryLimit(item, cartItemQuantities[item.id])\n        return (_isOverStockLimit || !isMerchandiseAvailable(item));\n      })\n      setSoldoutItems(invalidItems);\n    } else {\n      setSoldoutItems([]);\n    }\n  }, [cart, cartType])\n\n  useEffect(() => {\n    if (appliedRedemption) {\n      redeemItems(pointsRedeemedInfo.items)\n    }\n  }, [pointsRedeemedInfo])\n\n  const clearSoldOutItems = () => {\n    soldoutItems.forEach((item: CartItemType) => {\n      if (item.inventory?.dailyCurrentStock && item.inventory.dailyCurrentStock > 0) {\n        for (let i = item.quantity; i > (item.inventory.dailyCurrentStock); i--)\n          removeItemFromCart({ merchandiseId: item.id, modifiersSignature: item.modifiersSignature })\n      } else if (item.inventory?.dailyCurrentStock === 0) {\n        removeItemFromCart({ merchandiseId: item.id, modifiersSignature: item.modifiersSignature, clearThisItemFromCart: true })\n      }\n    })\n  }\n\n  return (\n    <ShoppingCartContext.Provider value={{\n      pointsRedeemedInfo,\n      setPointsRedemptionInfo,\n      appliedRedemption,\n      setApplyRedemption,\n      soldoutItems,\n      clearSoldOutItems,\n      shoppingBagError,\n      setShoppingBagError,\n    }}>\n      {props.children}\n    </ShoppingCartContext.Provider>\n  );\n}\n\nexport default ShoppingCartContextProvider;","import React from 'react'\nimport { Card, CardContent, createStyles, makeStyles, Theme } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    formGroup: {\n      '& .MuiFormLabel-root': {\n        marginLeft: theme.spacing(2),\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n      },\n      '& .MuiFormControlLabel-root': {\n        marginLeft: theme.spacing(1),\n        width: '100%',\n      },\n      '& .MuiFormHelperText-root': {\n        marginLeft: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n      },\n      '& .MuiTextField-root': {\n        padding: theme.spacing(2),\n        paddingTop: 0\n      },\n    }\n  }),\n);\n\n\ninterface FormGroupCardWrapper {\n  elevation?: number,\n  id?: string | number,\n  children: React.ReactNode\n}\n\nconst FormGroupCardWrapper = (props: FormGroupCardWrapper): React.ReactElement => {\n  const classes = useStyles();\n  const { id = '', elevation = 3 } = props;\n\n  return (\n    <CardContent key={id} className={classes.formGroup}>\n      <Card elevation={elevation}>\n        {props.children}\n      </Card>\n    </CardContent>\n  )\n}\n\nexport default FormGroupCardWrapper;","import React, { useCallback, useMemo } from \"react\";\nimport {\n  FormControl, Checkbox, FormControlLabel,\n  FormGroup, FormHelperText, FormLabel, Divider, RadioGroup, Radio\n} from \"@material-ui/core\";\nimport { pathOr, pick, pipe, propOr, values } from \"ramda\";\nimport { useFormContext, Controller } from \"react-hook-form\";\n\nimport { MerchandiseApiResponseType, MerchandiseModifierCategory, MerchandiseModifier } from \"../../services/models\";\nimport renderPrice from '../../bos_common/src/components/Price';\nimport FormGroupCardWrapper from \"../common/FormGroupCardWrapper\";\nimport { isEmptyOrNil } from \"../../utils\";\n\ninterface ModifierMap { [key: number]: MerchandiseModifier; }\n\nconst checkSelectionLimitForCategory = (quantity: number | null, categoryModifiersValues: boolean[], defaultReturn: boolean) => {\n  if (quantity == null || quantity < 1) return defaultReturn;\n\n  const selectedModifiers = categoryModifiersValues.filter(i => i)\n  return selectedModifiers.length >= quantity\n}\n\nconst getModifierLabel = (m: MerchandiseModifier) => {\n  const price = Number(m.price);\n  return price === 0 ? m.name : `${m.name} (+ ${renderPrice(price)})`\n}\n\nconst renderModifierRadioSelect = (category: MerchandiseModifierCategory, order: number, toModifiers: ModifierMap) => {\n  const { formState, control } = useFormContext();\n  const errors = formState.errors\n\n  const categoryFieldName = `${order}_c${category.id}`\n  const modifiers = useMemo(() => category.modifierIds.map((modifierId) => toModifiers[modifierId]), [category]);\n  const defaultModifier = modifiers.find((modifier: MerchandiseModifier) => modifier.isDefault && modifier.available)\n  const helperText = errors[categoryFieldName] ? errors[categoryFieldName].message : category.description as string | undefined\n  const required = category.minQuantity > 0\n  const rules = required ? { required: 'required' } : undefined\n\n  return (\n    <FormGroupCardWrapper key={category.id} id={category.id} elevation={2}>\n      <FormControl\n        required={required}\n        error={Boolean(errors[categoryFieldName])}\n        variant=\"standard\"\n        fullWidth>\n        <FormLabel>{category.name}</FormLabel>\n        <Divider />\n        <Controller\n          defaultValue={`${defaultModifier?.id || ''}`}\n          name={categoryFieldName}\n          control={control}\n          rules={rules}\n          render={({ field }) =>\n            <RadioGroup aria-label={category.name} {...field}>\n              {modifiers.map((m: MerchandiseModifier, index: number) => {\n                return (m &&\n                  <div key={m.id}>\n                    {(index !== 0) && <Divider />}\n                    <FormControlLabel value={`${m.id}`} control={<Radio color=\"primary\" disabled={!m?.available} />} label={getModifierLabel(m)} />\n                  </div>\n                )\n              })}\n            </RadioGroup>\n          }\n        />\n        {helperText && <FormHelperText>{helperText}</FormHelperText>}\n      </FormControl>\n    </FormGroupCardWrapper>\n  )\n}\n\nconst renderModifierMultiSelect = (category: MerchandiseModifierCategory, order: number, toModifiers: ModifierMap) => {\n  const { formState, control, getValues, watch } = useFormContext();\n  const errors = formState.errors\n  const formValues = getValues()\n\n  const controlName = (m: MerchandiseModifier) => `${order}_${m.id}` as const;\n\n  const modifiers = useMemo(() => category.modifierIds.map((modifierId) => toModifiers[modifierId]), [category]);\n  const categoryModifiersIds: string[] = modifiers.map((m) => controlName(m))\n  const categoryModifiersValues: boolean[] = watch(categoryModifiersIds)\n  const errorMessage = pipe(pick(categoryModifiersIds), values, pathOr(undefined, [0, 'type']))(errors)\n  const helperText = errorMessage ?? category.description as string | undefined\n\n  //trigger validation on all category modifiers when any value changes\n  // useEffect(() => {\n  //   trigger(categoryModifiersIds)\n  // }, [JSON.stringify(categoryModifiersValues)]);\n\n  const hasNoMax = category.maxQuantity <= 0 || category.maxQuantity >= modifiers.length;\n  const hasNoMin = category.minQuantity < 1;\n\n  const isMaximumSelectionLimitReached = useMemo(() => {\n    if (hasNoMax) return false;\n    return checkSelectionLimitForCategory(category.maxQuantity, categoryModifiersValues, false)\n  }, [category, categoryModifiersValues]);\n\n  const verifyMinimumModifiersSelection = useCallback(() => {\n    if (hasNoMin) return true;\n    return checkSelectionLimitForCategory(category.minQuantity, categoryModifiersValues, true)\n  }, [category, categoryModifiersValues]);\n\n  const maxSelectionLimitText = useMemo(() => {\n    const minimumText = category.minQuantity <= 0 ? '' : ` at least ${category.minQuantity}`;\n    const maximumText = hasNoMax ? '' : ` up to ${category.maxQuantity}`;\n    return (minimumText || maximumText) ? `(Select${minimumText}${maximumText} items)${category.minQuantity > 0 ? '*' : ''}` : '';\n  }, [category]);\n\n  return (\n    <FormGroupCardWrapper key={category.id} id={category.id} elevation={2}>\n      <FormControl\n        fullWidth\n        error={!isEmptyOrNil(errorMessage)}\n        variant=\"standard\">\n        <FormLabel>{category.name} {maxSelectionLimitText}</FormLabel>\n        <Divider />\n        <FormGroup>\n          {modifiers.map((m: MerchandiseModifier, index: number) => {\n            const isDisabledAfterMaxSelection = isMaximumSelectionLimitReached && !propOr(false, controlName(m), formValues)\n            const isCheckboxDisabled = !m?.available || isDisabledAfterMaxSelection;\n\n            return (m &&\n              <div key={m.id}>\n                {(index !== 0) && <Divider />}\n                <Controller\n                  defaultValue={m.isDefault && m.available}\n                  name={controlName(m)}\n                  control={control}\n                  rules={{\n                    validate: {\n                      required: verifyMinimumModifiersSelection\n                    }\n                  }}\n                  render={({ field }) =>\n                    <FormControlLabel\n                      control={<Checkbox color=\"primary\" defaultChecked={m.isDefault && m.available} {...field} disabled={isCheckboxDisabled} />}\n                      label={getModifierLabel(m)}\n                    />\n                  }\n                />\n              </div>\n            )\n          })}\n        </FormGroup>\n        {helperText && <FormHelperText>{helperText}</FormHelperText>}\n      </FormControl>\n    </FormGroupCardWrapper>\n  )\n}\n\nconst ModifierTemplate = (props: {\n  templateId: number | undefined,\n  mercData: MerchandiseApiResponseType | undefined,\n}) => {\n  const { templateId, mercData } = props\n  if (!templateId || !mercData) {\n    return null\n  }\n  const template = mercData.modiTemplates.find((t) => (t.id === templateId))\n  if (!template) {\n    return null\n  }\n\n  const toModifiers: ModifierMap = {}\n  mercData.modifiers.map((modifier) => toModifiers[modifier.id] = modifier)\n\n  return (\n    <div>\n      {template.modifierCategoryIds.map((categoryId: number, index: number) => {\n        const numCategoryId = Number(categoryId)\n        const category = mercData.modiCategories.find((c) => (c.id === numCategoryId))\n\n        if (!category) {\n          return null\n        }\n\n        if (category.maxQuantity === 1 && category.minQuantity === 1) {\n          return renderModifierRadioSelect(category, index, toModifiers)\n        } else {\n          return renderModifierMultiSelect(category, index, toModifiers)\n        }\n\n      })}\n    </div>\n  )\n}\n\nexport default ModifierTemplate\n\n","import React, { Dispatch, SetStateAction, useState } from \"react\";\nimport {\n  Avatar,\n  Box,\n  Card,\n  Chip,\n  createStyles,\n  darken,\n  Divider,\n  Grid,\n  makeStyles,\n  Paper,\n  Rating,\n  Stack,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport MoreHoriz from \"@material-ui/icons/MoreHoriz\";\nimport { Else, If, Then } from \"react-if\";\nimport { descend, path, pathOr, prop, propOr, sort } from \"ramda\";\nimport { useHistory } from \"react-router-dom\";\nimport { rgba } from \"polished\";\nimport classNames from \"classnames\";\nimport BottomDrawer from \"../bos_common/src/components/BottomDrawer\";\nimport LazyLoad from 'react-lazyload';\nimport { Review } from \"../bos_common/src/types/ReviewType\";\nimport { Merchandise, Merchant } from \"../services/models\";\nimport { getMerchandiseOverallRatings, formatDate, isEmptyOrNil } from \"../utils\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: \"90vh\",\n      overflowY: \"auto\",\n\n      \"& .reviewsFilter\": {\n        display: \"flex\",\n        marginBottom: theme.spacing(3),\n        alignItems: \"center\",\n\n        \"& .filterHeading\": {\n          marginRight: theme.spacing(1),\n        },\n\n        \"& .filterChip\": {\n          marginBottom: 2,\n          borderRadius: theme.spacing(1),\n          borderWidth: 2,\n          BorderStyle: \"solid\",\n          background: rgba(theme.palette.secondary.light, 0.15),\n          borderColor: theme.palette.secondary.light,\n          color: darken(theme.palette.secondary.light, 1),\n\n          \"&:not(.active):hover\": {\n            background: rgba(theme.palette.secondary.light, 0.3),\n          },\n\n          \"&.active\": {\n            background: rgba(theme.palette.secondary.main, 0.15),\n            borderColor: theme.palette.secondary.main,\n            color: darken(theme.palette.secondary.main, 0.4),\n\n            \"& .filterStarIcon\": {\n              color: theme.palette.secondary.main,\n            },\n          },\n        },\n        [theme.breakpoints.down(\"lg\")]: {\n          justifyContent: \"center\",\n        },\n      },\n\n      \"& .header\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: `${theme.spacing(3)} ${theme.spacing(1)}`,\n\n        \"& .reviewsHeading\": {\n          fontWeight: 700,\n        },\n      },\n\n      \"& .divider\": {\n        marginBottom: theme.spacing(2),\n      },\n\n      \"& .content\": {\n        padding: `0 ${theme.spacing(2)}`,\n        alignItems: \"stretch\",\n      },\n\n      \"& .ratingBox\": {\n        \"&.boxJumbo\": {\n          justifyContent: \"space-between\",\n          marginBottom: theme.spacing(1),\n        },\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        alignItems: \"center\",\n\n        \"& .ratingLabel\": {\n          fontWeight: 600,\n        },\n\n        [theme.breakpoints.down(480)]: {\n          flexDirection: \"column\",\n          \"& .ratingItem\": {\n            marginLeft: 0,\n          },\n        },\n      },\n\n      \"& .ratingItem\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: theme.spacing(0.5),\n        marginLeft: theme.spacing(0.6),\n\n        \"& .ratingNumber\": {\n          fontWeight: 600,\n        },\n      },\n\n      \"& .reviewCardsContainer\": {\n        marginBottom: theme.spacing(4),\n\n        \"& .lazyload-wrapper\": {\n          height: \"100%\"\n        }\n      },\n\n      \"& .reviewCard\": {\n        height: \"100%\",\n        \"& .reviewCardSection\": {\n          padding: theme.spacing(2),\n\n          \"&.userSection\": {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n\n            \"& .userAvatar\": {\n              height: 70,\n              width: 70,\n            },\n\n            \"& .userDetails\": {\n              flex: 1,\n              margin: `0 ${theme.spacing(3)}`,\n\n              \"& .userName\": {\n                fontWeight: 600,\n              },\n\n              \"& .userStats\": {\n                display: \"flex\",\n                alignItems: \"center\",\n\n                \"& .reviewDate\": {\n                  color: theme.palette.secondary.light,\n                  marginRight: theme.spacing(0.5),\n                },\n                \"& .userTag\": {\n                  borderRadius: theme.spacing(0.5),\n                  padding: 0,\n                  height: theme.spacing(3),\n                  background: rgba(theme.palette.secondary.main, 0.15),\n                  color: theme.palette.secondary.main,\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n    bottomDrawer: {\n      \"z-index\": \"3000 !important\",\n    },\n  })\n);\n\nconst getChipClassName = (\n  currentActiveFilter: string,\n  chipActiveValue: string\n) =>\n  classNames(\"filterChip\", {\n    active: currentActiveFilter === chipActiveValue\n  });\n\nconst ReviewsFilter = ({\n  currentFilter,\n  setFilter,\n}: {\n  currentFilter: string;\n  setFilter: Dispatch<SetStateAction<string>>;\n}) => {\n  return (\n    <Box className=\"reviewsFilter\">\n      <Typography className=\"filterHeading\" variant=\"subtitle2\">\n        Filter By\n      </Typography>\n      <Stack\n        flexWrap=\"wrap\"\n        direction=\"row\"\n        spacing={2}\n        className=\"filterButtons\"\n      >\n        <Chip\n          label=\"Newest\"\n          variant=\"outlined\"\n          className={getChipClassName(currentFilter, \"newest\")}\n          clickable\n          onClick={setFilter.bind(null, \"newest\")}\n        />\n        <Chip\n          icon={<StarIcon className=\"filterStarIcon\" />}\n          label=\"1\"\n          variant=\"outlined\"\n          className={getChipClassName(currentFilter, \"1\")}\n          clickable\n          onClick={setFilter.bind(null, \"1\")}\n        />\n        <Chip\n          icon={<StarIcon className=\"filterStarIcon\" />}\n          label=\"2\"\n          variant=\"outlined\"\n          className={getChipClassName(currentFilter, \"2\")}\n          clickable\n          onClick={setFilter.bind(null, \"2\")}\n        />\n        <Chip\n          icon={<StarIcon className=\"filterStarIcon\" />}\n          label=\"3\"\n          variant=\"outlined\"\n          className={getChipClassName(currentFilter, \"3\")}\n          clickable\n          onClick={setFilter.bind(null, \"3\")}\n        />\n        <Chip\n          icon={<StarIcon className=\"filterStarIcon\" />}\n          label=\"4\"\n          variant=\"outlined\"\n          className={getChipClassName(currentFilter, \"4\")}\n          clickable\n          onClick={setFilter.bind(null, \"4\")}\n        />\n        <Chip\n          icon={<StarIcon className=\"filterStarIcon\" />}\n          label=\"5\"\n          variant=\"outlined\"\n          className={getChipClassName(currentFilter, \"5\")}\n          clickable\n          onClick={setFilter.bind(null, \"5\")}\n        />\n      </Stack>\n    </Box>\n  );\n};\n\nconst ReviewDrawerHeader = ({ overallRating }: { overallRating: number | string }) => (\n  <Box className=\"header\">\n    <Typography className=\"reviewsHeading\" variant={\"h6\"}>\n      Reviews\n    </Typography>\n    <Paper elevation={1} className=\"ratingItem\">\n      <StarIcon color=\"secondary\" fontSize=\"small\" />\n      <Typography variant=\"subtitle2\" className=\"ratingNumber\">\n        {overallRating}\n      </Typography>\n    </Paper>\n  </Box>\n);\n\nconst UserReviewCard = ({ review }: { review: Review }) => {\n  const getRatingValue = (key: string) => pathOr(0, [\"rating\", key], review);\n\n  return (\n    <Card className=\"reviewCard\">\n      <Box className=\"reviewCardSection userSection\">\n        <Avatar\n          className=\"userAvatar\"\n          src={pathOr(\"\", [\"user\", \"picture\"], review)}\n        />\n\n        <Box className=\"userDetails\">\n          <Typography className=\"userName\">\n            {pathOr(\"\", [\"user\", \"displayName\"], review)}\n          </Typography>\n          <Box className=\"userStats\">\n            <Typography className=\"reviewDate\" variant=\"body2\">\n              {formatDate(review.createdAt)}\n            </Typography>\n            {/* <Chip label=\"Elite Reviewer\" className=\"userTag\" /> */}\n          </Box>\n        </Box>\n      </Box>\n      <Divider className=\"divider\" />\n      <Box className=\"reviewCardSection ratings\">\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Box className=\"ratingBox boxJumbo\">\n              <Typography className=\"ratingLabel\">Overall Rating</Typography>\n              <Rating\n                name=\"size-medium\"\n                icon={<StarIcon color=\"primary\" />}\n                precision={0.5}\n                value={getRatingValue(\"overall\")}\n                readOnly\n              />\n            </Box>\n          </Grid>\n          <Grid item xs={4}>\n            <Box className=\"ratingBox\">\n              <Typography className=\"ratingLabel\">Taste</Typography>\n              <Paper elevation={1} className=\"ratingItem\">\n                <StarIcon color=\"primary\" />\n                <Typography variant=\"subtitle2\" className=\"ratingNumber\">\n                  {getRatingValue(\"taste\").toFixed(2)}\n                </Typography>\n              </Paper>\n            </Box>\n          </Grid>\n          <Grid item xs={4}>\n            <Box className=\"ratingBox\">\n              <Typography className=\"ratingLabel\">Portion</Typography>\n              <Paper elevation={1} className=\"ratingItem\">\n                <StarIcon color=\"secondary\" />\n                <Typography variant=\"subtitle2\" className=\"ratingNumber\">\n                  {getRatingValue(\"portion\").toFixed(2)}\n                </Typography>\n              </Paper>\n            </Box>\n          </Grid>\n          <Grid item xs={4}>\n            <Box className=\"ratingBox\">\n              <Typography className=\"ratingLabel\">Value</Typography>\n              <Paper elevation={1} className=\"ratingItem\">\n                <StarIcon color=\"disabled\" />\n                <Typography variant=\"subtitle2\" className=\"ratingNumber\">\n                  {getRatingValue(\"value\").toFixed(2)}\n                </Typography>\n              </Paper>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n      <Divider className=\"divider\" />\n      <Box className=\"reviewCardSection userReview\">\n        <Typography variant=\"body1\">{review.comment}</Typography>\n      </Box>\n    </Card>\n  );\n};\n\ninterface MerchandiseReviewsDrawerPageProps {\n  merchant: Merchant | undefined;\n  merchandise: Merchandise | null;\n}\n\nexport default function MerchandiseReviewsDrawerPage(\n  props: MerchandiseReviewsDrawerPageProps\n) {\n  const [filter, setFilter] = useState<string>(\"newest\");\n\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { merchant, merchandise } = props;\n\n  const onToggleReviewDrawer = () => {\n    history.push(`/${merchant?.id}/item/${merchandise?.id}`);\n  };\n\n  const overallRatings = getMerchandiseOverallRatings(merchandise);\n\n  const reviews = propOr([], \"reviews\")(merchandise);\n\n  let filteredreviews = sort(descend(prop(\"createdAt\")), reviews);\n\n  if(filter !== \"newest\"){\n    filteredreviews = filteredreviews.filter(\n          (review: Review) =>{\n            const reviewRating = pathOr(-1, [\"rating\", \"overall\"], review);\n            const filterNum = +filter;\n            const greaterRatingCheck = filterNum === 1 ? reviewRating.toFixed(2) >= (filterNum-1).toFixed(2) : reviewRating.toFixed(2) > (filterNum-1).toFixed(2);\n            return greaterRatingCheck && reviewRating.toFixed(2) <= filterNum.toFixed(2)\n          }\n    );\n  }\n\n  if (isEmptyOrNil(reviews) || !overallRatings) {\n    return null;\n  }\n\n  return (\n    <BottomDrawer\n      open={true}\n      setOpen={onToggleReviewDrawer}\n      className={classes.bottomDrawer}\n      keepMounted={false}>\n      <Box className={classes.root}>\n        <ReviewDrawerHeader\n          overallRating={overallRatings}\n        />\n        <Divider className=\"divider\" />\n        <Box className=\"content\">\n          <ReviewsFilter\n              currentFilter={filter}\n              setFilter={setFilter}\n          />\n          <If condition={filteredreviews.length === 0}>\n            <Then>\n              <Typography variant=\"body1\">No Reviews Found</Typography>\n            </Then>\n            <Else>\n              <Grid container className=\"reviewCardsContainer\" spacing={2}>\n                {filteredreviews.map((review: Review) => (\n                  <Grid item xs={12} lg={6} key={review.id}>\n                    {/* Placeholder to be added later */}\n                    <LazyLoad overflow height={250} offset={250} >\n                        <UserReviewCard review={review} />\n                    </LazyLoad>\n                  </Grid>\n                ))}\n              </Grid>\n            </Else>\n          </If>\n        </Box>\n      </Box>\n    </BottomDrawer>\n  );\n}\n","import React, { useContext, useEffect, useState, useMemo } from \"react\";\nimport { useForm, FormProvider, SubmitHandler, Controller, useFormContext } from \"react-hook-form\";\nimport {\n  CardHeader,\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  Fab,\n  Grid,\n  FormControl,\n  FormLabel,\n  FormHelperText,\n  TextField,\n  CardContent,\n  useMediaQuery,\n  Drawer,\n  Box\n} from \"@material-ui/core\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport useAxios from \"axios-hooks\";\nimport AliceCarousel from 'react-alice-carousel';\nimport { Case, Default, Else, If, Switch, Then } from \"react-if\";\nimport { NavLink, Route, useHistory, useLocation } from \"react-router-dom\";\nimport { pipe, propOr, find, map, propEq, without, filter, any, includes, all, reduce, head, pathOr, length } from \"ramda\";\nimport ReactMarkdown from \"react-markdown\";\n\nimport { ColoredPaper, WhitePaper, FullscreenPaper } from '../bos_common/src/components/Papers';\nimport { FabContainer } from \"../bos_common/src/components/FabContainers\";\nimport SimpleLoader from \"../bos_common/src/components/SimpleLoader\";\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\nimport { isOverInventoryLimit } from '../bos_common/src/services/merchandiseUtils';\nimport { isCouponValidOnMerchandise } from \"../bos_common/src/services/CouponUtils\";\nimport {\n  Merchant,\n  MerchandiseApiResponseType,\n  MerchandiseModifiersType,\n  Merchandise,\n  MerchandiseModifierCategory,\n  MerchandiseModifier,\n  FeatureFlags,\n} from \"../services/models\";\n\nimport PageHeader from \"../components/common/PageHeader\";\nimport BackButton from \"../components/common/BackButton\";\nimport QuantityInput from \"../components/MerchantMenu/QuantityInput\";\nimport ModifierTemplate from \"../components/MerchantMenu/ModifierTemplate\";\nimport FormGroupCardWrapper from \"../components/common/FormGroupCardWrapper\";\nimport CustomizedChip from \"../components/common/CustomizedChip\";\nimport { AppContext, CartItemType } from \"../context/AppContext\";\nimport { VisitedMerchantContext } from \"../context/VisitedMerchantContext/VisitedMerchantContext\";\nimport {\n  enableOrderItemNote,\n  enableRedeemPoints,\n  getOfflineMerchantMessage,\n  getRequiredRedemptionPoints,\n  isEmptyOrNil,\n  isMerchandiseAvailable,\n  isMerchandiseStockLow,\n  isNotificationSoundEnabled,\n  repeatAudio,\n  isAddingItemToOpenTab,\n  getMerchandiseOverallRatings,\n} from \"../utils\";\nimport { RenderSoldOut, RenderLowStockWarning } from \"../components/common/MerchandiseHelper\";\n\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport DiamondIcon from \"../assets/icons/DiamondIcon\";\nimport { MerchantCoupon } from \"../bos_common/src/types/MerchantCouponType\";\nimport MerchandisePrice from \"../components/MerchantMenu/MerchandisePrice\";\nimport MerchandiseAllergens from \"../bos_common/src/components/Merchandise/MerchandiseAllergens\";\nimport { setShowRewardsEducationDrawer } from \"../redux/slice/merchant/action\";\nimport { useAppDispatch } from \"../redux/hooks\";\nimport MerchandiseReviewsDrawerPage from \"./MerchandiseReviewsDrawerPage\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {},\n    root: {\n      '& .item': {\n        display: \"flex\",\n        justifyContent: \"center\",\n        '& .mercPhoto': {\n          objectFit: \"cover\",\n          height: 240,\n          [theme.breakpoints.up('sm')]: {\n            height: 300,\n          },\n          [theme.breakpoints.up('md')]: {\n            height: 400,\n          }\n        },\n      },\n      '& .merchandise-title': {\n        display: 'flex',\n        marginBottom: theme.spacing(1),\n      },\n      '& .points-to-redeem-container': {\n        '& .MuiChip-root': {\n          marginLeft: theme.spacing(1),\n          marginRight: theme.spacing(1),\n          borderColor: theme.palette.warning.light,\n          borderRadius: 3,\n          '& .MuiChip-label': {\n            alignItems: 'center',\n            display: 'flex',\n            color: theme.palette.warning.light,\n          }\n        }\n      },\n      '& .quantityInput': {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n        zIndex: 999,\n        [theme.breakpoints.down('sm')]: {\n          position: 'fixed',\n          bottom: 3,\n          width: 'fit-content',\n          left: theme.spacing(2),\n        },\n      },\n      '& .photos-gallery': {\n        margin: theme.spacing(2),\n        padding: theme.spacing(2),\n        minHeight: '250px',\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        position: 'sticky',\n        top: theme.spacing(7),\n      },\n      '& .ratingLink': {\n        color:\"black\"\n      }\n    },\n    pointsEarnedContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      color: theme.palette.warning.main,\n      position: 'absolute',\n      right: 5,\n      top: 5,\n      backgroundColor: 'white',\n      cursor: 'pointer',\n    }\n  }),\n);\n\ninterface FormValues { [key: string]: any; }\n\nconst RenderOrderNoteItem = ({ formMethods }: { formMethods: FormValues }) => {\n  const orderNoteError = formMethods?.formState?.errors?.note\n  const orderNoteHelperText = orderNoteError ? orderNoteError.message : orderNoteError as string | undefined\n\n  return (\n    <FormGroupCardWrapper elevation={3}>\n      <FormControl\n        error={Boolean(orderNoteError)}\n        variant=\"standard\"\n        fullWidth>\n        <FormLabel>Special Instructions</FormLabel>\n        <Controller\n          name=\"note\"\n          control={formMethods.control}\n          rules={{\n            maxLength: { value: 250, message: 'Maximum 250 characters are allowed' }\n          }}\n          render={({ field }) =>\n            <TextField\n              {...field}\n              error={Boolean(orderNoteError)}\n              id=\"note\"\n              multiline\n              rows={4}\n              placeholder=\"Any notes to add? Could be allergies, less spicy and etc\"\n              variant=\"outlined\"\n            />\n          }\n        />\n        {orderNoteHelperText && <FormHelperText>{orderNoteHelperText}</FormHelperText>}\n      </FormControl>\n    </FormGroupCardWrapper>\n  )\n}\n\ninterface RenderMerchandiseProps {\n  merchant: Merchant | undefined,\n  merchandise: Merchandise | null,\n  onSubmit: SubmitHandler<FormValues>,\n  merchandiseData: MerchandiseApiResponseType | undefined,\n  setQuantity: (arg0: number) => void,\n  quantity: number,\n  coupon?: MerchantCoupon,\n}\n\nconst RenderMerchandiseFab = ({ merchandise, merchandiseData, quantity }: RenderMerchandiseProps) => {\n  const { cart, orderType } = useContext(AppContext);\n  const { visitedMerchant, isMerchantOrderingAvailable } = useContext(VisitedMerchantContext);\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n\n  const quantityUsedWithinCart = pipe(\n    filter(propEq('id', merchandise?.id)),\n    reduce((acc: number, item: CartItemType) => (acc + item.quantity), 0)\n  )(cart)\n  const willBeOverStockLimit = isOverInventoryLimit(merchandise, quantity + quantityUsedWithinCart)\n\n  const isAnyRequiredModifiersUnavailable = pipe(\n    propOr([], 'modiTemplates'),\n    find(propEq('id', merchandise?.modifierTemplateId)),\n    propOr([], 'modifierCategoryIds'),\n    map((i: string) => merchandiseData?.modiCategories.find(propEq('id', Number(i)))),\n    without([undefined, null, '', {}]),\n    filter(propEq('minQuantity', 1)),\n    any((category: MerchandiseModifierCategory) => {\n      return pipe(\n        propOr([], 'modifiers'),\n        filter((x: MerchandiseModifier) => includes(`${x.id}`, category.modifierIds)),\n        all(propEq('available', false))\n      )(merchandiseData)\n    })\n  )(merchandiseData)\n\n  return (\n    <FabContainer alignment='right' fabStyle={{ padding: \"24px 16px 16px\" }} fadeTop={isMobile}>\n      <Fab disabled={!isMerchantOrderingAvailable || Boolean(willBeOverStockLimit) || isAnyRequiredModifiersUnavailable} variant=\"extended\" color=\"primary\" type=\"submit\">\n        <Switch>\n          <Case condition={!isMerchantOrderingAvailable}>{getOfflineMerchantMessage(orderType, visitedMerchant)}</Case>\n          <Case condition={willBeOverStockLimit || isAnyRequiredModifiersUnavailable}>Out of stock</Case>\n          <Default>Add to Cart</Default>\n        </Switch>\n      </Fab>\n    </FabContainer>\n  )\n}\n\nconst RenderModifierForm = (props: RenderMerchandiseProps) => {\n  const { merchant, merchandise, onSubmit, merchandiseData, setQuantity, quantity } = props\n  const { featureFlags } = useContext(AppContext);\n  const { isMerchantOrderingAvailable } = useContext(VisitedMerchantContext);\n  const formMethods = useFormContext()\n\n  return (\n    <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n      <If condition={merchandise && merchandise.modifierTemplateId}>\n        <ModifierTemplate templateId={merchandise?.modifierTemplateId} mercData={merchandiseData} />\n      </If>\n\n      <If condition={enableOrderItemNote(featureFlags) && merchant?.orderingConfig?.enabledNotes === true}>\n        <RenderOrderNoteItem formMethods={formMethods} />\n      </If>\n\n      <If condition={merchandise && isMerchandiseAvailable(merchandise)}>\n        <Then>\n          <If condition={isMerchantOrderingAvailable}>\n            <Then>\n              <div className=\"quantityInput\">\n                <QuantityInput quantity={quantity} minQuantity={1} onQuantityChange={(q) => setQuantity(q)} />\n              </div>\n            </Then>\n          </If>\n          <RenderMerchandiseFab {...props} />\n        </Then>\n        <Else>\n          <CardContent>\n            <RenderSoldOut />\n          </CardContent>\n        </Else>\n      </If>\n    </form>\n  )\n}\n\nconst updateMerchandisePrice = (modifiers: MerchandiseModifiersType, merchandise: Merchandise | null): Merchandise | null => {\n  if (Object.keys(modifiers).length === 0 || !merchandise) {\n    return merchandise;\n  }\n\n  // compute cost of modifiers, all have to be taxable\n  const modifierCost = Object.values(modifiers).reduce((c: number, d: number) => {\n    return c + Number(d)\n  }, 0)\n\n  if (modifierCost > 0) {\n    const merchandiseCopy: Merchandise = { ...merchandise }\n    merchandiseCopy.price = Number(merchandiseCopy.price) + modifierCost\n    return merchandiseCopy\n  } else {\n    return merchandise;\n  }\n}\n\nconst getUpdatedMerchandiseWithPrice = (modifiersList: MerchandiseModifier[] | undefined, selectedModifiers: any, merchandise: Merchandise | null) => {\n  const toModifiers = {}\n  modifiersList?.map((modifier) => {\n    toModifiers[modifier.id] = modifier\n  })\n\n  // Cleanses up modifier data\n  const updatedModifiers: MerchandiseModifiersType = {};\n  const displayOrder: string[] = [];\n  Object\n    .entries(selectedModifiers)\n    .map(([key, value]: any) => {\n      let modifier: MerchandiseModifier | undefined = undefined;\n      if (typeof value === 'boolean') {\n        if (value) {\n          const [order, mid] = key.split('_');\n          modifier = toModifiers[mid]\n          if (order && modifier) {\n            displayOrder.push(modifier.name);\n          }\n        }\n      } else {\n        const [order, cid] = key.split('_');\n        modifier = toModifiers[value];\n        if (order && modifier) {\n          displayOrder.push(modifier.name);\n        }\n      }\n\n      if (modifier)\n        updatedModifiers[modifier?.name] = modifier?.price\n    })\n\n  return { updatedModifiers, updatedMerchandise: updateMerchandisePrice(updatedModifiers, merchandise), modifiersDisplayOrder: displayOrder }\n}\n\ninterface CalculatePerItemRedeemPointsProps {\n  merchandise: Merchandise | null,\n  merchantPointsPerDollar: number,\n  modifiers: MerchandiseModifier[] | undefined,\n  modifierFormValues: FormValues,\n  handlePointsClick: () => void\n}\n\nconst CalculatePerItemEarnedPoints = ({\n  merchantPointsPerDollar,\n  modifierFormValues,\n  modifiers,\n  merchandise,\n  handlePointsClick,\n}: CalculatePerItemRedeemPointsProps) => {\n  const classes = useStyles();\n  const { note, ...selectedModifiers } = modifierFormValues;\n  const { updatedMerchandise } = getUpdatedMerchandiseWithPrice(modifiers, selectedModifiers, merchandise)\n  const totalPoints = Math.round(((updatedMerchandise?.price ?? 0) * merchantPointsPerDollar))\n\n  if (totalPoints === 0) return null\n\n  return (\n    <div className={classes.pointsEarnedContainer} onClick={handlePointsClick}>+{totalPoints}&nbsp;<DiamondIcon color=\"secondary\" /></div>\n  )\n}\n\nconst RenderMerchandise = ({\n  merchant,\n  merchandise,\n  onSubmit,\n  merchandiseData,\n  setQuantity,\n  quantity,\n  coupon,\n}: RenderMerchandiseProps) => {\n  const classes = useStyles();\n  const { featureFlags } = useContext(AppContext)\n  const reduxDispatch = useAppDispatch()\n  const history = useHistory()\n\n  const title = merchandise?.name || \"\"\n  const description = merchandise?.description\n  // const pricePrefix = merchandise?.modifierTemplateId ? \"Starting at \" : \"\";\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n\n  const getPhotos = (photos: string[]) => {\n    const handleDragStart = (e: React.DragEvent<HTMLImageElement>) => e.preventDefault();\n    const items = photos.map((photo, j) => {\n      return (\n        <div className={'item'} key={j}>\n          <img className={'mercPhoto'} src={photo} onDragStart={handleDragStart} />\n        </div>)\n    });\n    return items\n  }\n\n  const merchandisePhotos = useMemo(() => getPhotos(merchandise?.photos || []), [merchandise]);\n\n  const formMethods = useForm<FormValues>({\n    mode: 'onChange',\n    defaultValues: {},\n  });\n\n  const modifierFormValues = formMethods.watch();\n\n  const isRedeem1mPointsEnabled = enableRedeemPoints(featureFlags)\n  const pointsRequiredForRedemption = isRedeem1mPointsEnabled ? getRequiredRedemptionPoints(merchandise, merchant) : 0\n  const numOfReviews = length(propOr([], \"reviews\")(merchandise));\n  const overallRatings = getMerchandiseOverallRatings(merchandise);\n\n  const handlePointsClick = () => {\n    reduxDispatch(setShowRewardsEducationDrawer(true))\n  }\n\n  return (\n    <FullscreenPaper className={classes.root}>\n      <FormProvider {...formMethods} >\n        <Grid container justifyContent=\"space-evenly\" className=\"mercDetails\" elevation={0} component={ColoredPaper}>\n          <Grid item xs={12} md={5}>\n            <WhitePaper elevation={1} className=\"photos-gallery\">\n              <If condition={merchandisePhotos.length === 0}>\n                <Then>\n                  <Typography variant=\"subtitle1\" component='div' className='photos-gallery-blankslate'> No photos to display</Typography>\n                </Then>\n                <Else>\n                  <AliceCarousel\n                    autoHeight\n                    disableButtonsControls\n                    items={merchandisePhotos}\n                    mouseTracking\n                  />\n                </Else>\n              </If>\n              <If condition={isRedeem1mPointsEnabled}>\n                <CalculatePerItemEarnedPoints\n                  merchantPointsPerDollar={merchant?.orderingConfig?.pointsPerDollar ?? 0}\n                  modifierFormValues={modifierFormValues}\n                  modifiers={merchandiseData?.modifiers}\n                  merchandise={merchandise}\n                  handlePointsClick={handlePointsClick}\n                />\n              </If>\n            </WhitePaper>\n          </Grid>\n          <Grid item xs={12} md={5}>\n            <CardHeader\n              title={\n                <div className=\"merchandise-title\">\n                  <Typography variant={isMobile ? \"h6\" : \"h5\"} component=\"div\">\n                    {title}\n                  </Typography>\n                </div>\n              }\n              subheader={\n                <>\n                  <Box sx={{ mb: 1 }}>\n                    <MerchandiseAllergens allergens={merchandise?.ingredientTags} />\n                  </Box>\n                  <Typography variant=\"subtitle1\" gutterBottom color=\"black\" alignItems=\"center\" display=\"flex\">\n                    {merchandise && <MerchandisePrice merchandise={merchandise} coupon={coupon} />}\n                    <If condition={isRedeem1mPointsEnabled && pointsRequiredForRedemption > 0}>\n                      <span className='points-to-redeem-container'>\n                        <CustomizedChip\n                          label={<>{pointsRequiredForRedemption}&nbsp;<DiamondIcon color=\"secondary\" />&nbsp;TO REDEEM</>}\n                          onClick={handlePointsClick}\n                        />\n                      </span>\n                    </If>\n                    <If condition={isMerchandiseStockLow(merchandise)}><RenderLowStockWarning /></If>\n                    <If condition={numOfReviews >= 3} >\n                    <CustomizedChip\n                       color=\"primary\"\n                       label= {(\n                        <Box sx={{ display: \"flex\", alignItems:\"center\" }}>\n                          <StarIcon color=\"primary\" sx={{pr: 0.1}} fontSize=\"small\" />\n                          <Typography variant=\"subtitle1\" >{ overallRatings }</Typography>\n                      </Box> )}\n                       onClick={()=>history.push(`/${merchant?.username}/item/${merchandise?.id}/reviews`)}\n                     />\n                  </If>\n                  </Typography>\n                  <Typography variant=\"subtitle1\" gutterBottom color=\"textSecondary\">\n                    <ReactMarkdown>\n                      {description || ''}\n                    </ReactMarkdown>\n                  </Typography>\n                </>\n              }\n            />\n            <RenderModifierForm\n              setQuantity={setQuantity}\n              quantity={quantity}\n              merchant={merchant}\n              merchandise={merchandise}\n              onSubmit={onSubmit}\n              merchandiseData={merchandiseData}\n            />\n          </Grid>\n        </Grid>\n      </FormProvider>\n    </FullscreenPaper >\n  )\n}\n\ntype MerchandiseDrawerPageProps = {\n  merchant: Merchant,\n  merchandiseId: string | undefined,\n}\n\nconst MerchandiseDrawerPage = (props: MerchandiseDrawerPageProps): React.ReactElement | null => {\n  const { addItemToCart, cartType, setCoupon } = useContext(AppContext)\n  const { visitedMenu } = useContext(VisitedMerchantContext);\n  const { user } = useContext(UserContext)\n  const history = useHistory();\n  const location = useLocation<{ from: { pathname: string } }>();\n\n  const [quantity, setQuantity] = useState<number>(1);\n  const [merchandiseData, setMerchandiseData] = useState<MerchandiseApiResponseType | undefined>()\n\n  const { merchant, merchandiseId } = props;\n  const showDrawer = Boolean(merchandiseId);\n\n  const merchandises = merchandiseData?.merchandises\n  const merchandise = merchandises ? merchandises[0] : null\n  const playNotificationSound = isNotificationSoundEnabled(user);\n\n  const promotion = head(merchant?.promotions || []);\n  const coupon = head(promotion?.coupons || []);\n\n  const [{ loading }, fetchMerchandise] = useAxios<MerchandiseApiResponseType>(\n    { url: '/merchandises' }, { manual: true }\n  )\n\n  const isReviewPageActive = location.pathname.endsWith(\"reviews\");\n\n  useEffect(() => {\n    if (!isEmptyOrNil(merchandiseId)) {\n      const match = visitedMenu?.merchandises.find((item) => item.id === merchandiseId)\n      if (visitedMenu && match) {\n        setMerchandiseData({\n          ...visitedMenu,\n          merchandises: [match],\n        });\n      } else {\n        fetchMerchandise({\n          params: { id: merchandiseId }\n        }).then((response) => setMerchandiseData(response.data))\n      }\n    } else {\n      setMerchandiseData(undefined);\n    }\n  }, [merchandiseId])\n\n  /**\n  * On click header back event handler.\n  */\n  const handleBack = (): void => {\n    const merchantUserName = merchant.username;\n    const queryParam = pathOr(false, ['state', 'sanMateo'], location) ? '?sanMateo=true' : ''\n\n    history.replace(`/${merchantUserName}${queryParam}`);\n  }\n\n  const onSubmit: SubmitHandler<FormValues> = (data: FormValues) => {\n    if (quantity < 1) {\n      return\n    }\n\n    const { note, ...selectedModifiers } = data\n    const { updatedMerchandise, updatedModifiers, modifiersDisplayOrder } = getUpdatedMerchandiseWithPrice(merchandiseData?.modifiers, selectedModifiers, merchandise)\n\n    if (updatedMerchandise) {\n      const cartItem = {\n        ...updatedMerchandise,\n        quantity,\n        ...(isEmptyOrNil(updatedMerchandise.modifierTemplateId) ? {\n          modifiersSignature: undefined\n        } : {\n          modifiers: updatedModifiers,\n          modifiersDisplayOrder\n        }),\n        ...(!isEmptyOrNil(note) && { note }),\n      } as CartItemType;\n\n      addItemToCart(\n        cartItem,\n        merchant,\n      );\n\n      if (merchandise && isCouponValidOnMerchandise(merchandise, coupon)) {\n        setCoupon(coupon);\n      }\n\n      // play audio to confirm adding to cart\n      const notifAudio = document.getElementById('app_add_to_cart_audio') as HTMLAudioElement;\n      notifAudio && playNotificationSound && repeatAudio(notifAudio, 1);\n\n      // navigate to merchant page\n      handleBack();\n    }\n  }\n\n  if (!merchandiseId) {\n    return null;\n  }\n\n  return (\n    <Drawer\n      anchor=\"bottom\"\n      open={showDrawer}\n      onClose={handleBack}\n      ModalProps={{ keepMounted: true }}\n    >\n      <div className=\"container\">\n        <PageHeader\n          title={isAddingItemToOpenTab(cartType) ? \"Add Items to Order\" : \"\"}\n          hideOnScroll={false}\n          leftChild={<BackButton onBack={handleBack} />}\n        />\n        <SimpleLoader loading={loading} />\n        <If condition={Boolean(merchandise)}>\n          <RenderMerchandise\n            setQuantity={setQuantity}\n            quantity={quantity}\n            merchant={merchant}\n            merchandise={merchandise}\n            onSubmit={onSubmit}\n            coupon={coupon}\n            merchandiseData={merchandiseData} />\n        </If>\n      </div>\n      <If condition={isReviewPageActive}>\n         <MerchandiseReviewsDrawerPage merchant={merchant} merchandise={merchandise}  />\n      </If>\n    </Drawer>\n  );\n}\n\nexport default MerchandiseDrawerPage;","import { Merchandise } from \"./MerchandiseType\";\nimport { Merchant } from \"./MerchantType\";\n\nexport type ClassifiedDetailsType = {\n  key: string,\n  name: string,\n  oneliner: string,\n  displayOrder: number\n}\n\nexport enum ClassifiedType {\n  merchant = \"merchant\",\n  merchandise = \"merchandise\"\n}\n\nexport enum ClassifiedKey {\n  hotDeal = \"hot_deal\",\n  hotItem = \"hot_item\",\n  bigSavings = \"big_savings\",\n  exclusive = \"exclusive\",\n  localGem = \"local_gem\"\n}\n\nexport type ClassifiedEntry = {\n  type: ClassifiedType,\n  valueType: 'percentage' | 'absolute',\n  value: number,\n  details: ClassifiedDetailsType,\n  merchandise: Merchandise | null,\n  merchant: Merchant | null,\n  oneliner: string | null\n}\n\nexport type ClassifiedsApiResponseType = {\n  [key: string]: ClassifiedEntry[]\n}","import React, { useEffect, useState } from 'react';\nimport { Typography, CardContent, makeStyles, Theme, createStyles, CardMedia, Toolbar, useMediaQuery, Button } from '@material-ui/core';\nimport ReactHtmlParser from 'react-html-parser';\nimport { head } from 'ramda';\n\nimport { Merchant } from '../../bos_common/src/types/MerchantType';\n\nimport { useAppSelector } from '../../redux/hooks';\nimport { getUserMerchantPromotionEntries } from '../../redux/slice/marketPlace/marketPlaceSelector';\nimport { isEmptyOrNil } from '../../utils';\nimport { UserPromotionEntry } from '../../services/models';\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from '../../services/localStorage';\nimport BottomDrawer from '../../bos_common/src/components/BottomDrawer';\nimport { differenceInMinutes } from 'date-fns';\nimport PromotionIllustration from \"../../assets/images/congratulations-rewards.svg\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      '& .drawerImageWrapper': {\n        textAlign: \"center\",\n        paddingTop: \"10px\",\n        paddingBottom: \"10px\",\n      },\n      '& .drawerImage': {\n        height: 200,\n        objectFit: \"cover\",\n        margin: \"auto\",\n      },\n      '& .drawerTitle': {\n        textAlign: 'center'\n      },\n      '& .content': {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n\n        '& .content-container': {\n          display: 'flex',\n          justifyContent: 'center',\n          flexDirection: 'column',\n        },\n      }\n    },\n    promoContent: {\n      maxWidth: 400,\n      textAlign: 'center',\n      '& .action-btn': {\n        width: '100%',\n        marginTop: theme.spacing(2)\n      },\n    },\n  }),\n);\n\ninterface PromoContentProps {\n  setOpen: (_: boolean) => void,\n  promotionEntry: UserPromotionEntry | undefined\n}\n\nconst PromoContent = ({ setOpen, promotionEntry }: PromoContentProps) => {\n  if (!promotionEntry) return null\n\n  const classes = useStyles()\n  const { treatment } = promotionEntry\n\n  return (\n    <div className={classes.promoContent}>\n      <Typography gutterBottom variant=\"subtitle1\" color=\"textSecondary\" component=\"div\" textAlign=\"center\">\n        {ReactHtmlParser(treatment.description)}\n      </Typography>\n      <Button\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={() => setOpen(false)}\n        className=\"action-btn\"\n      >\n        Done\n      </Button>\n    </div >\n  )\n}\n\ntype MerchantPromotionsDrawer = {\n  merchant: Merchant | undefined,\n}\n\nconst MerchantPromotionsDrawer = ({ merchant }: MerchantPromotionsDrawer): React.ReactElement | null => {\n  const classes = useStyles()\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const [open, setOpen] = useState<boolean>(false)\n  const promotionEntries = merchant ? useAppSelector(getUserMerchantPromotionEntries(merchant.id)) : undefined;\n  const promotionEntry: UserPromotionEntry | undefined = promotionEntries ? head(promotionEntries) : undefined;\n\n  useEffect(() => {\n    if (isEmptyOrNil(promotionEntry) || !merchant) return\n\n    const storageKey = LOCALSTORAGE_MARKETPLACE_APP_KEYS.PROMO_MERCHANT_DRAWER;\n    const localStorageData = localStorage.getItem(storageKey) ?? \"\"\n    const visitedDrawers = isEmptyOrNil(localStorageData)\n      ? {}\n      : JSON.parse(localStorageData)\n\n    const lastDateStr = visitedDrawers[merchant.id];\n    if (lastDateStr) {\n      const lastTime = Date.parse(lastDateStr);\n      if (differenceInMinutes(new Date(), lastTime) < 24 * 60) {\n        return;\n      }\n    }\n\n    visitedDrawers[merchant.id] = new Date().toISOString();\n    localStorage.setItem(storageKey, JSON.stringify(visitedDrawers))\n\n    setOpen(true);\n  }, [promotionEntry])\n\n  return (\n    <BottomDrawer\n      open={open}\n      setOpen={setOpen}\n    >\n      <div className={classes.drawer}>\n        <CardMedia className=\"drawerImageWrapper\">\n          <img src={PromotionIllustration} width={150} className=\"drawerImage\" />\n        </CardMedia>\n        <CardContent className='content'>\n          {promotionEntry?.treatment.title && (\n            <Typography variant=\"h6\" className=\"drawerTitle\" component=\"div\">\n              {promotionEntry.treatment.title}\n            </Typography>\n          )}\n          {\n            promotionEntry?.treatment.description &&\n            <div className=\"content-container\">\n              <PromoContent setOpen={setOpen} promotionEntry={promotionEntry} />\n            </div>\n          }\n        </CardContent>\n      </div>\n    </BottomDrawer>\n  )\n}\n\nexport default MerchantPromotionsDrawer;","import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Fab, Badge, Theme, useMediaQuery, makeStyles, createStyles } from \"@material-ui/core\";\nimport { ShoppingCart } from \"@material-ui/icons\";\nimport { Else, If, Then } from \"react-if\";\nimport useAxios from \"axios-hooks\";\nimport qs from 'qs';\n\nimport { FullscreenPaper } from '../bos_common/src/components/Papers';\nimport { FabContainer } from \"../bos_common/src/components/FabContainers\";\nimport SimpleLoader from \"../bos_common/src/components/SimpleLoader\";\nimport { AppContext } from \"../context/AppContext\";\nimport { Merchant, MerchantQRCode, OrderType, QRCodeType } from \"../services/models\";\nimport { getTotalItems } from \"../services/cartUtils\";\nimport { captureClickEvent, EVENT_TYPES } from \"../services/Tracking/EventsTracking\";\n\nimport PageHeader from \"../components/common/PageHeader\";\nimport MerchantMenu from \"../components/MerchantMenu/MerchantMenu\";\nimport OrderOptionsGroup from \"../components/Order/OrderOptionsGroup\";\nimport MerchantInfoHeader from \"../components/MerchantInfo/MerchantInfoHeader\";\nimport ShoppingCartDrawer from \"../components/ShoppingCart/ShoppingCartDrawer\";\nimport RenderOfflineMerchantDrawer from \"../components/MerchantOfflineDrawer\";\nimport { getOfflineMerchantMessage, isEmptyOrNil, isKioskDevice, isAddingItemToOpenTab } from \"../utils\";\nimport ShoppingCartContextProvider from \"../context/ShoppingCart/ShoppingCartContextProvider\";\nimport BackButton from \"../components/common/BackButton\";\nimport NoneExistPage from \"./NoneExistPage\";\nimport { VisitedMerchantContext } from \"../context/VisitedMerchantContext/VisitedMerchantContext\";\n\nimport MerchandiseDrawerPage from './MerchandiseDrawerPage'\nimport MerchantPromotionsDrawer from \"../components/common/MerchantPromotionsDrawer\";\nimport { useAppSelector } from \"../redux/hooks\";\nimport { getUser } from \"../redux/slice/auth/authSelector\";\nimport PromotionButton from \"../components/Promotions/PromotionButton\";\n\ninterface IMerchantPageParams {\n  merchantUserName: string,\n  merchandiseId?: string,\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    totalCartItems: {\n      '& .MuiBadge-badge': {\n        color: theme.palette.background.paper,\n        fontWeight: \"bold\"\n      }\n    }\n  })\n);\n\nconst MerchantPage = (): React.ReactElement => {\n  const history = useHistory()\n  const location = useLocation<{ from: { pathname: string } }>();\n  const user = useAppSelector(getUser);\n\n  const classes = useStyles();\n\n  const isKioskModeEnabled = isKioskDevice();\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const { merchantUserName, merchandiseId } = useParams<IMerchantPageParams>()\n\n  const { cart, orderType, setOrderType, cartType } = useContext(AppContext)\n  const { setVisitedMerchant, isMerchantOrderingAvailable } = useContext(VisitedMerchantContext)\n  const [showCart, setShowCart] = useState<boolean>(false)\n\n  const [{ data: merchant, loading }] = useAxios<Merchant>(\n    { url: '/merchants', params: { username: merchantUserName } }\n  )\n  const tableQueryParam = new URLSearchParams(location.search).get(\"tableid\")\n\n  useEffect(() => {\n    if (loading) return\n    merchant && setVisitedMerchant(merchant);\n\n    if (!isEmptyOrNil(tableQueryParam) && merchant) {\n      const tableQrObject = merchant?.qrCodes?.find((i: MerchantQRCode) => `${i.id}` === `${tableQueryParam}`)\n      const oType = tableQrObject?.type === QRCodeType.Table ? OrderType.DINEIN : OrderType.PICKUP\n      setOrderType(oType, tableQrObject);\n    }\n  }, [tableQueryParam, merchant, loading])\n\n  if (!merchant && !loading) {\n    return <NoneExistPage title={<>Merchant&nbsp;<b>{merchantUserName}</b>&nbsp;not found</>} />\n  }\n\n  const RenderMerchantFab = () => {\n    const openShoppingCart = () => {\n      if (isKioskModeEnabled) {\n        setShowCart(true)\n      } else {\n        history.push({ pathname: \"/cart\", state: { from: `/${merchantUserName}` } })\n      }\n      captureClickEvent({\n        category: EVENT_TYPES.VISITED_SHOPPING_CART,\n        data: { merchant, user }\n      })\n    }\n\n    return (\n      <FabContainer\n        alignment='right'\n        fabStyle={{ padding: \"24px 16px 16px\" }}\n        fadeTop={isMobile}>\n        <div>\n          <If condition={!isMobile}>\n            <PromotionButton merchant={merchant} />\n          </If>\n          <Fab\n            disabled={!isMerchantOrderingAvailable}\n            variant=\"extended\"\n            color=\"primary\"\n            onClick={openShoppingCart}\n          >\n            <If condition={isMerchantOrderingAvailable}>\n              <Then>\n                <>\n                  <Badge\n                    badgeContent={getTotalItems(cart)}\n                    className={classes.totalCartItems}\n                    sx={{ fontWeight: \"bold\", color: \"#fff\", marginRight: \"8px\" }}>\n                    <ShoppingCart />\n                  </Badge>\n                  {'Shopping Cart'}\n                </>\n              </Then>\n              <Else>{getOfflineMerchantMessage(orderType, merchant)}</Else>\n            </If>\n          </Fab >\n        </div>\n      </FabContainer>\n    )\n  }\n\n  /**\n  * On click header back event handler.\n  */\n  const handleBack = (): void => {\n    const params = qs.parse(location.search, { ignoreQueryPrefix: true })\n    if (params.sanMateo === 'true') {\n      history.replace('/sanmateo')\n      return\n    }\n\n    location.state?.from\n      ? history.goBack()\n      : history.push(`/`);\n  }\n\n  return (\n    <div className=\"container\">\n      {!isKioskModeEnabled && (\n        <PageHeader\n          title={isAddingItemToOpenTab(cartType) ? \"Add Items to Order\" : !loading && <OrderOptionsGroup merchant={merchant} />}\n          leftChild={<BackButton onBack={handleBack} />}\n        />)}\n      <SimpleLoader loading={loading} />\n      {merchant &&\n        <FullscreenPaper>\n          <MerchantInfoHeader merchant={merchant} />\n          <MerchantMenu merchant={merchant} />\n          <RenderOfflineMerchantDrawer merchant={merchant} />\n          <RenderMerchantFab />\n          <If condition={isKioskModeEnabled}>\n            <ShoppingCartContextProvider>\n              <ShoppingCartDrawer showCart={showCart} setShowCart={setShowCart} />\n            </ShoppingCartContextProvider>\n          </If>\n          <MerchandiseDrawerPage\n            merchant={merchant}\n            merchandiseId={merchandiseId}\n          />\n          <MerchantPromotionsDrawer merchant={merchant} />\n        </FullscreenPaper>\n      }\n    </div >\n  );\n}\n\nexport default MerchantPage;","import React, { useContext } from \"react\";\nimport { Alert, makeStyles, Theme, createStyles, Fab } from \"@material-ui/core\";\nimport { Else, If, Then } from \"react-if\";\n\n// src\nimport { AppContext } from \"../../context/AppContext\";\nimport { isEmptyOrNil, isKioskDevice } from \"../../utils\";\nimport { ShoppingCartContext } from \"../../context/ShoppingCart/ShoppingCartContext\";\nimport { captureClickEvent, EVENT_TYPES } from \"../../services/Tracking/EventsTracking\";\nimport { useAppSelector } from \"../../redux/hooks\";\nimport { getUser } from \"../../redux/slice/auth/authSelector\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: '#F7931E !important',\n    },\n  }),\n);\n\nconst PointsRedemptionButton = () => {\n  const user = useAppSelector(getUser);\n  const { cart, redeemItems, cancelRedemption, merchantConfig } = useContext(AppContext);\n  const { pointsRedeemedInfo, appliedRedemption, setApplyRedemption } = useContext(ShoppingCartContext);\n\n  const isKioskModeEnabled = isKioskDevice()\n  if (isEmptyOrNil(cart) || pointsRedeemedInfo.redeemPointsToBeApplied < 1 || isKioskModeEnabled) return null\n\n  const classes = useStyles();\n  const handleClick = (checked: boolean) => {\n    setApplyRedemption(checked)\n\n    if (checked) {\n      redeemItems(pointsRedeemedInfo.items)\n    } else {\n      cancelRedemption();\n    }\n\n    captureClickEvent({\n      category: EVENT_TYPES.ORDER_1M_POINTS,\n      data: {\n        merchant: merchantConfig?.merchant,\n        user,\n      },\n      label: checked ? 'Applied 1m Points' : 'Removed 1m Points'\n    })\n  }\n\n  return (\n    <If condition={appliedRedemption}>\n      <Then>\n        <Fab color=\"primary\" variant=\"extended\" size=\"large\" onClick={() => handleClick(false)} className={classes.root}>\n          Cancel 1M points redemption\n        </Fab>\n      </Then>\n      <Else>\n        <Fab color=\"primary\" variant=\"extended\" size=\"large\" onClick={() => handleClick(true)} className={classes.root}>\n          Apply 1M points to save ${pointsRedeemedInfo.redeemAmount}\n        </Fab>\n      </Else>\n    </If>\n  )\n}\n\nexport default PointsRedemptionButton","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport {\n  Alert, CardContent, Divider, Theme, Fab,\n  useMediaQuery, SwipeableDrawer, Toolbar, Typography, Button\n} from \"@material-ui/core\";\nimport { CreditCard } from \"@material-ui/icons\";\nimport { If, Then, Else, Switch, Case, Default } from 'react-if';\n\nimport { getCartDiscountedAmount, getTotalItems, getTotalPrice } from \"../services/cartUtils\";\nimport { AppContext, CartItemType } from \"../context/AppContext\";\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { MultiFabContainer } from \"../bos_common/src/components/FabContainers\";\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\nimport renderPrice from \"../bos_common/src/components/Price\";\n\nimport CartItems from \"../components/ShoppingCart/CartItems\";\nimport BackButton from \"../components/common/BackButton\";\nimport TipOptions from \"../components/ShoppingCart/TipOptions\";\nimport ShoppingCartHeader from \"../components/ShoppingCart/ShoppingCartHeader\";\nimport CartSummary from \"../components/ShoppingCart/CartSummary\";\nimport ShoppingCartCouponInput from \"../components/ShoppingCart/ShoppingCartCouponInput\";\nimport PointsRedemptionButton from \"../components/ShoppingCart/PointsRedemptionButton\";\nimport {\n  enableRedeemPoints,\n  isEmptyOrNil,\n  isKioskDevice,\n  isStoreOpen,\n  toFixed2,\n  getRequiredRedemptionPoints,\n  isOpenCheckEnabled,\n  isAddingItemToOpenTab,\n  isDineInPaymentDisabled\n} from \"../utils\";\nimport { ShoppingCartContext } from \"../context/ShoppingCart/ShoppingCartContext\";\nimport { isCouponEnabled } from \"../bos_common/src/services/featureFlagUtils\";\nimport { OrderType } from \"../services/models\";\nimport SignupDrawer, { SignupEntrance } from \"../components/User/SignupDrawer\";\nimport { CartBagItemCart } from \"../components/ShoppingCart/CartBagItemCard\";\nimport { OrderPickupTypeOptions } from \"../components/ShoppingCart/OrderPickupTypeOptions\";\nimport { captureClickEvent, EVENT_TYPES } from \"../services/Tracking/EventsTracking\";\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from \"../services/localStorage\";\n\nconst zeroCurrencyRegExpt = new RegExp(/(\\$)0.0+/, 'gi');\n\nconst RenderPickUpCartContent = ({ isValidPickupTime }: { isValidPickupTime: boolean }) => {\n  const history = useHistory();\n  const { featureFlags, merchantConfig, cart, tip, coupon } = useContext(AppContext)\n  const { soldoutItems, clearSoldOutItems, setShoppingBagError } = useContext(ShoppingCartContext);\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const { orderingConfig } = merchantConfig?.merchant || {};\n\n  const cartItemCardRef = useRef<HTMLElement>();\n\n  const count = getTotalItems(cart);\n  const total = getTotalPrice({ cart, tip, coupon, orderingConfig });\n\n  const handleContinuePaymentClick = () => {\n    if (orderingConfig?.carryoutBag && !sessionStorage.getItem(LOCALSTORAGE_MARKETPLACE_APP_KEYS.CARRYOUT_BAG_CHOSEN)) {\n      setShoppingBagError(true);\n      const offset = cartItemCardRef?.current?.getBoundingClientRect();\n      const top = offset?.top;\n      window.scrollTo({\n        top: (Number(top) - 140),\n        behavior: 'smooth',\n      })\n    } else {\n      history.push(\"/checkout\");\n    }\n  }\n\n  const RenderFabCTA = () => {\n    const areCartItemsOutOfOrder = !isEmptyOrNil(soldoutItems);\n    const price = renderPrice(total);\n\n    return (\n      <MultiFabContainer fabStyle={{ padding: \"24px 0 16px\" }} fadeTop={isMobile}>\n        <Switch>\n          <Case condition={areCartItemsOutOfOrder}>{() =>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" onClick={clearSoldOutItems}>\n              Clear unavailable items\n            </Fab>}\n          </Case>\n          <Case condition={count < 1}>{() =>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" disabled>\n              No items to checkout\n            </Fab>}\n          </Case>\n          <Case condition={!isValidPickupTime}>{() =>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" disabled>\n              Schedule your pickup\n            </Fab>}\n          </Case>\n          <Default>{() =>\n            <>\n              <PointsRedemptionButton />\n              <Fab\n                color=\"primary\"\n                variant=\"extended\"\n                size=\"large\"\n                onClick={handleContinuePaymentClick}\n              >\n                <CreditCard fontSize=\"large\" />&nbsp;\n                {zeroCurrencyRegExpt.test(price) ? `Checkout ${price}` : `Continue to Payment ${price}`}\n              </Fab>\n            </>}\n          </Default>\n        </Switch>\n      </MultiFabContainer>\n    )\n  }\n\n  return (\n    <CardContent className={\"content\"}>\n      <If condition={count === 0}>\n        <Then>\n          <Alert severity=\"error\">\n            {\"You don't have any item in your cart\"}\n          </Alert>\n        </Then>\n        <Else>\n          <CartItems />\n          <CartBagItemCart cartItemCardRef={cartItemCardRef} />\n          <OrderPickupTypeOptions />\n          <TipOptions />\n          <If condition={isCouponEnabled(featureFlags)}>\n            <ShoppingCartCouponInput />\n          </If>\n          <Divider />\n          <CartSummary />\n        </Else>\n      </If>\n      <RenderFabCTA />\n    </CardContent>\n  )\n}\n\nconst RenderDineInCartContent = (props: {\n  isValidPickupTime: boolean,\n  isCheckoutPage: boolean\n}) => {\n  const { isValidPickupTime = false, isCheckoutPage = false } = props\n  const history = useHistory()\n  const { cart, merchantConfig, tip, coupon, featureFlags, cartType } = useContext(AppContext)\n  const { soldoutItems, clearSoldOutItems } = useContext(ShoppingCartContext)\n  const [showSignup, setShowSignup] = useState<boolean>(false)\n  const [showPayOptionsDrawer, togglePayOptionsDrawer] = useState<boolean>(false)\n  const { user } = useContext(UserContext)\n\n  const count = getTotalItems(cart)\n  const total = getTotalPrice({ cart, tip, coupon, orderingConfig: merchantConfig?.merchant.orderingConfig })\n  const isDisabled = !isValidPickupTime || count < 1\n  const isOpenCheckCart = !isCheckoutPage && isOpenCheckEnabled(merchantConfig?.merchant)\n\n  const isPaymentDisabledForDineIn = isDineInPaymentDisabled(merchantConfig?.merchant);\n\n  const handleOpenCheckOrderCheckout = () => {\n    togglePayOptionsDrawer(false)\n    if (isEmptyOrNil(user)) {\n      setShowSignup(true)\n    } else {\n      history.push(\"/place-open-check-order\")\n    }\n  }\n\n  const handleOrderCheckout = () => {\n    captureClickEvent({\n      category: EVENT_TYPES.ORDER_CHECKOUT_STARTED,\n      data: {\n        merchant: merchantConfig?.merchant,\n        user\n      }\n    })\n\n    history.push(\"/checkout\")\n  }\n\n  const RenderFabCTA = () => {\n    const areCartItemsOutOfOrder = !isEmptyOrNil(soldoutItems);\n\n    return (\n      <MultiFabContainer>\n        <Switch>\n          <Case condition={areCartItemsOutOfOrder}>{() =>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" onClick={clearSoldOutItems}>\n              Clear unavailable items\n            </Fab>}\n          </Case>\n          <Case condition={count < 1}>{() =>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" disabled>\n              No items to checkout\n            </Fab>}\n          </Case>\n          <Case condition={isOpenCheckCart && isAddingItemToOpenTab(cartType)}>{() =>\n            <Fab\n              color=\"primary\"\n              variant=\"extended\"\n              size=\"large\"\n              onClick={() => history.push(\"/place-open-check-order\")}>\n              Add to Open Tab\n            </Fab>}\n          </Case>\n          <Case condition={isOpenCheckCart && !isAddingItemToOpenTab(cartType)}>{() =>\n            <Fab\n              color=\"primary\"\n              variant=\"extended\"\n              size=\"large\"\n              onClick={() => isPaymentDisabledForDineIn ? handleOpenCheckOrderCheckout() : togglePayOptionsDrawer(true)}>\n              {\n                isPaymentDisabledForDineIn ? \"Open a Tab and Pay Later\" : `Continue to payment ${renderPrice(total)}`\n              }\n            </Fab>}\n          </Case>\n          <Case condition={!isOpenCheckCart && isPaymentDisabledForDineIn}>{() =>\n            <Alert severity=\"warning\">\n              {\"Online payment is not supported at this store. Please checkout at the counter or ask for paper check.\"}\n            </Alert>}\n          </Case>\n          <Case condition={!isValidPickupTime}>{() =>\n            <Fab color=\"primary\" variant=\"extended\" size=\"large\" disabled>\n              Schedule your pickup\n            </Fab>}\n          </Case>\n          <Default>{() =>\n            <>\n              <PointsRedemptionButton />\n              <Fab\n                color=\"primary\"\n                variant=\"extended\"\n                size=\"large\"\n                disabled={isDisabled}\n                onClick={handleOrderCheckout}\n              >\n                {`Continue to payment ${renderPrice(total)}`}\n              </Fab>\n            </>}\n          </Default>\n        </Switch>\n      </MultiFabContainer>\n    )\n  }\n\n  const PayOptionsDrawer = () => {\n\n\n    const handlePayNowClick = () => {\n      togglePayOptionsDrawer(false)\n      history.push(\"/dine-in-cart\")\n    }\n\n    return (\n      <SwipeableDrawer\n        variant=\"temporary\"\n        ModalProps={{\n          keepMounted: false,\n        }}\n        anchor={'bottom'}\n        open={showPayOptionsDrawer}\n        onOpen={() => togglePayOptionsDrawer(true)}\n        onClose={() => togglePayOptionsDrawer(false)}\n      >\n        <ColoredPaper\n          role=\"presentation\"\n          className=\"toolbarWrapper\"\n        >\n          <Toolbar className=\"toolbar\" sx={{ justifyContent: 'center' }}>\n            <Typography variant=\"h6\" className=\"drawerTitle\" component=\"div\">\n              How do you want to pay?\n            </Typography>\n          </Toolbar>\n          <CardContent sx={{ display: 'flex', justifyContent: 'center', flexDirection: 'column', alignItems: 'center' }}>\n            <Button\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"large\"\n              disabled={isDisabled}\n              onClick={handlePayNowClick}\n              sx={{ maxWidth: 550, marginBottom: 1 }}\n              fullWidth\n            >\n              Pay Now\n            </Button>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              size=\"large\"\n              disabled={isDisabled}\n              onClick={handleOpenCheckOrderCheckout}\n              sx={{ maxWidth: 550 }}\n              fullWidth\n            >\n              Open a Tab and Pay Later\n            </Button>\n          </CardContent>\n        </ColoredPaper>\n      </SwipeableDrawer>\n    )\n  }\n\n  return (\n    <CardContent className={\"content\"}>\n      <If condition={count === 0}>\n        <Then>\n          <Alert severity=\"info\">\n            {\"You don't have any item in your cart\"}\n          </Alert>\n        </Then>\n        <Else>\n          <CartItems />\n          <Divider />\n          {!isOpenCheckCart &&\n            <>\n              <TipOptions />\n              <If condition={isCouponEnabled(featureFlags) && !isPaymentDisabledForDineIn}>\n                <ShoppingCartCouponInput />\n              </If>\n              <Divider />\n            </>\n          }\n          <CartSummary />\n        </Else>\n      </If>\n      <RenderFabCTA />\n      <SignupDrawer\n        open={showSignup}\n        setOpen={setShowSignup}\n        redirectAfterSignup=\"/place-open-check-order\"\n        entrance={SignupEntrance.PLACE_ORDER}\n      />\n      <PayOptionsDrawer />\n    </CardContent>\n  )\n}\n\nconst ShoppingCartPage = ({ isCheckoutPage = false }: { isCheckoutPage?: boolean }): React.ReactElement => {\n  const { cart, merchantConfig, featureFlags, pickupTime, orderType, cartType, openCheckOrder, coupon } = useContext(AppContext);\n  const { pointsRedeemedInfo, setPointsRedemptionInfo } = useContext(ShoppingCartContext);\n  const { user } = useContext(UserContext);\n\n  const isRedeem1mPointsEnabled = enableRedeemPoints(featureFlags);\n  const isKioskModeEnabled = isKioskDevice();\n\n  const isValidPickupTime = isStoreOpen(merchantConfig?.merchant, pickupTime ? new Date(pickupTime) : new Date())\n  const isDineInOrderType = orderType === OrderType.DINEIN\n\n  const calculateAmountForRedeemedItems = () => {\n    let hasChanged = false;\n    let userWalletPoints = user?.wallet?.points || 0\n    let redeemAmount = 0;\n    let redeemPoints = 0;\n    let couponAmount = getCartDiscountedAmount(cart, coupon);\n\n    const redeemedCartItems = cart.map((item: CartItemType) => {\n      const pointsPerItem = getRequiredRedemptionPoints(item, merchantConfig?.merchant)\n      let quantityRedeemed = 0;\n\n      for (let i = 0; i < item.quantity; i++) {\n        let remainingPrice = Number(item.price);\n        if (couponAmount > 0) {\n          // minus coupon values first\n          const toRedeemCouponAmount = Math.min(couponAmount, remainingPrice);\n          couponAmount = couponAmount - toRedeemCouponAmount;\n          remainingPrice = remainingPrice - toRedeemCouponAmount;\n        }\n\n        const remainingPointsToRedeem = remainingPrice / item.price * pointsPerItem;\n        if (remainingPointsToRedeem > 0) {\n\n          const toRedeemPoints = Math.min(userWalletPoints, remainingPointsToRedeem);\n          userWalletPoints -= toRedeemPoints;\n          redeemPoints += toRedeemPoints;\n          redeemAmount += toRedeemPoints / pointsPerItem * item.price;\n          quantityRedeemed += (toRedeemPoints / pointsPerItem);\n        }\n      }\n      return {\n        ...item,\n        quantityRedeemed: quantityRedeemed,\n      }\n    });\n\n    if (redeemPoints !== pointsRedeemedInfo.redeemPointsToBeApplied || redeemAmount !== pointsRedeemedInfo.redeemAmount) {\n      hasChanged = true;\n    }\n\n    if (hasChanged) {\n      // This will update the cart, which will call this method again, to avoid infinite loops, we need to check for actual change\n      setPointsRedemptionInfo({\n        redeemPointsToBeApplied: redeemPoints,\n        redeemAmount: toFixed2(redeemAmount),\n        items: redeemedCartItems,\n      })\n    }\n  }\n\n  useEffect(() => {\n    if (!isEmptyOrNil(user) && !isKioskModeEnabled && isRedeem1mPointsEnabled) {\n      calculateAmountForRedeemedItems()\n    }\n  }, [user, cart, isRedeem1mPointsEnabled, coupon])\n\n  const title = isAddingItemToOpenTab(cartType)\n    ? \"Add Items to Order\"\n    : openCheckOrder ?\n      `Check from ${merchantConfig?.merchant?.officialName ?? 'Store'}` :\n      `Shopping Cart`\n\n  return (\n    <div className=\"container\">\n      <ShoppingCartHeader\n        leftChild={<BackButton />}\n        orderType={orderType}\n        title={title}\n        merchant={merchantConfig?.merchant} />\n      <ColoredPaper>\n        <If condition={isDineInOrderType}>\n          <Then><RenderDineInCartContent isValidPickupTime={isValidPickupTime} isCheckoutPage={isCheckoutPage} /></Then>\n          <Else><RenderPickUpCartContent isValidPickupTime={isValidPickupTime} /></Else>\n        </If>\n      </ColoredPaper>\n    </div>\n  )\n}\n\nexport default ShoppingCartPage;","export default __webpack_public_path__ + \"static/media/logo.d757706f.svg\";","import { Box, Button, Chip, IconButton, styled } from \"@material-ui/core\"\nimport { rgba } from \"polished\"\n\nexport const CardHighlightChip = styled(Chip)(({ theme }) => ({\n  border: 0,\n\n  '&.MuiChip-filled': {\n    boxShadow: '0px 3px 6px rgba(0, 0, 0, 0.07)',\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 12,\n    height: 'auto',\n    padding: theme.spacing(.5),\n\n    '& .MuiChip-label': {\n      whiteSpace: 'break-spaces',\n      textTransform: 'none',\n\n      '& .ellipsized-label': {\n        display: 'grid',\n        gridTemplateColumns: '15px 1fr',\n        gridColumnGap: '5px',\n\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n    }\n  }\n}))\n\nexport const StyledGreenChip = styled(CardHighlightChip)(({ theme }) => ({\n  '&.MuiChip-filled': {\n    backgroundColor: '#22AC38',\n  }\n}))\n\nexport const StyledGreyChip = styled(CardHighlightChip)(({ theme }) => ({\n  '&.MuiChip-filled': {\n    backgroundColor: theme.palette.grey[400],\n    borderRadius: theme.spacing(0.5),\n    '& .MuiChip-label': {\n      padding: 0,\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      maxWidth: '70px',\n    }\n  }\n}))\n\nexport const StyledExpenseChip = styled(StyledGreyChip)(({ theme }) => ({\n  '&.MuiChip-filled': {\n    backgroundColor: '#F8B62D',\n    \n    '& .MuiChip-label': {\n      whiteSpace: \"nowrap\",\n    }\n  },\n\n}))\n\nexport const CarousellNavigationButton = styled(IconButton)(({ theme }) => ({\n  '&.MuiButtonBase-root': {\n    border: '1px solid'\n  }\n}))\n\nexport const CarousellWrapper = styled(Box)(({ theme }) => ({\n  '& .alice-carousel__prev-btn, & .alice-carousel__next-btn': {\n    position: 'absolute',\n    top: -60,\n    width: 50,\n    zIndex: 10,\n  },\n  '& .alice-carousel__prev-btn': {\n    right: 55,\n  },\n  '& .alice-carousel__next-btn': {\n    right: 0,\n  },\n}))\n\nexport const CarousellItemWrapper = styled(Box)(({ theme }) => ({\n  '& .MuiPaper-root': { m: 0 },\n  width: 230,\n  height: 230,\n}))\n\nexport const EllipsizedText = styled('div')(({ theme }) => ({\n  textOverflow: 'ellipsis',\n  width: 'auto',\n  overflow: 'hidden',\n  whiteSpace: 'nowrap',\n}))","import React from 'react';\nimport { Stack } from '@material-ui/core';\n\n// src\nimport { StyledGreyChip } from '../Classifieds/styledComponents';\n\ninterface MerchantCategoriesListProps {\n  categoriesList: string[]\n}\n\nconst MerchantCategoriesList = ({ categoriesList }: MerchantCategoriesListProps) => {\n  return (\n    <Stack direction={\"row\"} gap={1} sx={{ flexWrap: 'wrap', mt: 1 }}>\n      {categoriesList.map((data, index) =>\n        <StyledGreyChip sx={{marginRight: 1}} label={data} key={`category-${index}`} variant='filled' size=\"small\" />\n      )}\n    </Stack>\n  );\n}\n\nexport default MerchantCategoriesList;\n","import React, { useContext, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { If, Then } from 'react-if';\nimport { pipe, propOr, split, without, slice } from 'ramda';\nimport { CardContent, makeStyles, Typography, createStyles, Theme, Card, CardActionArea, Box, Chip, useTheme, Divider, styled } from '@material-ui/core';\n\n// src\nimport { Merchant } from '../../services/models';\nimport { getTimeLabelFromOffset, isEmptyOrNil, isMerchantOnline } from '../../utils';\nimport { AppContext } from '../../context/AppContext';\nimport AppLogo from \"../../assets/icons/logo.svg\"\nimport { nextOpenHour } from '../../services/hoursUtils';\nimport CustomizedChip from './CustomizedChip';\nimport { StyledGreyChip } from '../Classifieds/styledComponents';\nimport MerchantCategoriesList from './MerchantCategoriesList';\nimport renderMerchantRewards from \"./MerchantRewards\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: '100%',\n      marginBottom: ({ gutterBottom }: any) => gutterBottom ? theme.spacing(2) : 0,\n      display: 'flex',\n      flexDirection: 'column',\n\n      '& .cardTitle': {\n        fontSize: \"16px\",\n        fontWeight: 700,\n        color: theme.palette.info.light,\n      },\n\n      '& .containerWithLink': {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'start',\n        flex: 1,\n        padding: theme.spacing(2),\n\n        '& .localReviews': {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: theme.spacing(1.1),\n          fontWeight: 600,\n          fontSize: \"12px\",\n          marginTop: theme.spacing(1),\n        },\n      },\n\n      '& .merchantLogoContainer': {\n        width: 60,\n        height: 60,\n        position: \"relative\",\n\n        [theme.breakpoints.down('sm')]: {\n          width: 50,\n          height: 50,\n        },\n\n        '& .logo': {\n          width: '100%',\n          height: '100%',\n          objectFit: 'cover',\n          borderRadius: 20,\n        },\n\n        '& .blank-image-placeholder': {\n          width: '100%',\n          height: '100%',\n          backgroundColor: theme.palette.text.secondary,\n          color: 'white',\n          fontSize: 30,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n\n        '& .rating': {\n          color: theme.palette.info.light,\n          fontSize: \"12px\",\n          fontWeight: \"bold\",\n          background: theme.palette.background.paper,\n          padding: `${theme.spacing(0.2)} ${theme.spacing(0.3)}`,\n          display: \"flex\",\n          gap: \"4px\",\n          borderRadius: \"4px\",\n          position: \"absolute\",\n          bottom: \"-7px\",\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.07)\",\n        },\n      },\n\n      '& .merchantInfo': {\n        display: 'flex',\n        alignItems: 'center',\n        flexWrap: \"wrap\",\n        justifyContent: 'start',\n        gap: \"5px\",\n        marginBottom: theme.spacing(1.2),\n        fontSize: \"12px\",\n      },\n    }\n  })\n)\n\nconst StyledChip = styled(Chip)(({ theme }) => ({\n  '&.MuiChip-filled': {\n    textTransform: \"uppercase\",\n    color: theme.palette.background.paper,\n    fontWeight: 'bold',\n    fontSize: 11,\n    borderRadius: theme.spacing(0.5)\n  }\n}))\n\nconst RenderCardLabels = ({ merchant }: { merchant: Merchant }) => {\n  const { orderType } = useContext(AppContext)\n  const isMerchantOrderingAvailable = useMemo(() => isMerchantOnline(merchant, orderType), [merchant, orderType]);\n  const nextOpenHourOffset = useMemo(() => !isMerchantOrderingAvailable ? nextOpenHour(merchant) : null, [merchant, isMerchantOrderingAvailable]);\n\n  return (\n    <div>\n      <If condition={isMerchantOrderingAvailable}>\n        <StyledChip label=\"Open\" size=\"small\" variant=\"filled\" color=\"primary\" />\n      </If>\n      <If condition={!isMerchantOrderingAvailable && !isEmptyOrNil(merchant.hours) && nextOpenHourOffset} >\n        <StyledGreyChip variant=\"filled\" size=\"small\" label={`Open at ${getTimeLabelFromOffset(nextOpenHourOffset)}`} />\n      </If>\n    </div>\n  );\n}\n\nconst RenderDot = () => <span style={{ marginLeft: 4, marginRight: 4, fontSize: \"12px\" }}>{`\\u2022`}</span>\n\nconst getSubtitles = (merchant: Merchant) => {\n  const subtitles = [];\n  const points = renderMerchantRewards(merchant);\n  if (points) {\n    subtitles.push(points)\n  }\n  return subtitles;\n}\n\nconst MerchantItemCard = ({ merchant, promotionText, gutterBottom = false }: { merchant: Merchant, promotionText?: string, gutterBottom?: boolean }) => {\n  const theme = useTheme();\n  const classes = useStyles({ gutterBottom });\n  const subtitles = useMemo(() => getSubtitles(merchant), [merchant]);\n  const categoriesList: string[] = useMemo(() => pipe(propOr('', 'category'), split(','), slice(0, 3), without([' ', '']))(merchant), [merchant]);\n\n  return (\n    <Card elevation={3} className={classes.root}>\n      <CardActionArea\n        className=\"containerWithLink\"\n        component={Link}\n        to={{\n          pathname: `/${merchant.username}`,\n          state: { from: window.location.pathname },\n        }}\n      >\n        <CardContent sx={{ padding: '0 !important', display: 'flex', flexDirection: 'column', flex: 1, justifyContent: 'center' }}>\n          <Typography className=\"cardTitle\" component=\"div\" variant=\"h6\">\n            {merchant.officialName}\n          </Typography>\n          {subtitles.length > 0 && (\n            <div className=\"merchantInfo\">\n              {subtitles.length > 0\n                ? subtitles\n                  .map<React.ReactNode>((t, index) => <React.Fragment key={`${index}-${Math.random() * 100}`}>{t}</React.Fragment>)\n                  .reduce((prev, curr, currentIdx) => [prev, <RenderDot key={currentIdx} />, curr])\n                : null\n              }\n            </div>\n          )}\n          <If condition={promotionText}>\n            <Box sx={{ my: 1, marginRight: 1 }}>\n              <CustomizedChip size=\"small\" label={promotionText} variant=\"filled\" color=\"secondary\" />\n            </Box>\n          </If>\n          {/* {merchant.thirdPartyReviewCount >= 10 && (\n              <div className=\"localReviews\">\n                <Star sx={{ width: \"15px\", height: \"15px\", fill: \"#F7CB2E\" }} />\n                {abbreviatedValue(merchant.thirdPartyReviewCount)} locals\n                reviews\n              </div>\n            )} */}\n          <RenderCardLabels merchant={merchant} />\n        </CardContent>\n        <div className=\"merchantLogoContainer\">\n          <img className=\"logo\" src={merchant.logo ? merchant.logo : AppLogo} />\n          {/* {merchant.thirdPartyRating && (\n            <div className=\"rating\">\n              <Star sx={{ width: \"15px\", height: \"15px\", fill: \"#F7CB2E\" }} />{\" \"}\n              {merchant.thirdPartyRating}\n            </div>\n          )} */}\n        </div>\n      </CardActionArea>\n      <Divider />\n      <If condition={categoriesList.length > 0}>\n        <Then>\n          <Box sx={{ px: 2 }}>\n            <MerchantCategoriesList categoriesList={categoriesList} />\n          </Box>\n        </Then>\n      </If>\n    </Card >\n  )\n}\n\nexport default MerchantItemCard","import React from 'react'\nimport { Button } from '@material-ui/core'\nimport MerchantItemCard from \"../common/MerchantItemCard\"\nimport { isEmptyOrNil } from '../../utils'\nimport { UserPromotionEntry } from '../../services/models'\n\ninterface PromotionsEntriesProps {\n  setOpen: (_: boolean) => void,\n  userPromotionEntries: UserPromotionEntry[] | undefined,\n}\n\nconst MerchantPromotionsEntries = ({ setOpen, userPromotionEntries }: PromotionsEntriesProps) => {\n  if (isEmptyOrNil(userPromotionEntries))\n    return null;\n\n  return (\n    <>\n      {userPromotionEntries?.map((item, idx) =>\n        <MerchantItemCard\n          key={item.merchant.id}\n          merchant={item.merchant}\n          promotionText={item.treatment.oneliner}\n          gutterBottom={idx !== userPromotionEntries.length - 1}\n        />\n      )}\n      <Button color=\"primary\" variant=\"contained\" onClick={() => setOpen(false)} sx={{ marginTop: '16px' }}>\n        Done\n      </Button>\n    </>\n  )\n}\n\n\nexport default MerchantPromotionsEntries","import React, { useEffect, useState } from 'react';\nimport { Typography, CardContent, makeStyles, Theme, createStyles, Box, Toolbar } from '@material-ui/core';\nimport { differenceInMinutes } from 'date-fns';\n\nimport BottomDrawer from '../../bos_common/src/components/BottomDrawer';\n\nimport { useAppSelector } from '../../redux/hooks';\nimport { getUserPromotionEntries } from '../../redux/slice/marketPlace/marketPlaceSelector';\nimport { isEmptyOrNil } from '../../utils';\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from '../../services/localStorage';\nimport MerchantPromotionsEntries from '../MerchantInfo/MerchantPromotionsEntries';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      '& .toolbar': {\n        minHeight: 48,\n        justifyContent: 'center'\n      },\n      '& .content': {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        '& .content-container': {\n          display: 'flex',\n          justifyContent: 'center',\n          flexDirection: 'column',\n          width: '100%',\n          [theme.breakpoints.up('sm')]: {\n            maxWidth: 500\n          }\n        },\n      }\n    },\n  }),\n);\n\nconst PromotionsDrawer = (): React.ReactElement | null => {\n  const classes = useStyles()\n  const [open, setOpen] = useState<boolean>(false)\n  const promotionEntries = useAppSelector(getUserPromotionEntries);\n\n  useEffect(() => {\n    if (isEmptyOrNil(promotionEntries)) return\n\n    const storageKey = LOCALSTORAGE_MARKETPLACE_APP_KEYS.PROMOTION_DRAWER;\n    const localStorageData = localStorage.getItem(storageKey);\n    if (localStorageData) {\n      const lastTime = Date.parse(localStorageData);\n      if (differenceInMinutes(new Date(), lastTime) < 24 * 60) {\n        return;\n      }\n    }\n    localStorage.setItem(storageKey, new Date().toISOString())\n\n    setOpen(true);\n  }, [promotionEntries])\n\n  return (\n    <BottomDrawer\n      open={open}\n      setOpen={setOpen}\n    >\n      <div className={classes.drawer}>\n        <Toolbar className=\"toolbar\">\n          <Typography variant=\"h6\" className=\"drawerTitle\" component=\"div\">\n            Unique deals for you!\n          </Typography>\n        </Toolbar>\n        <CardContent className='content'>\n          <div className=\"content-container\">\n            <MerchantPromotionsEntries setOpen={setOpen} userPromotionEntries={promotionEntries} />\n          </div>\n        </CardContent>\n      </div>\n    </BottomDrawer>\n  )\n}\n\nexport default PromotionsDrawer;","export default __webpack_public_path__ + \"static/media/merchant-placeholder.804ffba2.png\";","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ExclusiveTickIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 18, height: 18 }} viewBox=\"0 0 14 14\" fill=\"none\" {...props} >\n        <path d=\"M6.285 11.04H5.7525L4.5 9.75003H2.6475L2.25 9.37503V7.56003L0.982498 6.27003V5.73753L2.25 4.44753V2.62503L2.6475 2.25003H4.5L5.7525 0.967529H6.285L7.575 2.25003H9.3975L9.7725 2.61753V4.44753L11.055 5.73753V6.27003L9.75 7.56003V9.37503L9.375 9.75003H7.575L6.285 11.04V11.04ZM5.0475 7.86003H5.58L8.4075 5.03253L7.875 4.50003L5.3175 7.06503L4.2825 6.03003L3.75 6.56253L5.0475 7.86003Z\" fill=\"white\"/>\n    </SvgIcon>\n  );\n}\n\nexport default ExclusiveTickIcon\n\n","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core';\n\nimport { MerchantPromotion } from '../../bos_common/src/types/MerchantPromotionType';\nimport { CardHighlightChip, EllipsizedText } from '../Classifieds/styledComponents';\nimport { getPromotionChipStyleConfig } from '../../utils';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .label-container\": {\n        display: 'grid',\n        gridTemplateColumns: '15px 1fr',\n        gridColumnGap: '10px',\n\n        alignItems: 'center',\n        justifyContent: 'center'\n      }\n    }\n  })\n);\n\n\nconst MerchantPromotionChip = (props: { promotion: MerchantPromotion }) => {\n  const { promotion } = props;\n  const classes = useStyles();\n\n  const { icon: PromotionIcon, backgroundColor } = getPromotionChipStyleConfig(promotion)\n\n  return (\n    <CardHighlightChip\n      className={classes.root}\n      label={(\n        <div className='label-container'>\n          <PromotionIcon sx={{ color: \"white\", width: 18, height: 18 }} /><EllipsizedText>{promotion.oneliner}</EllipsizedText>\n        </div>\n      )}\n      color=\"secondary\"\n      size='small'\n      variant='filled'\n      sx={{ backgroundColor }}\n    />\n  )\n}\n\nexport default MerchantPromotionChip;","import { AccessTime } from \"@material-ui/icons\";\nimport { pathOr } from \"ramda\";\nimport React from \"react\";\nimport { If } from \"react-if\";\nimport { nextOpenHour } from \"../../services/hoursUtils\";\n\nimport { Merchant } from \"../../services/models\";\nimport { getTimeLabelFromOffset, isEmptyOrNil, isStoreOpen } from \"../../utils\";\nimport { CardHighlightChip } from \"../Classifieds/styledComponents\";\n\ntype MerchantOrderAheadChipProps = {\n  merchant: Merchant;\n};\n\nconst MerchantOrderAheadChip = (props: MerchantOrderAheadChipProps): JSX.Element | null => {\n  const { merchant } = props;\n\n  const isMerchanStoreOpen = isStoreOpen(merchant, new Date());\n\n  const pickupStartsAtOffset = pathOr(0, ['orderingConfig', 'pickupStartsAtOffset'], merchant);\n  const openFromMinOffset = !isMerchanStoreOpen ? nextOpenHour(merchant) : null;\n  const storeTimingsLabel = !isEmptyOrNil(openFromMinOffset)\n    ? getTimeLabelFromOffset(openFromMinOffset + pickupStartsAtOffset)\n    : \"\";\n\n  const isOrderAheadVisible = !isMerchanStoreOpen && merchant.orderingConfig?.orderAhead && storeTimingsLabel\n\n  return (\n    <If condition={isOrderAheadVisible}>\n      <CardHighlightChip\n        icon={<AccessTime />}\n        label={`Store opens at ${storeTimingsLabel}`}\n        color=\"secondary\"\n        size=\"small\"\n        variant=\"filled\"\n        sx={{ backgroundColor: \"#E34D28\" }}\n      />\n    </If>\n  );\n};\n\nexport default MerchantOrderAheadChip;\n","import React, { useContext, useMemo } from \"react\";\nimport {\n  Theme,\n  Typography,\n  CardActionArea,\n  Card,\n  Box,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/styles\";\nimport { pathOr, pipe, propOr, slice, split, without, pluck, dropRepeats, find, defaultTo } from \"ramda\";\nimport { If, Then } from \"react-if\";\nimport { rgba } from \"polished\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\nimport { Merchant } from \"../services/models\";\nimport { getStoreStatusLabel, getTimeLabelFromOffset, isEmptyOrNil } from \"../utils\";\nimport { AppContext } from \"../context/AppContext\";\nimport { withFallbackPath } from \"../bos_common/src/utils\";\nimport { MerchantPromotion } from \"../bos_common/src/types/MerchantPromotionType\";\nimport { ClassifiedDetailsType, ClassifiedKey } from \"../bos_common/src/types/ClassifiedType\";\n\nimport BannerImg from \"../assets/images/merchant-placeholder.png\";\nimport PercentageIcon from \"../assets/icons/PercentageIcon\";\nimport ExclusiveTickIcon from \"../assets/icons/ExclusiveTickIcon\";\n\nimport RenderMerchantRewards from \"./common/MerchantRewards\";\nimport MerchantPromotionChip from \"./common/MerchantPromotionChip\";\nimport MerchantCategoriesList from \"./common/MerchantCategoriesList\";\nimport { CardHighlightChip, StyledExpenseChip } from \"./Classifieds/styledComponents\";\nimport { MERCHANT_EXPENSE_LEVELS } from \"../bos_common/src/constants\";\nimport MerchantOrderAheadChip from \"./common/MerchantOrderAheadChip\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: 0,\n      backgroundColor: 'transparent !important',\n      height: '100%',\n\n      '& .MuiCardActionArea-root': {\n        height: 'inherit',\n        paddingBottom: theme.spacing(1)\n      },\n\n      \"& .heroPhotoWrapper\": {\n        position: \"relative\",\n        marginBottom: theme.spacing(1),\n        display: \"flex\",\n\n        \"& .overlay\": {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: theme.spacing(1),\n          background: rgba(theme.palette.info.light, 0.6),\n          zIndex: 10,\n          display: \"none\",\n          color: theme.palette.background.paper,\n          fontWeight: 500,\n\n          \"&.show\": {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }\n        },\n\n        \"& .highlights-container\": {\n          position: \"absolute\",\n          padding: \"10px 10px\",\n\n          \"& .MuiChip-root\": {\n            marginBottom: \"5px\",\n\n            \"&:not(:last-child)\": {\n              marginRight: '5px'\n            }\n          }\n        }\n      },\n\n      \"& .heroPhoto\": {\n        maxWidth: \"100%\",\n        width: \"100%\",\n        borderRadius: theme.spacing(1),\n        height: 170,\n        objectFit: \"cover\",\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0,\n      },\n\n      \"& .cardContent\": {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: `0 ${theme.spacing(0.5)}`,\n\n        \"&>div\": {\n          width: '100%',\n\n          \"& .MuiTypography-root\": {\n            textOverflow: 'ellipsis',\n            width: 'auto',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n          },\n        },\n\n      },\n\n      \"& .ratingWrapper\": {\n        display: \"grid\",\n        alignItems: \"flex-start\",\n        gridGap: \"4px\",\n      },\n\n      \"& .rating\": {\n        color: theme.palette.info.light,\n        fontSize: \"12px\",\n        fontWeight: \"bold\",\n        background: theme.palette.background.paper,\n        padding: `${theme.spacing(0.2)} ${theme.spacing(0.3)}`,\n        display: \"flex\",\n        gap: \"4px\",\n        borderRadius: \"4px\",\n        boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.07)\",\n      },\n\n      \"& .distance\": {\n        color: theme.palette.secondary.light,\n        fontSize: \"12px\",\n        fontWeight: 400,\n      },\n\n      \"& .subtitleWrapper\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"12px\",\n        color: theme.palette.secondary.light,\n        fontWeight: 400,\n        fontSize: \"12px\",\n      },\n\n      \"& .highlightList\": {\n        display: \"grid\",\n        marginTop: theme.spacing(2),\n\n        \"& .offer\": {\n          display: \"flex\",\n          gap: theme.spacing(1.25),\n          padding: `${theme.spacing(1)} ${theme.spacing(1.5)}`,\n          fontSize: \"12px\",\n\n          \"& .tag\": {\n            background: theme.palette.background.paper,\n            fontSize: \"10px\",\n            fontWeight: 700,\n            padding: `${theme.spacing(0.3)} ${theme.spacing(0.8)}`,\n            borderRadius: \"3px\",\n          },\n\n          \"&:first-child\": {\n            borderRadius: \"8px 8px 0 0\",\n          },\n\n          \"&:last-child\": {\n            borderRadius: \"0 0 8px 8px\",\n          },\n\n          \"&:nth-of-type(3n+1)\": {\n            background: rgba(theme.palette.primary.main, 0.15),\n            color: theme.palette.primary.main,\n\n            \"& .tag\": {\n              color: theme.palette.primary.main,\n            },\n          },\n\n          \"&:nth-of-type(3n+2)\": {\n            background: rgba(theme.palette.secondary.main, 0.15),\n            color: theme.palette.secondary.main,\n\n            \"& .tag\": {\n              color: theme.palette.secondary.main,\n            },\n          },\n\n          \"&:nth-of-type(3n+3)\": {\n            background: rgba(\"#22AC38\", 0.15),\n            color: \"#22AC38\",\n\n            \"& .tag\": {\n              color: \"#22AC38\",\n            },\n          },\n        },\n      },\n    },\n  })\n);\n\ntype MerchantCardProps = {\n  merchant: Merchant;\n};\n\nconst MerchantCard = (props: MerchantCardProps) => {\n  const { merchant } = props;\n\n  const classes = useStyles();\n\n  const { orderType } = useContext(AppContext);\n  const location = useLocation();\n\n  const categoriesList: string[] = useMemo(\n    () =>\n      pipe(\n        propOr(\"\", \"category\"),\n        split(\",\"),\n        slice(0, 3),\n        without([\" \", \"\"])\n      )(merchant),\n    [merchant]\n  );\n\n  const storeStatusLabel = useMemo(() => getStoreStatusLabel(merchant, orderType), [merchant, orderType]);\n\n  const renderLabels = () => {\n    const labelsList = [];\n\n    if (storeStatusLabel.canOrder) {\n      labelsList.push(\n        <span>{storeStatusLabel.label}</span>\n      )\n    }\n\n    const rewards = RenderMerchantRewards(merchant);\n    if (rewards) {\n      labelsList.push(rewards);\n    }\n\n    if (!isEmptyOrNil(labelsList)) {\n      return labelsList\n        .map<React.ReactNode>((t, index) => (\n          <React.Fragment key={`${index}-${Math.random() * 100}`}>\n            {t}\n          </React.Fragment>\n        ))\n        .reduce((prev, curr) => [prev, \"|\", curr]);\n    }\n\n    return null;\n  }\n\n  const overlayClasses = {\n    \"overlay\": true,\n    \"show\": !storeStatusLabel.canOrder,\n  }\n\n  const highlightedPromotion = pathOr({}, ['promotions', 0], merchant) as MerchantPromotion\n\n  const highlightedClassifiedLabel = pipe(\n    propOr([], ['classifieds']),\n    pluck('details'),\n    dropRepeats,\n  )(defaultTo([], merchant))\n\n  const classifiedEntries = without([undefined], [\n    find((item: ClassifiedDetailsType) => item.key === ClassifiedKey.exclusive, highlightedClassifiedLabel),\n    find((item: ClassifiedDetailsType) => item.key !== ClassifiedKey.exclusive, highlightedClassifiedLabel)\n  ])\n\n  const HeroImage = (props: any) => (\n    <img\n      className=\"heroPhoto\"\n      src={isEmptyOrNil(merchant.heroPhoto) ? BannerImg : `${merchant.heroPhoto}_medium`}\n      onError={props.onError}\n    />);\n  const EnhancedHeroImage = withFallbackPath(HeroImage, merchant.heroPhoto);\n  const expenseLevel = MERCHANT_EXPENSE_LEVELS?.find((item: any) => item.value === merchant?.expenseLevel)\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea\n        component={Link}\n        to={{\n          pathname: `/${merchant.username}`,\n          state: { from: location.pathname },\n        }}\n      >\n        <div className=\"heroPhotoWrapper\">\n          <EnhancedHeroImage />\n          <div className={classNames(overlayClasses)}>{storeStatusLabel.label}</div>\n\n          <div className=\"highlights-container\">\n            <If condition={!isEmptyOrNil(highlightedPromotion)}>\n              <MerchantPromotionChip promotion={highlightedPromotion} />\n            </If>\n\n            <MerchantOrderAheadChip merchant={merchant} />\n\n            <If condition={!isEmptyOrNil(classifiedEntries)}>\n              <Then>\n                {\n                  classifiedEntries.map((data: ClassifiedDetailsType) => (\n                    <CardHighlightChip\n                      key={data.key}\n                      icon={data.key === ClassifiedKey.exclusive ? <ExclusiveTickIcon /> : <PercentageIcon />}\n                      label={data.name}\n                      color=\"secondary\"\n                      size='small'\n                      variant='filled'\n                      sx={{ backgroundColor: \"#0068FF\" }}\n                    />\n                  ))\n                }\n              </Then>\n            </If>\n          </div>\n        </div>\n\n        <Box sx={{ p: 1 }}>\n          <div className=\"cardContent\">\n\n            <div>\n              <Typography component=\"div\" variant=\"h6\">\n                {merchant.officialName}\n              </Typography>\n\n              <div className=\"subtitleWrapper\">\n                {renderLabels()}\n              </div>\n            </div>\n\n            {/* <div className=\"ratingWrapper\">\n          <If condition={!isEmptyOrNil(merchant.thirdPartyRating)}>\n            <div className=\"rating\">\n              <Star sx={{ width: \"15px\", height: \"15px\", fill: \"#F7CB2E\" }} />{\" \"}\n              {merchant.thirdPartyRating}\n            </div>\n          </If>\n\n          <span className=\"distance\">1.23 mi</span>\n        </div> */}\n          </div>\n\n          <Box sx={{ pr: 2, mt: 1, display: \"flex\", alignItems: \"flex-end\" }}>\n            <If condition={!isEmptyOrNil(merchant?.expenseLevel) && !isEmptyOrNil(expenseLevel)}>\n              <Then>\n                <StyledExpenseChip\n                  label={expenseLevel?.label || \"\"}\n                  variant=\"filled\"\n                  size=\"small\"\n                  sx={{ marginRight: 1 }}\n                />\n              </Then>\n            </If>\n            <If condition={!isEmptyOrNil(categoriesList)}>\n              <MerchantCategoriesList categoriesList={categoriesList} />\n            </If>\n          </Box>\n        </Box>\n      </CardActionArea>\n    </Card >\n  );\n};\n\nexport default MerchantCard;\n","import React from \"react\";\nimport { Box, Skeleton } from \"@material-ui/core\";\n\nconst MerchantCardPlaceholder = () => (\n    <Box>\n      <Skeleton\n        variant=\"rectangular\"\n        width={\"100%\"}\n        animation=\"wave\"\n        height={160}\n        style={{\n          borderTopLeftRadius: 10,\n          borderTopRightRadius: 10,\n        }}\n      />\n      <Skeleton width={\"100%\"} animation=\"wave\" height={30} />\n      <Skeleton width={\"60%\"} animation=\"wave\" height={25} />\n    </Box>\n  );\n\n  export default MerchantCardPlaceholder;","import React from 'react';\nimport { Grid, makeStyles, createStyles, Box, Skeleton } from '@material-ui/core';\nimport LazyLoad from 'react-lazyload';\n\nimport { Merchant } from '../../services/models';\nimport MerchantCard from '../MerchantCard';\nimport MerchantCardPlaceholder from '../MerchantCardPlaceholder';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      '& .lazyload-wrapper': {\n        height: '100%'\n      }\n    }\n  })\n)\nexport interface StoreListProps {\n  merchants: Merchant[];\n  capToMD?: boolean;    // size capped to medium screens\n}\n\nexport const StoresListDetailed = (props: Readonly<StoreListProps>): JSX.Element => {\n  const { merchants, capToMD = false } = props;\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={2}>\n        {\n          merchants?.map((merchant) => {\n            return (\n              <Grid item xs={12} sm={6} md={capToMD ? 6: 4} lg={capToMD ? 6 : 3} key={merchant.id}>\n                <LazyLoad offset={250} height={250}  unmountIfInvisible placeholder={<MerchantCardPlaceholder />}>\n                  <MerchantCard merchant={merchant} />\n                </LazyLoad>\n              </Grid>\n            )\n          })\n        }\n      </Grid>\n    </div>\n  );\n}\n\nexport default StoresListDetailed;\n","import React, { useMemo, useContext } from 'react';\nimport useAxios from 'axios-hooks';\nimport { If } from 'react-if';\nimport {\n  Avatar,\n  Box,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Fab,\n  makeStyles,\n  Theme,\n  Typography,\n  useMediaQuery,\n} from '@material-ui/core';\nimport { Map } from '@material-ui/icons';\n\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport { FullscreenPaper } from '../bos_common/src';\nimport { FabContainer } from '../bos_common/src/components/FabContainers';\n\n// src\nimport { Merchant } from '../services/models';\nimport { enableSanMateoMP, getSortedMerchantsListBasedOnStatus, isEmptyOrNil } from '../utils';\nimport PageHeader from '../components/common/PageHeader';\nimport { Redirect, useHistory, useLocation } from 'react-router';\nimport AppLogo from \"../assets/icons/logo.svg\"\nimport PromotionsDrawer from '../components/common/PromotionsDrawer';\nimport StoresListDetailed from '../components/Stores/StoresListDetailed';\nimport { AppContext } from '../context/AppContext';\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      minHeight: '100vh',\n      backgroundColor: '#f5faff !important',\n      overflow: 'auto',\n      marginTop: 4,\n\n      '& .marketplace-header': {\n        padding: theme.spacing(2),\n        paddingBottom: 0,\n      },\n    }\n  })\n)\n\nconst PageTitleMarkup = (\n  <>\n    <CardHeader\n      sx={{ padding: `8px 8px 8px 0` }}\n      title={\n        <Typography variant=\"h6\" component=\"div\" className=\"store-name\">\n          One Market\n        </Typography>\n      }\n      avatar={<Avatar color=\"secondary\" alt={\"One Market\"} src={AppLogo} variant=\"square\" />}\n      subheader={(\n        <Typography variant=\"caption\" component=\"div\">\n          Buy Local, Earn Rewards\n        </Typography>\n      )}\n    />\n  </>\n)\n\nconst MerchantListHeader = ({ data, loading }: { data?: Merchant[], loading: boolean }) => (\n  <div className='marketplace-header'>\n    <div>\n      <Typography variant=\"h6\" component=\"div\">Merchants Nearby</Typography>\n      <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\n        {\"Local businesses that you'll love\"}\n      </Typography>\n    </div>\n\n    <If condition={isEmptyOrNil(data) && !loading}>\n      <CardContent><p>No merchant Exists Nearby</p></CardContent>\n    </If>\n  </div>\n)\n\nconst HomePage = (): React.ReactElement => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const { featureFlags } = useContext(AppContext);\n  const [{ data: fetchedMerchantList, loading }] = useAxios<Merchant[]>({\n    url: '/users/nearby/merchants',\n    method: \"GET\"\n  })\n\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  // Sort Merchant: Show online merchants at start\n  const merchants = useMemo(() => getSortedMerchantsListBasedOnStatus(fetchedMerchantList || []), [fetchedMerchantList]);\n\n  if (enableSanMateoMP(featureFlags)) {\n    return (\n      <Redirect to={{\n        pathname: '/sanmateo',\n        state: location.state,\n      }} />\n    );\n  }\n\n  const handleClickSearchMap = () => {\n    history.push('/discovery', { from: location.pathname });\n  }\n\n  return (\n    <div className={\"container\"}>\n      <PageHeader\n        theme=\"dark\"\n        title={PageTitleMarkup}\n      />\n      <PromotionsDrawer />\n\n      <FullscreenPaper>\n        <div className={classes.root}>\n          <SimpleLoader loading={loading} />\n          <MerchantListHeader data={merchants} loading={loading} />\n          <Box sx={{ px: 2, my: 1 }}>\n            <StoresListDetailed merchants={merchants} />\n          </Box>\n        </div>\n\n        <FabContainer\n          alignment='right'\n          fabStyle={{ padding: \"24px 16px 16px\" }}\n          fadeTop={isMobile}>\n          <Fab\n            color=\"primary\"\n            aria-label=\"Search\"\n            variant=\"extended\"\n            onClick={handleClickSearchMap}>\n            <Map sx={{ mr: 1 }} />\n            Search &amp; Map View\n          </Fab>\n        </FabContainer>\n      </FullscreenPaper>\n    </div>\n  )\n}\n\nexport default HomePage;\n","import React, { useContext } from \"react\";\nimport { Alert } from \"@material-ui/core\";\nimport { Merchant, Order } from \"../../services/models\";\nimport { UserContext } from \"../../bos_common/src/context/UserContext\";\nimport PhoneSignup from '../../bos_common/src/components/PhoneSignup';\nimport OneMarketPointString from \"../common/OneMarketPointString\";\n\nexport default function Order1MPoints({ order, merchant }: {\n  order: Order,\n  merchant?: Merchant\n}): React.ReactElement | null {\n  const { user, authenticating } = useContext(UserContext)\n  const showSignup = !order.userId && !user\n\n  if (authenticating) {\n    return null\n  }\n\n  if (order.oneMarketPoints > 0) {\n    if (showSignup) {\n      return (\n        <Alert severity=\"info\" elevation={3}>\n          Your purchase has earned &nbsp;{order.oneMarketPoints}{' '}\n          <OneMarketPointString />. Sign up to claim those points, save order history and enable fast checkout\n          <div style={{ marginTop: 8 }}>\n            <PhoneSignup />\n          </div>\n        </Alert>\n      )\n    } else {\n      if (user?.id === order.userId) {\n        return (\n          <Alert severity=\"success\" elevation={3}>\n            Your purchase has earned {order.oneMarketPoints}&nbsp;\n            <OneMarketPointString />{' \\u{1F389}'}\n          </Alert>\n        )\n      }\n    }\n  } else {\n    if (showSignup) {\n      return (\n        <Alert severity=\"info\" elevation={3}>\n          Sign up to save order history and enable fast checkout\n          <div style={{ marginTop: 8 }}>\n            <PhoneSignup />\n          </div>\n        </Alert>\n      )\n    }\n  }\n\n  return null\n}","import React, { useContext } from 'react'\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\nimport { Grid, Typography } from '@material-ui/core'\nimport { If } from 'react-if'\n\nimport { LineItem } from '../../services/models'\nimport renderPrice from '../../bos_common/src/components/Price'\nimport MerchandiseModifiers from '../../bos_common/src/components/Merchandise/MerchandiseModifiers'\nimport MerchandiseNote from '../../bos_common/src/components/Merchandise/MerchandiseNote'\nimport { AppContext } from '../../context/AppContext'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n\n      '& .rightColumn': {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        alignItems: 'flex-end',\n        marginLeft: theme.spacing(1),\n      },\n    },\n  })\n)\n\nexport default function OrderItemCard(props: {\n  item: LineItem\n}): React.ReactElement {\n  const classes = useStyles()\n  const { featureFlags } = useContext(AppContext)\n  const item = props.item\n  return (\n    <Grid container className={classes.root} spacing={2}>\n      <Grid\n        item\n        xs\n        container\n        direction=\"column\"\n        spacing={2}\n        alignItems=\"flex-start\"\n        justifyContent=\"flex-start\"\n      >\n        <Grid item>\n          <Typography gutterBottom variant=\"body2\" component=\"div\">\n            {item.refunded ? <s>{item.name}</s> : item.name}\n          </Typography>\n          {item.customization && (\n            <MerchandiseModifiers modifiers={item.customization} modifiersDisplayOrder={item.customizationDisplayOrder}/>\n          )}\n          {item.note && <MerchandiseNote note={item.note} />}\n        </Grid>\n      </Grid>\n\n      <Grid item className=\"rightColumn\">\n        <Grid item>\n          <Typography variant=\"body2\" component=\"div\">\n            {item.refunded ? (\n              <s>Qty: {item.quantity}</s>\n            ) : (\n              `Qty: ${item.quantity}`\n            )}\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Typography variant=\"body2\" component=\"div\">\n            {item.refunded && '(Refunded) '}\n            {renderPrice(item.price * item.quantity)}\n          </Typography>\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n","import React from \"react\";\nimport { Divider } from \"@material-ui/core\";\nimport { LineItem, Order } from \"../../services/models\";\nimport OrderItemCard from \"./OrderItemCard\";\nimport OrderSummary from \"../../bos_common/src/components/OrderSummary\";\n\nexport default function OrderItems(props: {\n  order: Order,\n}): React.ReactElement {\n\n  return (\n    <div>\n      {/* <Typography gutterBottom variant=\"h6\" component=\"div\">\n        Receipt\n      </Typography> */}\n      {props.order.lineItems.map((item: LineItem) => {\n        return (\n          <OrderItemCard item={item} key={`${item.id}-${item.customizationSignature}`} />\n        )\n      })}\n      <Divider light={true} variant=\"middle\" />\n      <OrderSummary order={props.order} />\n    </div>\n  )\n}","import React, { useState } from \"react\";\nimport QRCode from 'qrcode.react';\nimport { Alert, Button, createStyles, Divider, IconButton, makeStyles, Snackbar, Theme, Typography } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { FileCopyOutlined, InfoOutlined } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\n\nimport { displayOrderShortCode } from \"../../bos_common/src/services/orderUtils\";\nimport { getMarketPlaceOrderStatusURL } from \"../../bos_common/src/services/urls\";\nimport { Merchant, Order, OrderType } from \"../../services/models\";\nimport OrderItems from \"../Order/OrderItems\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .section': {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        '& .merchantLink': {\n          textDecoration: 'none',\n        }\n      },\n      '& .leftRight': {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n      },\n      '& .qrcode': {\n        marginTop: theme.spacing(1),\n      },\n      '& .shareBtn': {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n      },\n      '& .MuiSnackbar-root': {\n        justifyContent: 'center',\n      },\n      '& .merchant-address': {\n        display: 'flex',\n        alignItems: 'center',\n        lineHeight: '1.2',\n        '& .MuiIconButton-root': {\n          padding: 0,\n          marginLeft: theme.spacing(0.5),\n        }\n      }\n    },\n  }),\n);\n\nconst RenderOrderReceipt = ({ order }: { order: Order }) => {\n  return (\n    <div className={\"section\"}>\n      <Typography gutterBottom variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n        Receipt\n      </Typography>\n      <OrderItems order={order} />\n      <Typography variant=\"body2\" component=\"div\" color=\"textSecondary\" display=\"flex\">\n        <InfoOutlined fontSize=\"small\"/>&nbsp;&nbsp;It will show as 1M.APP on your statement\n      </Typography>\n    </div>\n  )\n}\n\ntype PickUpDetails = {\n  order: Order;\n  merchant: Merchant;\n}\nconst PickupDetails = (props: PickUpDetails): React.ReactElement => {\n  const { order, merchant } = props\n  if (order.type !== OrderType.PICKUP) {\n    return <RenderOrderReceipt order={order} />\n  }\n\n  const theme = useTheme()\n  const classes = useStyles()\n  const url = getMarketPlaceOrderStatusURL(order)\n  const [openAlert, setOpenAlert] = useState(false)\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === 'clickaway') {\n      return\n    }\n    setOpenAlert(false)\n  };\n\n  const shareUrl = async () => {\n    if (navigator.share) {\n      await navigator.share({\n        url: url,\n        title: 'Share your order',\n      })\n    } else if (navigator.clipboard) {\n      try {\n        await navigator.clipboard.writeText(url)\n        setOpenAlert(true)\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n\n  const RenderCopyToClipboard = () => {\n    const copyAddressToClipboard = () => {\n      try {\n        navigator.clipboard.writeText(merchant?.address || '')\n      } catch (err) {\n        console.log('unable to copy address', err)\n      }\n    }\n    return (\n      <IconButton onClick={() => copyAddressToClipboard()} color=\"secondary\" aria-label=\"copy address\" component=\"span\">\n        <FileCopyOutlined fontSize='small' color=\"primary\" />\n      </IconButton>\n    )\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className=\"section\">\n        <Typography gutterBottom variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n          Pickup Details\n        </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"div\" style={{ lineHeight: '1.2' }}>\n          <Link className=\"merchantLink\" to={`/${merchant.username}`}>{merchant.officialName}</Link>\n        </Typography>\n        <Typography variant=\"body2\" color=\"textPrimary\" component=\"div\" className={'merchant-address'}>\n          {merchant.address}&nbsp;<RenderCopyToClipboard />\n        </Typography>\n      </div>\n\n      <Divider />\n      <div className={\"section\"}>\n        <div className=\"leftRight\">\n          <div>\n            <Typography gutterBottom variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n              Pickup Code\n            </Typography>\n            <Typography variant=\"body2\" component=\"div\">\n              {displayOrderShortCode(order)}\n            </Typography>\n            <Button variant=\"outlined\" color=\"primary\" className=\"shareBtn\" onClick={shareUrl}>\n              Share\n            </Button>\n          </div>\n          <div className=\"qrcode\">\n            <QRCode\n              value={url}\n              size={100} />\n          </div>\n        </div>\n      </div>\n      <Divider />\n\n      <RenderOrderReceipt order={order} />\n\n      <Snackbar open={openAlert} autoHideDuration={4000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"success\">\n          Link copied to your clipboard\n        </Alert>\n      </Snackbar>\n    </div>\n  )\n}\n\nexport default PickupDetails","import React from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\n\nexport default function CloseButton(props: {\n  onClose: () => void,\n  color?: string,\n  disabled?: boolean\n}): React.ReactElement {\n  const { color = 'rgba(0, 0, 0, 0.6)', onClose, disabled = false } = props\n  return (\n    <IconButton onClick={onClose} disabled={disabled}>\n      <Close fontSize=\"large\" sx={{ color }} />\n    </IconButton>\n  )\n}","import React from \"react\";\nimport { Alert, Typography } from \"@material-ui/core\";\nimport { Merchant, Order } from \"../../services/models\";\nimport { DeviceType } from \"../../bos_common/src/types/DeviceType\";\nimport { toFixed2 } from \"../../utils\";\nimport renderPrice from \"../../bos_common/src/components/Price\";\n\n\nexport default function OrderLocalImpact({order, merchant}: {\n  order: Order,\n  merchant?: Merchant\n}): React.ReactElement | null {\n  const save = toFixed2(order.amount * 0.06);\n\n  if (save > 0.3 && order.sourceInfo.device != DeviceType.Kiosk) {\n    return (\n      <Alert severity=\"success\" elevation={3}>\n        {merchant?.officialName} received 100% of the revenue on this order. You saved them\n        <Typography variant=\"subtitle1\" component=\"span\">\n          &nbsp;{renderPrice(save)}&nbsp;\n        </Typography>\n        in commission that other third-party delivery platforms charge. Thank you!\n      </Alert>\n    )\n  }\n\n  return null\n}","import React from \"react\";\nimport { Alert } from \"@material-ui/core\";\nimport { Order } from \"../../services/models\";\nimport { Link } from \"react-router-dom\";\n\n\nexport default function OrderReviewCTA({ order }: {\n  order: Order,\n}): React.ReactElement | null {\n  return (\n    <Alert severity=\"warning\" elevation={3}>\n      Your opinion matters! Review your order&nbsp;\n      <Link to={{\n        pathname: `/order/${order?.id}/reviews`,\n        state: { from: window.location.pathname }\n      }}>\n        here\n      </Link>.\n    </Alert>\n  )\n}","import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\nimport { Card, CardContent, LinearProgress, createStyles, Divider, makeStyles, Theme, Typography, Fab, Grid, Alert, darken } from \"@material-ui/core\";\nimport { Home } from \"@material-ui/icons\";\nimport { If, Then, Else } from \"react-if\";\n\n// src\nimport { isOrderActive, displayOrderStatus } from \"../bos_common/src/services/orderUtils\"\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\nimport { ColoredPaper } from \"../bos_common/src/components/Papers\";\nimport { FabContainer } from \"../bos_common/src/components/FabContainers\";\nimport axios from '../bos_common/src/services/backendAxios';\nimport { getAuthHeaders, getUTCDate } from \"../bos_common/src\";\n\nimport { AppContext } from \"../context/AppContext\";\nimport { Merchant, MerchantQRCode, Order, OrderStatus, OrderType } from \"../services/models\";\n\nimport PageHeader from \"../components/common/PageHeader\";\nimport Order1MPoints from \"../components/Order/Order1MPoints\";\nimport PickupDetails from \"../components/PickupDetails/PickupDetails\";\nimport CloseButton from \"../components/common/CloseButton\";\nimport SignupDrawer, { SignupEntrance } from \"../components/User/SignupDrawer\";\nimport RenderWaitTime from \"../components/common/WaitTime\"\n\n\nimport { displayTime, isEmptyOrNil, lineItemWithoutCarryoutBag } from \"../utils\";\nimport { captureOrderCheckoutCompleteEvent } from \"../services/Tracking/EventsTracking\";\n\nimport OrderLocalImpact from \"../components/Order/OrderLocalImpact\";\nimport OrderReviewCTA from \"../components/Order/OrderReviewCTA\";\n\ninterface IOrderStatusPageParams {\n  orderId: string,\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: theme.spacing(2),\n      '& .MuiCardHeader-action': {\n        marginRight: 0,\n      },\n      '& .fab': {\n        '& .MuiFab-root': {\n          '& .MuiSvgIcon-root': {\n            paddingRight: 0,\n            fill: \"white\",\n          },\n        },\n      },\n      '& .order-status': {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        '& .status': {\n          textAlign: 'right',\n          maxWidth: '70%',\n        }\n      },\n\n      '& .homeButton': {\n        background: theme.palette.primary.main,\n\n        '&:hover': {\n          background: darken(theme.palette.primary.main, 0.2)\n        }\n      }\n    },\n  }),\n);\n\nconst RenderOrderStatus = ({ order }: { order: Order | undefined }): React.ReactElement => {\n  if (!order) {\n    return (\n      <Typography variant=\"h6\" component=\"div\" className=\"status\">\n        Loading...\n      </Typography>\n    )\n  }\n\n  switch (order.status) {\n    case OrderStatus.FULFILLED:\n      return (\n        <Typography color=\"primary\" variant=\"subtitle1\" component=\"div\">\n          <If condition={Boolean(order.readyTime)}>\n            <Then><div>{`Ready at ${order.readyTime && displayTime(order.readyTime, false)}`}</div></Then>\n            <Else><div>{\"Ready for pickup\"}</div></Else>\n          </If>\n        </Typography>\n      )\n    case OrderStatus.PAID:\n    case OrderStatus.PREPARING:\n    case OrderStatus.REFUNDED:\n    default:\n      return (\n        <>\n          <Typography color=\"primary\" variant=\"subtitle1\" component=\"div\">\n            {displayOrderStatus(order)}\n          </Typography>\n          <If condition={order.status !== OrderStatus.REFUNDED}>\n            <If condition={getUTCDate(order.enqueueTime) < (new Date())}>\n              <Then>\n                <RenderWaitTime order={order} />\n              </Then>\n              <Else>\n                <div>{`Pick up time: ${displayTime(order.toPickupTime, true)}`}</div>\n              </Else>\n            </If>\n          </If>\n        </>\n      )\n  }\n}\n\ninterface GetPickUpDetailsProps { order: Order | undefined, merchant: Merchant | undefined, isKioskMode?: boolean }\nconst GetPickUpDetails = ({ order, merchant, isKioskMode = false }: GetPickUpDetailsProps) => {\n  return (\n    <Card elevation={isKioskMode ? 0 : 3}>\n      <CardContent className=\"order-status\">\n        <div className=\"info\">\n          <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n            Order for\n          </Typography>\n          <Typography variant=\"subtitle1\">\n            {order?.userDisplayName}\n          </Typography>\n        </div>\n        <div className=\"status\">\n          <If condition={merchant?.claimed}>\n            <Then>\n              <RenderOrderStatus order={order} />\n            </Then>\n            <Else>\n              <Typography color=\"primary\" variant=\"subtitle1\" component=\"div\">\n                Your order is being processed. Updates will be sent via SMS\n              </Typography>\n            </Else>\n          </If>\n        </div>\n      </CardContent>\n      <Divider />\n      <CardContent>\n        {order && merchant && <PickupDetails order={order} merchant={merchant} />}\n      </CardContent>\n    </Card>\n  )\n}\n\ntype RenderSignupDrawerProps = {\n  showDrawer: boolean,\n  signupEntrace?: SignupEntrance,\n  setShowDrawer: (_: boolean) => void,\n  exitPage: () => void,\n  order?: Order,\n  merchant?: Merchant\n}\nconst RenderSignupDrawer = (props: RenderSignupDrawerProps) => {\n  const { showDrawer, signupEntrace, setShowDrawer, exitPage, order, merchant } = props;\n\n  if (!showDrawer) {\n    return null\n  }\n\n  switch (signupEntrace) {\n    case SignupEntrance.EARNED_POINTS:\n    case SignupEntrance.NEW_ORDER:\n      return (\n        <SignupDrawer\n          open={showDrawer}\n          setOpen={setShowDrawer}\n          entrance={signupEntrace}\n          order={order}\n          merchant={merchant}\n        />\n      )\n    case SignupEntrance.SAVE_ORDER:\n      return (\n        <SignupDrawer\n          open={showDrawer}\n          setOpen={setShowDrawer}\n          entrance={signupEntrace}\n          onCTA={exitPage}\n        />\n      )\n    default:\n      return null\n  }\n}\n\nconst OrderStatusPage = (): React.ReactElement => {\n  const history = useHistory()\n  const classes = useStyles()\n  const { orderId } = useParams<IOrderStatusPageParams>()\n  const { user, token, authenticating } = useContext(UserContext)\n  const { activeOrder, setActiveOrder } = useContext(AppContext)\n\n  const [loading, setLoading] = useState(true)\n  const [order, setOrder] = useState<Order>()\n  const [error, setError] = useState<string>()\n  const [merchant, setMerchant] = useState<Merchant>()\n  const location = useLocation<{ from: { pathname: string }, new: boolean }>()\n  const [showDrawer, setShowDrawer] = useState<boolean>(false)\n  const [signupEntrace, setSignupEntrance] = useState<SignupEntrance>()\n\n  const from = location.state?.from;\n  const newOrder = location.state?.new;\n\n  const tableQrCodeObject = merchant?.qrCodes?.find((i: MerchantQRCode) => `${i.id}` === `${order?.tableId}`)\n  const { featureFlags } = useContext(AppContext);\n\n  const fetch = () => {\n    setLoading(true)\n\n    axios.get<Order>('/orders', { params: { id: orderId } })\n      .then((response) => {\n        setOrder(response.data)\n        const merchantId = response.data.merchantId\n        if (merchant?.id !== merchantId) {\n          axios.get<Merchant>('/merchants', { params: { id: merchantId } })\n            .then((response1) => {\n              setLoading(false)\n              setMerchant(response1.data);\n\n              captureOrderCheckoutCompleteEvent({\n                merchant: response1.data,\n                user,\n                order: response.data\n              })\n            }).catch((thrown1) => {\n              console.log(thrown1.message)\n              setError(\"Sorry, we could not find your order.\")\n              setLoading(false)\n            })\n        } else {\n          setLoading(false)\n        }\n      }).catch((thrown) => {\n        console.log(thrown.message)\n        setError(\"Sorry, we could not find your order.\")\n        setLoading(false)\n      })\n  }\n\n  // initial data load\n  useEffect(() => {\n    fetch()\n  }, [])\n\n  // if order status has updated from notifications, fetch again\n  useEffect(() => {\n    if (order && order.id === activeOrder?.id && order.status !== activeOrder.status) {\n      fetch()\n    }\n  }, [activeOrder])\n\n  // set Active order so that we can subscribe to those events in notification center\n  useEffect(() => {\n    if (order && isOrderActive(order) && order.id !== activeOrder?.id) {\n      setActiveOrder(order)\n    }\n  }, [order?.id])\n\n  // upsell for sign up for associate order with user\n  useEffect(() => {\n    if (!authenticating && order && isOrderActive(order)) {\n      if (newOrder) {\n        setShowDrawer(true);\n        setSignupEntrance(SignupEntrance.NEW_ORDER)\n      }\n      if (!order.userId) {\n        if (user) {\n          // associate this order with user\n          axios\n            .put('/orders',\n              { id: order.id, userId: user.id, },\n              { headers: getAuthHeaders(token) })\n            .then((response) => {\n              if (response.status === 200) {\n                setOrder(response.data)\n              }\n            })\n        } else if (order.oneMarketPoints && order.oneMarketPoints > 0) {\n          setShowDrawer(true);\n          setSignupEntrance(SignupEntrance.EARNED_POINTS)\n        }\n      }\n    }\n  }, [authenticating, user, order])\n\n  const getOrderType = (orderInfo: Order | undefined): string => {\n    if (orderInfo) {\n      switch (orderInfo.type) {\n        case OrderType.PICKUP:\n          return 'Pick Up'\n        case OrderType.DINEIN:\n          return `Dine In ${tableQrCodeObject ? `(Table: ${tableQrCodeObject?.identifier})` : ''}`\n      }\n    }\n\n    return \"Your Order\"\n  }\n\n  const needToSignup = (): boolean => {\n    return (!user && activeOrder && !activeOrder.userId) as boolean;\n  }\n\n\n  const onClose = () => {\n    if (needToSignup()) {\n      setSignupEntrance(SignupEntrance.SAVE_ORDER)\n      setShowDrawer(true)\n    } else {\n      exitPage()\n    }\n  }\n\n  const exitPage = () => {\n    if (from) {\n      history.goBack()\n    } else {\n      history.push(`/${merchant?.username}${order?.type === OrderType.DINEIN && tableQrCodeObject ? `?tableid=${tableQrCodeObject?.id}` : ''}`)\n    }\n  }\n\n  const RenderFabCTA = () => {\n    // Dont' render Home button when users come from order status page\n    if (from) return null\n\n    return (\n      <FabContainer alignment='right' fabStyle={{ padding: \"24px 16px 16px\" }}>\n        <Fab color=\"primary\" className=\"homeButton\" onClick={onClose} >\n          <Home />\n        </Fab>\n      </FabContainer>\n    )\n  }\n\n  const title = getOrderType(order);\n  const needReview = featureFlags?.enableReviews && order && order.userId &&\n    (order.reviews?.length || 0) < order.lineItems.filter(item => lineItemWithoutCarryoutBag(item, merchant)).length;\n\n  return (\n    <div className=\"container\">\n      <PageHeader title={title} leftChild={<CloseButton onClose={onClose} />} />\n      <If condition={loading}>\n        <Then><LinearProgress /></Then>\n      </If>\n      <If condition={error}>\n        <ColoredPaper>\n          <CardContent>\n            <Alert severity=\"warning\">{error}</Alert>\n          </CardContent>\n        </ColoredPaper>\n      </If>\n      <If condition={!!order}>\n        <ColoredPaper className={classes.root}>\n          <If condition={Boolean(order && merchant)}>\n            <Grid container justifyContent=\"space-evenly\" alignItems=\"flex-start\" spacing={2}>\n              <Grid item xs={12} sm={12} md={6} lg={6}>\n                <GetPickUpDetails order={order} merchant={merchant} />\n                <Divider />\n              </Grid>\n              <Grid container item xs={12} sm={12} md={6} lg={6} spacing={2} justifyContent={'flex-start'} display=\"flex\">\n                <If condition={needReview}>\n                  <Grid item xs={12}>\n                    <Card elevation={3}>\n                      {order && <OrderReviewCTA order={order} />}\n                    </Card>\n                  </Grid>\n                </If>\n                <If condition={order && !isEmptyOrNil(OrderLocalImpact({ merchant, order }))}>\n                  <Grid item xs={12}>\n                    {order && <OrderLocalImpact merchant={merchant} order={order} />}\n                  </Grid>\n                </If>\n                <If condition={order && !isEmptyOrNil(Order1MPoints({ merchant, order }))}>\n                  <Grid item xs={12}>\n                    {order && <Order1MPoints merchant={merchant} order={order} />}\n                  </Grid>\n                </If>\n              </Grid>\n            </Grid>\n          </If>\n\n          <RenderFabCTA />\n          <RenderSignupDrawer\n            showDrawer={showDrawer}\n            setShowDrawer={setShowDrawer}\n            exitPage={exitPage}\n            signupEntrace={signupEntrace}\n            order={order}\n            merchant={merchant}\n          />\n        </ColoredPaper>\n      </If>\n    </div>\n  );\n}\n\nexport default OrderStatusPage;","import { BaseIncrement } from \"./BaseIncrement\";\nimport { Merchant } from \"./MerchantType\";\n\nexport enum POINTS_TRANSACTION_TYPE {\n  redeemed = 'redeemed',\n  earned = 'earned',\n  refunded = 'refunded',\n  promotion = 'promotion',\n  expired = 'expired',\n}\n\nexport interface UserTransactionHistoryType extends BaseIncrement {\n  orderId?: string;\n  userId: string;\n  merchantId: string;\n  merchant: {\n    officialName: string,\n    username: string\n  }\n  points: number;\n  balance: number;\n  action: POINTS_TRANSACTION_TYPE;\n}\n","import React, { useEffect, useState } from 'react'\nimport { createStyles, LinearProgress, makeStyles, Theme, Typography } from '@material-ui/core';\n\ninterface Props {\n  onCompleteAction: () => void,\n  autoRedirectDuration?: number\n}\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  root: {\n    marginBottom: theme.spacing(2)\n  },\n}))\n\nconst AutoRedirectProgress = ({ onCompleteAction, autoRedirectDuration = 60 }: Props): React.ReactElement => {\n  const [progress, setProgress] = useState(0);\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setProgress((prevProgress) => (prevProgress >= autoRedirectDuration ? autoRedirectDuration : prevProgress + 1));\n    }, 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  if (progress >= autoRedirectDuration && onCompleteAction) { onCompleteAction(); }\n\n  return <div className={classes.root}>\n    <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">Auto redirect in {autoRedirectDuration - progress}s</Typography>\n    <LinearProgress variant=\"determinate\" value={progress * (100 / autoRedirectDuration)} />\n  </div>\n}\n\nexport default AutoRedirectProgress\n","import {\n  createStyles,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wideMode: {\n      display: 'grid',\n      gridTemplateColumns: '0.7fr 1fr',\n      height: '100vh',\n\n      '& .order-status-container': {\n        backgroundColor: '#f5faff',\n        textAlign: 'center',\n        display: 'flex',\n        alignItems: 'center',\n        boxShadow: '4px 0 5px 0px rgba(0,0,0,0.1)',\n\n        '& .content': {\n          width: 360,\n          margin: '0 auto',\n\n          '& img': {\n            width: '100%',\n            marginTop: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n          },\n          '& .pick-up-duration-text': {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          },\n          '& .promotion-image': {\n            maxWidth: \"180px\"\n          },\n        },\n      },\n\n      '& .order-details-container': {\n        display: 'flex',\n        alignItems: 'center',\n\n        '& .content': {\n          width: '80%',\n          margin: '0 auto',\n          padding: theme.spacing(0),\n\n          '& .spacer': {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n          },\n          '& .cta-button': {\n            marginTop: theme.spacing(4),\n            width: '100%',\n          },\n        },\n      },\n    },\n\n    compactMode: {\n      '& .order-status-container': {\n        backgroundColor: '#f5faff',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        boxShadow: '4px 0 5px 0px rgba(0,0,0,0.1)',\n\n        '& .content': {\n          padding: theme.spacing(4),\n          width: 300,\n          margin: '0 auto',\n\n          '& img': {\n            width: '100%',\n            marginTop: theme.spacing(4),\n            marginBottom: theme.spacing(4),\n          },\n          '& .pick-up-duration-text': {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            textAlign: 'center',\n          },\n          '& .promotion-image': {\n            maxWidth: \"180px\"\n          },\n        },\n      },\n\n      '& .order-details-container': {\n        display: 'flex',\n        alignItems: 'center',\n        margin: theme.spacing(4),\n\n        '& .content': {\n          width: '100%',\n          '& .spacer': {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n          },\n          '& .cta-button': {\n            marginTop: theme.spacing(4),\n            width: '100%',\n          },\n        },\n      },\n    }\n  })\n)","import React from 'react'\nimport {\n  Divider,\n  Typography,\n  Fab,\n  Grid,\n} from '@material-ui/core'\nimport { Check } from '@material-ui/icons'\n\nimport { displayOrderShortCode } from '../../bos_common/src/services/orderUtils'\n\nimport { Merchant, Order } from '../../services/models'\nimport AutoRedirectProgress from '../common/AutoRedirectProgress'\nimport RenderWaitTime from '../common/WaitTime'\n\nimport HeartIllustration from '../../assets/images/congratulations-rewards.svg'\nimport { useStyles } from './styles'\n\ninterface GetPickUpDetailsProps {\n  order: Order\n}\n\nconst GetPickUpDetails = ({ order }: GetPickUpDetailsProps) => {\n  return (\n    <div>\n      <div>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n          Order for\n        </Typography>\n        <Typography variant=\"h5\">{order.userDisplayName}</Typography>\n      </div>\n      <Divider className=\"spacer\" />\n      <div>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"div\">\n          Pickup code\n        </Typography>\n        <Typography variant=\"h5\" component=\"div\">\n          {displayOrderShortCode(order)}\n        </Typography>\n      </div>\n    </div>\n  )\n}\n\ninterface KioskOrderStatusProps {\n  order: Order\n  onClose: () => void\n  merchant?: Merchant\n}\n\nconst KioskOrderStatusWideMode = ({ order, onClose, merchant }: KioskOrderStatusProps): React.ReactElement => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.wideMode}>\n      <div className=\"order-status-container\">\n        <div className=\"content\">\n\n          <Typography variant=\"h4\">\n            <Check />&nbsp;Order Received\n          </Typography>\n\n          <div className=\"heart-illustration-container\">\n            <img\n              className=\"heart-illustration-image\"\n              src={HeartIllustration}\n              alt=\"heart-illustration\"\n            />\n          </div>\n\n          <div className=\"pick-up-duration-text\">\n            <RenderWaitTime order={order} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"order-details-container\">\n        <div className=\"content\">\n          <AutoRedirectProgress\n            onCompleteAction={onClose}\n            autoRedirectDuration={5}\n          />\n          <GetPickUpDetails order={order} />\n          <Fab\n            color=\"primary\"\n            variant=\"extended\"\n            size=\"large\"\n            onClick={onClose}\n            className=\"cta-button\"\n          >\n            Done\n          </Fab>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst KioskOrderStatusCompactMode = ({ order, onClose, merchant }: KioskOrderStatusProps): React.ReactElement => {\n  const classes = useStyles()\n\n  return (\n    <Grid container spacing={3} className={classes.compactMode}>\n      <Grid item xs={12} md={4}>\n        <div className='order-status-container'>\n          <div className=\"content\">\n            <Typography variant=\"h4\">\n              <Check fontSize=\"large\"/>\n              &nbsp;Order Received\n            </Typography>\n            <div className=\"heart-illustration-container\">\n              <img\n                className=\"heart-illustration-image\"\n                src={HeartIllustration}\n                alt=\"heart-illustration\"\n              />\n            </div>\n            <div className=\"pick-up-duration-text\">\n              <RenderWaitTime order={order} short={true} />\n            </div>\n          </div>\n        </div>\n      </Grid>\n\n      <Grid item xs={12} md={8}>\n        <div className='order-details-container'>\n          <div className=\"content\">\n            <AutoRedirectProgress\n              onCompleteAction={onClose}\n              autoRedirectDuration={5}\n            />\n            <GetPickUpDetails order={order} />\n            <Fab\n              color=\"primary\"\n              variant=\"extended\"\n              size=\"large\"\n              onClick={onClose}\n              className=\"cta-button\"\n            >\n              Done\n            </Fab>\n          </div>\n        </div>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport { KioskOrderStatusCompactMode, KioskOrderStatusWideMode }\n","import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router'\nimport { useParams } from 'react-router-dom'\nimport { CardContent, Theme, useMediaQuery } from '@material-ui/core'\nimport { If, Then, Else } from 'react-if'\n\n// src\nimport { Merchant, Order } from '../services/models'\nimport axios from '../bos_common/src/services/backendAxios'\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader'\n\nimport {\n  KioskOrderStatusCompactMode,\n  KioskOrderStatusWideMode,\n} from '../components/KioskOrderStatus/KioskOrderStatus'\n\ninterface KioskModeStatusContentProps {\n  order: Order\n  onClose: () => void\n  merchant?: Merchant\n}\nconst KioskModeStatusContent = ({\n  order,\n  onClose,\n  merchant\n}: KioskModeStatusContentProps) => {\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'))\n\n  return (\n    <If condition={isMobile}>\n      <Then>\n        <KioskOrderStatusCompactMode\n          order={order}\n          onClose={onClose}\n          merchant={merchant}\n        />\n      </Then>\n      <Else>\n        <KioskOrderStatusWideMode\n          order={order}\n          onClose={onClose}\n          merchant={merchant}\n        />\n      </Else>\n    </If>\n  )\n}\n\ninterface IOrderStatusPageParams {\n  orderId: string\n}\nconst KioskOrderStatusPage = (): React.ReactElement => {\n  const history = useHistory()\n  const { orderId } = useParams<IOrderStatusPageParams>()\n\n  const [merchant, setMerchant] = useState<Merchant>()\n  const [loading, setLoading] = useState(true)\n  const [order, setOrder] = useState<Order>()\n  const [error, setError] = useState<string>()\n\n  const fetch = () => {\n    setLoading(true)\n\n    axios\n      .get<Order>('/orders', { params: { id: orderId } })\n      .then((response) => {\n        setOrder(response.data)\n        const merchantId = response.data.merchantId\n        if (merchant?.id !== merchantId) {\n          axios\n            .get<Merchant>('/merchants', { params: { id: merchantId } })\n            .then((response1) => {\n              setLoading(false)\n              setMerchant(response1.data)\n            })\n            .catch((thrown1) => {\n              console.log(thrown1.message)\n              setError('Cannot load order status')\n              setLoading(false)\n            })\n        } else {\n          setLoading(false)\n        }\n      })\n      .catch((thrown) => {\n        console.log(thrown.message)\n        setError('Cannot load order status')\n        setLoading(false)\n      })\n  }\n\n  // initial data load\n  useEffect(() => {\n    fetch()\n  }, [])\n\n  const onClose = () => {\n    exitPage()\n  }\n\n  const exitPage = () => {\n    history.push(`/${merchant?.username}`)\n  }\n\n  return (\n    <div className='container'>\n      <SimpleLoader loading={loading} />\n\n      {order && <KioskModeStatusContent order={order} onClose={onClose} merchant={merchant} />}\n\n      <If condition={error}>\n        <CardContent>\n          <p>Sorry, we could not find your order.</p>\n        </CardContent>\n      </If>\n    </div>\n  )\n}\n\nexport default KioskOrderStatusPage\n","import {\n  pipe,\n  propOr,\n  filter,\n  pluck,\n  reduce,\n  flatten,\n  uniq,\n  without,\n  includes,\n  keys,\n  sum\n} from 'ramda'\n\nimport { isOverInventoryLimit } from \"../../bos_common/src/services/merchandiseUtils\";\nimport { CartItemType, MerchantCartConfig } from '../../context/AppContext';\nimport { LineItem, Merchandise, MerchandiseModifier, Order } from '../../services/models';\nimport { isMerchandiseAvailable } from '../../utils';\n\ntype checkCartItemsAvailabilityParams = {\n  cart: CartItemType[],\n  merchantConfig: MerchantCartConfig | undefined\n  openCheckOrder?: Order\n}\n\nexport const checkCartItemsAvailability = (params: checkCartItemsAvailabilityParams): boolean => {\n  const { cart, merchantConfig, openCheckOrder } = params\n  const cartItemQuantities: { [key: string]: number; } = {}\n\n  cart.forEach((item: CartItemType) => {\n    cartItemQuantities[item.id] =\n      item.quantity + (cartItemQuantities[item.id] || 0) - getItemsQuantityAlreadyBought(item, openCheckOrder)\n  })\n\n  const isAnyCartItemsNotAvailable = pipe(\n    propOr([], 'merchandises'),\n    filter((merch: Merchandise) => {\n      const itemCount = cartItemQuantities[merch.id] || 0\n      if (itemCount > 0) {\n        const _isOverStockLimit = isOverInventoryLimit(merch, itemCount)\n        return (_isOverStockLimit || !isMerchandiseAvailable(merch));\n      } else {\n        // pass through because this item is not in the order\n        return false\n      }\n    }),\n    (x: Merchandise[]) => x.length > 0\n  )(merchantConfig);\n\n  const cartUsedModifiersList = pipe(\n    pluck('modifiers'),\n    reduce((acc: string[], item: any) => [...acc, ...keys(item)], []),\n    flatten,\n    uniq,\n    without([undefined, '', null])\n  )(cart)\n\n  const isAnyModifierItemUnavailable = pipe(\n    propOr([], 'modifiers'),\n    filter((modifier: MerchandiseModifier) => {\n      const isModifierSelectedWithinCart = includes(modifier.name, cartUsedModifiersList);\n      return isModifierSelectedWithinCart && !modifier?.available\n    }),\n    (x: MerchandiseModifier[]) => x.length > 0\n  )(merchantConfig);\n\n  return isAnyCartItemsNotAvailable || isAnyModifierItemUnavailable\n}\n\nexport const getItemsQuantityAlreadyBought = (item: CartItemType, openCheckOrder?: Order) => {\n  return pipe(\n    propOr([], 'lineItems'),\n    filter((lineItem: LineItem) => lineItem.id === item.id && lineItem.customizationSignature === item.modifiersSignature),\n    pluck('quantity'),\n    without(['', undefined, 'null']),\n    sum\n  )(openCheckOrder)\n}","import React from 'react';\nimport { PaymentMethod } from \"@stripe/stripe-js\";\nimport { Case, Default, If, Switch } from \"react-if\";\n\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport classNames from 'classnames';\n\nimport { isEmptyOrNil } from \"../../utils\";\n\nimport ImageCardVisa from \"../../assets/images/card_visa.png\";\nimport ImageCardMC from \"../../assets/images/card_mc.png\";\nimport ImageCardAmex from \"../../assets/images/card_amex.png\";\nimport ImageCardOther from \"../../assets/images/card_others.png\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CheckBoxOutlineBlank from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBox from '@material-ui/icons/CheckBox';\n\nexport interface CreditCardLogoProps {\n  brand?: string | 'visa' | 'mastercard' | 'american express';\n}\n\nexport const CreditCardLogo = (props: Readonly<CreditCardLogoProps>): JSX.Element => {\n  const { brand } = props;\n\n  return (\n    <div  style={{ height: '42px', width: '72px', paddingTop: '.75rem', }}>\n      <Switch>\n        <Case condition={brand === 'visa'}>\n          <img src={ImageCardVisa} alt={brand} decoding=\"async\" />\n        </Case>\n        <Case condition={brand === 'mastercard'}>\n          <img src={ImageCardMC} alt={brand} decoding=\"async\" />\n        </Case>\n        <Case condition={brand === 'american express'}>\n          <img src={ImageCardAmex} alt={brand} decoding=\"async\" />\n        </Case>\n        <Default>\n          <img src={ImageCardOther} alt={brand} decoding=\"async\" />\n        </Default>\n      </Switch>\n    </div>\n  );\n}\n\nconst useStylesForCreditCardListItem = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex', \n      padding: '1rem', \n      margin: '1rem', \n      transition: 'all .33s',\n      position: 'relative',\n\n      \"&.selected\": {\n        backgroundColor: theme.palette.primary.main,\n      },\n\n      \"&.selectable\": {\n        cursor: 'pointer',\n      },\n\n      \"& .card-checkbox\": { \n        position: 'absolute', \n        top: '1rem', \n        right: '1rem',\n      }\n    },\n  })\n);\n\nexport interface CreditCardListItemProps {\n  item: PaymentMethod;\n  selected?: boolean;\n  withCheckBox?: boolean;\n  onClick?: (selectedItem: PaymentMethod) => void\n}\n\nexport const CreditCardListItem = (props: Readonly<CreditCardListItemProps>): JSX.Element => {\n  const classes = useStylesForCreditCardListItem();\n  const { item, selected, withCheckBox, onClick } = props;\n\n  const containerClassNames = classNames([classes.root], {\n    selectable: withCheckBox,\n  });\n\n  const handleClick = (item: PaymentMethod) => {\n    if (onClick) {\n      onClick(item);\n    }\n  }\n\n  return (\n    <Paper className={containerClassNames} elevation={3} onClick={() => handleClick(item)}>\n      <CreditCardLogo brand={item.card?.brand.toLowerCase()} />\n      <Box sx={{ marginLeft: '1rem' }}>\n        <Typography variant=\"subtitle1\">xxxx xxxx xxxx {`${!isEmptyOrNil(item.card?.last4) ? item.card?.last4 : 'xxxx'}`}</Typography>\n        <Box style={{ display: 'flex' }}>\n          <Typography variant=\"subtitle2\" style={{ color: '#9CA5A8' }}>{item.billing_details.name}</Typography>\n          <Typography variant=\"subtitle2\" style={{ marginLeft: '.5rem', color: '#016FD0' }}>Exp. {`${item.card?.exp_month}/${item.card?.exp_year}`}</Typography>\n          <If condition={withCheckBox}>\n            <Checkbox\n              icon={<CheckBoxOutlineBlank fontSize='large' />}\n              checkedIcon={<CheckBox fontSize='large' color='primary' />}\n              checked={selected}\n              className=\"card-checkbox\"\n            />\n          </If>\n        </Box>\n      </Box>\n    </Paper>\n  );\n}\n\nexport interface CreditCardListProps {\n  paymentMethods: PaymentMethod[];\n  selectedPaymentMethodId?: string;\n  withCheckBox?: boolean;\n  onClickItem?: (selectedItem: PaymentMethod) => void\n}\n\nexport const CreditCardList = (props: Readonly<CreditCardListProps>): JSX.Element => {\n  const { paymentMethods, selectedPaymentMethodId, withCheckBox, onClickItem } = props;\n  const handleClickCard = (item: PaymentMethod) => {\n    if (onClickItem) {\n      onClickItem(item);\n    }\n  }\n  const creditCardsEl = paymentMethods.map((item: PaymentMethod) => \n    <CreditCardListItem \n      item={item} \n      key={item.id} \n      selected={selectedPaymentMethodId === item.id}\n      withCheckBox={withCheckBox}\n      onClick={handleClickCard} />\n  );\n\n  return (\n    <Box className=\"credit-card-list\">{creditCardsEl}</Box>\n  );\n}\n\nexport default CreditCardListItem;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATSSURBVHgB7VhBbxtFFP5m1jQNF8wFKRzI5hfUQeLUQzfcEQbapgShrgniVKnKL2gQPwAqDhxotamQUBsEde+VWLgguNQ9gMQBZcOB5oBUV0JV09YzzOzY3p2dN7tG9FCp/iTbO7NvZt987833xgvMMcccczzDYHia0f0iRKsVgvEQUmR53+PWAP3eEE8I7PDrpR3Fwgl1GfrNZDo6lL3F3kHmNVlP9tR3WOn9DNd6Wzj5ZYSg9X3l3lDde9GZp5u0cQTnVWhiYr6xOxiAYwtXeyl5/0yiCEOirjrq0657Jl/YuBMf2bizMhqJNQl5hZwQLAoWWAIfziQx6SzDxfw34B1i1MDpWU/OYwF7atw2fIs383YgrIXZkNBkR4Bj08bbl5bLHXxysfj+QarJGDGx8ts/L6XurIxahIHAm4QXN1SEsvHY0B0jb1vt08kF6IxBzcLK4KC3gc62OvICtmZPU8HiuwdZ5+a5i5u33sH+fStb2vLbpWVnQp1uDF2nX7KdosGOOfe5zCpzbIOGXmg2/hR4QGSQRtA6i1rYgWyRNg+D9Ks/X8WPf6/g5vHLWH7+ruk+HK2qn/2KdUTMkGG31y+13exhvFiAxAVyDoaetc+NPkQqfTrob7oZYPZ+jDpwOxicNDIqm+oMeC09h9v3lozPCCLHVijBcvs+tpym0rocQUkQJMUVR+S0X5rY3c1tUBAiJnqzStt6Fk2A8SDfo8NHR3Hyl/fy7SBYZW+dSjq5IFURIJ1etx5T2jG0ShkjCGL8bB7R/wI9xsYAUv5Q6bOE0E8AY9MU1ovXmsAlO2HZcCL6wE4hfpi1AmSETZir+anLMWYBVYmEqkJMulpREkI/ASZFp1HSevD5H8erQhg54xgqpZSFjk21ArDSlrERgvMkP2M0ESHhip/ORMFT17gQQj8BJkUt9j75/XX89NfLq3nj9KUu3HKTuYeThgqgocf4SQAKIq6PNcWG2SqR3Tkuw9/0rECa5xeZXKMBGuJGuaX1YOvXNyLTClzGBbmI+gowwdXedgMJGl11ULru9FJVRBRbWN3PUPVpTGQ9AUT6/Hz3ldBb+8vil7vrqQAPR3ugYEhYUcLlOZHmiKztYKIfV2x05HemLeYIIfCcyd56Aqj0QZ4+EWFti5+GrwJ89+E+fNBz7H4QGyI8hx3OyuRHhEVqtRhz5+Eiyl1EE6TaS4yV072tHPvUsRPjc38Zs/4HoGDIXFVH5FtuqWUvFP6Rh6hY6UVcsiHAc21q0AD9LEk5XE3rwThbqoNDt0/em15SguYi895pOvfXI9JfzRnAeJ+MeBlU9M1gtwKov9bTywUR5/8AhVDiN1IkflSQqMlZyEtbl3ie0Qjeos4hsyLUz2gmQKfiepLBz7QtOGVIlSnVVy6SZ0WDhZiUOJ2M64nWm4nm0AKqn6fF1pz7u/g/OIpOMwE5lA6A+dhOyV4dQeqYbJUkJ0N8iy6P31IvNXRQEtKXa701cpw+t7DALqFSdJo1IPeT+YXLV7vpCoCKVtA2NIZq8W+V/mVGjoWAv3zygNKoaDYCHqDvuZM6pW/6QEZF0naCqWj6MmgCXQo1yYeqLE4W73sD9cjr56SqVEv6safnpehGYl5zTV51tdRWua8+T/AF6BxzzDHHHBX8C8uRoO56I5ERAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR8SURBVHgB7Zk9cBtFFMf/e3eyLcsKyiQmdsgMIpUpmJGHJlScZyjogI4OBybDUAUqSksNbZSSYRjLFUOHOxomMhUUDEoHDTkGPHhIguwo/oh8d8t7uj1khBR53wlo8pvZ0en2vd1973b33dtTmCB3seAruG8B2tdQ5ZN1CtjV0E26v/k0thuDunq9VDqMC6sO9MuxUtQOSgP6La3QCsNoo3htp4kJoTAB2HDAXaNL/zTy1GkQA7XUEUfrl67HWlcHjX4MATRq+XcS/SxkdsBdPHODft6HALcYBrMfIdAFz4cAmhH12avbHyADYgfcQak0h8ItuqxAgFsIceaVe3DOAd0Xz0PnPUjgpTGt9lfU1d1dCHAgpIi5dWQ03i1EUEcRpr67BxXGkKBpDEdx4QaEiBxwHxfXaEN7HULyL3R6xqewE3K3/4AYhdWDTxdFy9B6CfyGhXIO7vf69BvW35i5fIC5K+2hdbwU4rPTkMBRhpbCc7ZLwXoGkPFrUuOZmaXOyDrvpw6k8JgO4lnrWSBZAj6EeKUulXBkvdN+1CtSXKWuwxIrB3C8J0+XIcS70B0r43SOIYVnQeeTS76NjuUMcEW7fkruwvin67THO+lxuE5kNUYrB2R5+r3OpvR4ocMQmVBO2UbccgbE4s2P4fg/Dun7wF/6Ck/ZyFs6wBG9bdmgPfG7WaKvsWcjb9UbJzHIwHE7N14olzE90XFgI27pbtVCBuJ9d6yMLk4hC1HsWo3RygEePG5cvAy6v+THykTzM5DCb4PFa782bXSsHHAWAR1qYANCjn+fRvxw9CzQM674Vbinr/AFLJHsOA1k4PDHuZF14eUzyMRRVIMl1g6gU5yWgroJIeyAcMhmyE8/ujgLKTQzb+bf2wlgiSjmuPCq9CPeEB98fQ6629/ttacoE5yHHB3k1X4VAkQO4L0gRPQGnQkEEMDRYO+r+Z4TUuN1fnyEGA6N4VH8358ILWIniBCvQDgTeBk8uHU+6C7PB7p4iveD4TTZeMnUT8n02sVOmMf2MgWgmu1soAXQaN8/XtYlZyW2jCyaQ7FWtfzb25mMN+OYDHxS5MLl83zOySvDO9N0HK42I0R1dt7JusP1hXKs3Sp/FyDJ8ohummT41ozzsC6d8v8c079AcmI8V6FoUYopgaLfIIQXLCIITqPPzkDolekDSUkrSsAitAq5/WBSRj/hf4TTaR+Th9tdhQBp7PGRrPMlKjtU3kSSI+wO1P1g/vum7lUke8TeibqKuU51ykaW22TDAip8BL+A/oFMZUCOE4jXqGzCEqkDqqbTK0iMYlLD3qVymwp/OPmYymdUPkf/JPklKt8YXd/c4zbYeDbsS6OzhcRoNux501/aNvf1LZUPTZ9Lpn1rB2QJg2xgA8kTqiJ5ImwAhzROStLMkQe1Zur43h1Tz/K04/cMTE9x0mQmMNcNo8ft19HPRNkJTdNG/YSeNbIPcqNpIHEMG+YjeSrPIjGojMQANog/ZW2YOr63hX7oZFll2vnZ1KXXg0dym6auBGGa/idDY3JM324bZQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALzSURBVHgB7ZjLaxNRFMZPahqNimmCLwxii0VXoVl127jrLs3WTalrsVXQpa3/gDXg1kc3bm137jRLuzGh20gTpIKoqdFKxFc8v2uupnGEwp1gZeaDYe7cF3O+851z7kxEHBGZLbflH6JdzEbEAQMScIQESMAREiABR0iABBwhARJwRMUHZNP7ZCi+R9YbX2QkNWj6aCfjA6Z/pyhvfDJ7daN3T9t+Uv0ofsBZAcOpmMxOHJG2RGSxcEKmx1NyKrXXtOcnj5v+6527vZhj25d07Vh6v5nD/EQ8KhOjByWfGdq2J/2PL542c5nnF5wVMD95TBYevTKe5qpstGRlranEDEpNPVaqbuk9KfXGZzMX1LQ9lTmkRMXkysOX5s78YumN3FSDs+m4nLv9fNue7LO02lCVtMxav+BLDuBrBCXcUCLA9HhSltfem5fGm+Bd65vKdssYAG6psRcevFD1HP61D0RMZRJmndeeS6ubZh8/4UwAXsurR3KjB4yniE3ruXyPp1AEcQ4WVA0YTx/AeJQxo6T8bU/UUekQ6BecPiXB/adv2xixrLJH4k31UMIj8TW7PGfHK0oG0ueZcbwLEbQhCrVAkt3Tzuf7G/UA189hZwL+9/8BvpRBL9w9f/KPPjyJzMc0yVnYcKHf6xkMd8LDjgObC2aK4oS+ETCiL124UzN1HVn/fPGI3qMmjpF4s/VVNlvfZU5lflmrATFPrSeUqA52bUXXlKofzB6UTeZyHrAJ1gV9PwlyJsDoxULaxDSljDagvufUCOtdDMLb9c6zXcs4bS4Q6RpzRd8UAPAe5QtYI0lmthTSh5chgsxvZc0zZdSu5VxAkl3RPq57Gl7rutYmQhf0LQk+u3pGa/1r07ZxzYWHIYA2BCFnSiJnBE54HKLIESjFruWZswGAHDsGMXO5o7uzCnjF529px8wdj5MPMBBD60bqMdkpWF++dnZ3VgHrMS90Z3jQfbjpHes3wv8BEnCEBEjAERIgAUdIgAQcPwByrWrnUGYAQwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEXSURBVHgB7djNCcJAEAXgtya5W4J2oJ14CuRoB1qJJXgM5KQd2IF2oCWkgPy4Ax5EFIQ3ySZkPggke9vH7GwYwBgzZQ4K8jxfxHF8bNt25T/n6N6prut9lmUPkOgAZPNRFF3Rz8bflT6ENRvCDKQkSQ7of/NiLlUHEh1A0zQbBPI6chQ6gMDoyht7ALQYynxjWn42plejvGOA1CvgW1fWuK66MvkjoB6AlPs/a0Oh3gPkrBdFgbGwWwDKvt0CvwzhdrAKgDLrASOjHoD0gDRNnTzyrr2ubfIVQA9E/HlvEZBUCAjWA8ArMWJ0AM65GwLx06gzSHQAVVVtEaYKSj8S24FEByC/vTKd9a8n9KP0VXfRmAgbY8wTc5F6Y0FDw/EAAAAASUVORK5CYII=\"","import { PaymentMethod, SetupIntent } from \"@stripe/stripe-js\";\nimport { RootState } from \"../../store\";\n\nexport const getStripeLoadingStatus = (state: RootState): boolean => state.stripe.loading;\n\nexport const getStripeUpdatingStatus = (state: RootState): boolean => Boolean(state.stripe.updating);\n\nexport const getUserPaymentMethods = (state: RootState): PaymentMethod[] => {\n  const { stripePaymentMethods } = state.stripe.entities;\n  return Object.values(stripePaymentMethods);\n};\n\nexport const getUserPaymentMethod = (state: RootState) => (id: string): PaymentMethod | undefined => {\n  const { stripePaymentMethods } = state.stripe.entities;\n  return stripePaymentMethods[id];\n}\n\nexport const getSetupIntent = (state: RootState): SetupIntent | undefined => {\n  const { setupIntent } = state.stripe.entities;\n  return setupIntent;\n}\n","import React from \"react\";\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport { PaymentMethod, StripeCardElementOptions } from \"@stripe/stripe-js\";\nimport PhoneInput from \"react-phone-input-2\";\nimport { If, Then } from \"react-if\";\n\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Alert from \"@material-ui/core/Alert\";\n\nimport { createPaymentMethod } from \"../../redux/slice/stripe/stripeAction\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\nimport { getStripeUpdatingStatus } from \"../../redux/slice/stripe/stripeSelector\";\nimport { PHONE_ONLY_COUNTRIES } from \"../../config/constants\";\nimport { isEmptyOrNil } from \"../../utils\";\nimport BottomDrawer from \"../../bos_common/src/components/BottomDrawer\";\nimport { Grid } from \"@material-ui/core\";\n\nconst options: StripeCardElementOptions = {\n  style: {\n    base: {\n      fontSmoothing: \"antialiased\",\n      fontSize: \"16px\",\n    },\n    invalid: {\n      color: \"#fa755a\",\n      iconColor: \"#fa755a\",\n    },\n  },\n};\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  root: {\n    minHeight: '280px',\n    padding: '0 1rem 1rem',\n\n    \"& .phone-input\": {\n      margin: `${theme.spacing(2)} 0`,\n\n      \"& .react-tel-input\": {\n        \"& .flag-dropdown, & .flag-dropdown.open .selected-flag\": {\n          borderRadius: '6px 0 0 6px'\n        },\n        \"& input\": {\n          width: \"100%\",\n          height: \"44px\",\n          borderRadius: \"6px\",\n          border: \"1px solid rgba(0, 0, 0, 0.15)\",\n        },\n        \"& .country-list\": {\n          borderRadius: '0px',\n        },\n        \"& .phoneInput\": {\n          \"&:focus\": {\n            borderColor: theme.palette.primary.main,\n            boxShadow: \"unset\",\n          },\n        },\n      },\n      \"& .helper-text\": {\n        color: 'rgba(0, 0, 0, 0.6)',\n        fontSize: '0.75rem',\n        marginTop: '3px'\n      },\n    },\n\n    \"& .phone-number-container\": {\n      marginTop: theme.spacing(4),\n    },\n\n    \"& .react-tel-input .form-control\": {\n      width: '100%',\n      borderColor: theme.palette.primary.main,\n    },\n\n    \"& .credit-card-input\": {\n      margin: '1rem 0',\n      padding: '1rem',\n      border: `1px solid #c4c4c4`,\n      borderRadius: '.5rem',\n      \"&.StripeElement--focus\": {\n        borderColor: theme.palette.primary.main,\n        borderWidth: \"2px\",\n        padding: 'calc(1rem - 1px)',\n      },\n    }\n  }\n}));\n\nexport interface AddPaymentFormDrawerProps {\n  open: boolean;\n  setOpen: (_: boolean) => void;\n  hidePhoneNumber?: boolean;\n  onPaymentMethodCreated?: (paymentMethod: PaymentMethod, phone?: string) => void;\n}\n\nexport const AddPaymentFormDrawer = (props: Readonly<AddPaymentFormDrawerProps>): JSX.Element => {\n  const { open, setOpen, hidePhoneNumber=true, onPaymentMethodCreated } = props;\n  const classes = useStyles();\n  const elements = useElements();\n  const stripe = useStripe();\n  const updating = useAppSelector(getStripeUpdatingStatus);\n  const reduxDispatch = useAppDispatch();\n  const [name, setName] = React.useState<string>('');\n  const [phone, setPhoneNumber] = React.useState<string>('');\n  const [error, setError] = React.useState<string>('');\n\n  const handleChangeName = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = (e.target as HTMLInputElement).value;\n    setName(value);\n    setError(\"\");\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    if (updating || !isValid()) {\n      e.preventDefault();\n      return;\n    }\n\n    e.preventDefault();\n\n    try {\n      const card = elements?.getElement(CardElement);\n\n      if (!elements || !card || !stripe) {\n        throw new Error(\"Could not connect to payment services\");\n      }\n\n      reduxDispatch(createPaymentMethod({\n        stripe,\n        card,\n        name,\n      }))\n        .then((res: any) => {\n          if (isEmptyOrNil(res?.payload)) {\n            setError(\"Could not add card, please check the information and try again\");\n            return;\n          }\n\n          const createdPaymentMethod = res.payload[0] as PaymentMethod;\n          if (onPaymentMethodCreated) {\n            onPaymentMethodCreated(createdPaymentMethod, phone);\n          }\n        });\n\n    } catch (error) {\n      throw new Error(\"Could not connect to payment services\");\n    }\n  }\n\n  const isValid = () => {\n    if (!hidePhoneNumber && phone.length < 11) {\n      setError(\"Phone number is required\");\n      return false;\n    }\n\n    if (name.trim().length < 1) {\n      setError(\"Name is required\");\n      return false;\n    }\n\n    return true;\n  }\n\n  return (\n    <BottomDrawer\n      open={open}\n      setOpen={setOpen}\n    >\n      <Paper className={classes.root}>\n        <Grid container justifyContent=\"center\">\n          <Grid item xs={12} sm={6} lg={4}>\n            <div className=\"credit-card-inputs-row\">\n              <form onSubmit={handleSubmit}>\n                <Box style={{margin: '1rem 0'}}>\n                  <Typography variant=\"h6\" style={{ textAlign: 'center' }} mb=\"1\">Add Payment Method</Typography>\n                </Box>\n                <Divider />\n                <If condition={!hidePhoneNumber}>\n                  <Then>\n                    <Box style={{margin: '1rem 0'}}>\n                      <PhoneInput\n                        inputClass=\"phoneInput\"\n                        country={'us'}\n                        onlyCountries={PHONE_ONLY_COUNTRIES}\n                        value={phone}\n                        specialLabel=\"\"\n                        placeholder=\"+1 (234) 567-8910\"\n                        onChange={p => {\n                          setPhoneNumber(p);\n                          setError(\"\");\n                        }}\n                      />\n                      <Typography variant=\"caption\">Please add phone number to receive order updates, required</Typography>\n                    </Box>\n                    <Divider />\n                  </Then>\n                </If>\n                <Box style={{margin: '1rem 0'}}>\n                  <TextField id=\"outlined-basic\" label=\"Name\" variant=\"outlined\" color=\"primary\" onChange={handleChangeName} style={{ width: '100%' }} required />\n                </Box>\n                <CardElement\n                  className=\"credit-card-input\"\n                  options={options}\n                />\n                <Box style={{margin: '1rem 0'}}>\n                  {error && <Alert severity=\"warning\" sx={{mb: 1}}>{error}</Alert>}\n                  <Button color=\"primary\" variant=\"contained\" size=\"large\" style={{ width: '100%' }} type=\"submit\" disabled={updating}>Add</Button>\n                </Box>\n              </form>\n            </div>\n          </Grid>\n        </Grid>\n      </Paper>\n    </BottomDrawer>\n  );\n}\n\nexport default AddPaymentFormDrawer;\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { useStripe, PaymentRequestButtonElement } from \"@stripe/react-stripe-js\";\nimport { PaymentIntent, SetupIntent, PaymentRequest, PaymentRequestPaymentMethodEvent, PaymentMethod } from \"@stripe/stripe-js\";\nimport { Alert, Box, createStyles, Fab, Grid, makeStyles, Paper, Theme, Typography } from \"@material-ui/core\";\nimport { CreditCard } from \"@material-ui/icons\";\nimport { If } from 'react-if';\n\n// src\nimport { UserContext } from \"../../bos_common/src/context/UserContext\";\nimport axios from \"../../bos_common/src/services/backendAxios\";\nimport renderPrice from \"../../bos_common/src/components/Price\";\nimport { getAPIErrorMessage, getAuthHeaders } from \"../../bos_common/src/utils\";\nimport SimpleLoader from \"../../bos_common/src/components/SimpleLoader\";\n\nimport { AppContext } from \"../../context/AppContext\";\nimport { Order, Merchant } from \"../../services/models\"\nimport { getTotalPrice } from \"../../services/cartUtils\";\nimport createOrderService from \"../../services/createOrderService\";\nimport { getLiveMerchantPromotion, isCartFromAnOpenTabOrder, isEmptyOrNil } from \"../../utils\";\nimport { checkCartItemsAvailability } from \"./utils\";\nimport { LOCALSTORAGE_APP_KEYS } from \"../../bos_common/src/constants\";\nimport { CreditCardList } from \"./CreditCardList\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\nimport { getToken } from \"../../redux/slice/auth/authSelector\";\nimport { getStripeLoadingStatus, getUserPaymentMethod, getUserPaymentMethods } from \"../../redux/slice/stripe/stripeSelector\";\nimport { fetchUserPaymentMethods } from \"../../redux/slice/stripe/stripeAction\";\nimport { AddPaymentFormDrawer } from \"./AddPaymentFormDrawer\";\nimport CountBox from \"../common/CountBox\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      justifyContent: \"center\",\n      alignSelf: \"center\",\n      margin: theme.spacing(1),\n\n      '& .credit-card-form-container': {\n        marginTop: theme.spacing(4),\n        '& .credit-card-pay-btn': {\n          marginTop: theme.spacing(3),\n          width: '100%'\n        },\n      },\n\n      \"& .credit-card-list .MuiPaper-root\": {\n        margin: '1rem 0',\n      },\n\n      \"& .paper-item\": {\n        display: 'flex',\n        padding: '1rem',\n        margin: '1rem 0',\n        cursor: \"pointer\"\n      },\n    },\n  }),\n);\n\ntype CreditCardPaymentProps = {\n  merchant?: Merchant,\n  currency: string,\n  amountInCents: number,\n  processing: boolean,\n  setProcessing: (_: boolean) => void,\n  setError: (_: string) => void,\n  createOrder: (_?: string, __?: string, ___?: string) => Promise<void>,\n  checkPrerequisite: () => boolean,\n}\n\nconst CreditCardPaymentForm = (props: CreditCardPaymentProps) => {\n  const { merchant, currency, amountInCents, setError, createOrder, processing, setProcessing, checkPrerequisite } = props;\n  const { user, authenticating } = useContext(UserContext);\n  const { cartType } = useContext(AppContext);\n  const stripe = useStripe();\n  const token = useAppSelector(getToken);\n  const userPaymentMethods = useAppSelector(getUserPaymentMethods);\n  const paymentMethodLoading = useAppSelector(getStripeLoadingStatus);\n  const reduxDispatch = useAppDispatch();\n  const [paymentMethodId, setPaymentMethodId] = useState<string>('');\n  const [phoneNumber, setPhoneNumber] = useState<string | undefined>('');\n  const [addCardShown, setShowAddCard] = useState<boolean>(false);\n  const paymentMethod = useAppSelector(getUserPaymentMethod)(paymentMethodId);\n\n\n  useEffect(() => {\n    // Whether need to show card addition form on initial page load.\n    if (!authenticating && !paymentMethodLoading && isEmptyOrNil(userPaymentMethods)) {\n      setShowAddCard(true);\n    } else {\n      setShowAddCard(false);\n    }\n    if (userPaymentMethods.length > 0 && paymentMethodId === '') {\n      setPaymentMethodId(userPaymentMethods[0].id)\n    }\n  }, [userPaymentMethods.length, authenticating, paymentMethodLoading]);\n\n  useEffect(() => {\n    if (token) {\n      reduxDispatch(fetchUserPaymentMethods());\n    }\n  }, [token]);\n\n  const handleClickItem = (paymentMethod: PaymentMethod) => {\n    if (processing || !merchant) {\n      return\n    }\n\n    setPaymentMethodId(paymentMethod.id);\n  }\n\n  const handleSubmitPay = async (ev: React.FormEvent) => {\n    ev.preventDefault();\n    if (processing && !paymentMethodId) {\n      return;\n    }\n\n    if (!checkPrerequisite()) {\n      return;\n    }\n\n    attemptToPay();\n  };\n\n  const attemptToPay = () => {\n    // Create PaymentIntent over Stripe API\n    setProcessing(true);\n    const config = token ? { headers: getAuthHeaders(token) } : {}\n    axios.post<PaymentAttempResponse>(\n      '/users/pay-with-card',\n      {\n        merchantId: merchant?.id || '',\n        currency,\n        amount: amountInCents,\n        paymentMethodId: paymentMethodId,\n        customerId: paymentMethod?.customer,\n      },\n      config,\n    ).then((response) => {\n      setProcessing(false);\n      if (response?.data.paymentIntent) {\n        createOrder(\n          response?.data.paymentIntent.id,\n          user?.displayName || paymentMethod?.billing_details.name || '',\n          user?.phoneNumber || phoneNumber\n        );\n      } else {\n        setError('Payment service is not available at this moment, please try again later');\n      }\n    }).catch((err) => {\n      setProcessing(false);\n      const msg = getAPIErrorMessage(err);\n      setError(msg);\n    });\n  }\n\n  const handlePaymentMethodCreated = (paymentMethod: PaymentMethod, phone?: string) => {\n    setPaymentMethodId(paymentMethod.id);\n    setPhoneNumber(phone);\n  }\n\n  return (\n    <div className=\"credit-card-form-container\">\n      <Typography variant=\"subtitle1\" style={{ textAlign: 'center', gap: \"10px\" }} mt=\"1rem\">\n        Saved Cards <CountBox count={Number(userPaymentMethods?.length)} />\n      </Typography>\n      <form onSubmit={handleSubmitPay}>\n        <CreditCardList paymentMethods={userPaymentMethods} onClickItem={handleClickItem} selectedPaymentMethodId={paymentMethodId} withCheckBox />\n        <Box>\n          <Paper elevation={3} className=\"paper-item\" onClick={() => setShowAddCard(true)}>\n            <CreditCard sx={{ height: '54px', width: '54px' }} fontSize=\"large\" />\n            <Box sx={{ marginLeft: '1rem' }}>\n              <Box style={{ display: 'flex' }}>\n                <Typography variant=\"subtitle1\" style={{ marginTop: '.75rem' }}>Add Payment Method</Typography>\n              </Box>\n            </Box>\n          </Paper>\n        </Box>\n        <Fab\n          color=\"primary\"\n          variant=\"extended\"\n          type=\"submit\"\n          disabled={processing || !stripe || !paymentMethodId}\n          className=\"credit-card-pay-btn\"\n        >\n          <CreditCard fontSize=\"large\" />\n          &nbsp;{isCartFromAnOpenTabOrder(cartType) ? 'Pay' : 'Place Order'} {renderPrice(amountInCents / 100)}\n        </Fab>\n      </form>\n      <AddPaymentFormDrawer\n        open={addCardShown}\n        setOpen={setShowAddCard}\n        hidePhoneNumber={!isEmptyOrNil(user?.phoneNumber)}\n        onPaymentMethodCreated={handlePaymentMethodCreated} />\n    </div>\n  );\n};\n\n\ntype IntegratedPaymentMethodsProps = {\n  merchant?: Merchant,\n  currency: string,\n  amountInCents: number,\n  checkPrerequisite: () => boolean,\n  setError: (_: string) => void,\n  createOrder: (_?: string, __?: string, ___?: string) => Promise<void>,\n  setProcessing: (_: boolean) => void,\n}\nconst IntegratedPaymentMethods = (props: IntegratedPaymentMethodsProps) => {\n  const { merchant, currency, amountInCents, checkPrerequisite, setError, createOrder, setProcessing } = props;\n  const stripe = useStripe();\n  const [paymentIntentId, setPaymentIntentId] = useState('');\n  const [paymentRequest, setPaymentRequest] = useState<PaymentRequest>();\n  const [hide, setHide] = useState(false);\n\n  const handlePaymentMethodReceived = useCallback(async (ev: PaymentRequestPaymentMethodEvent) => {\n\n    // early exist without the proper data\n    if (!stripe || !paymentIntentId) return;\n    // if (!checkPrerequisite()) return;\n\n    // Confirm the PaymentIntent without handling potential next actions (yet).\n    setProcessing(true);\n    const payload = await axios.post<PaymentIntent>(\n      '/users/confirm-payment-intent',\n      {\n        merchantId: merchant?.id || '',\n        payment_intent_id: paymentIntentId,\n        payment_method: ev.paymentMethod.id\n      },\n    );\n\n    const paymentIntent = (payload.status === 200) ? payload.data : null;\n\n    if (!paymentIntent\n      || paymentIntent.status === \"requires_payment_method\"\n      || paymentIntent.status === \"requires_action\") {\n      // Report to the browser that the payment failed, prompting it to\n      // re-show the payment interface, or show an error message and close\n      // the payment interface.\n      ev.complete('fail');\n      setHide(true);\n      setProcessing(false);\n      setError('Payment failed, please try using credit cards');\n    } else {\n      // Report to the browser that the confirmation was successful, prompting\n      // it to close the browser payment method collection interface.\n      ev.complete('success');\n      // The payment has succeeded.\n      await createOrder(paymentIntent?.id, ev.payerName)\n      setProcessing(false);\n    }\n  }, [stripe, paymentIntentId]);\n\n  useEffect(() => {\n    if (stripe && merchant) {\n      // for google pay, apple pay\n      const pr = stripe.paymentRequest({\n        country: 'US',\n        currency: currency.toLowerCase(),\n        total: {\n          label: 'Total',\n          amount: amountInCents,\n        },\n        requestPayerName: true,\n        requestPayerEmail: false,\n      });\n      pr.canMakePayment().then((result) => {\n        if (result) {\n          setPaymentRequest(pr);\n        }\n      })\n\n      axios.post<PaymentIntent>(\n        '/users/create-payment-intent',\n        {\n          merchantId: merchant.id,\n          currency: currency,\n          amount: amountInCents,\n        },\n      ).then((response) => {\n        if (response.status === 200) {\n          setPaymentIntentId(response.data.id || '');\n        }\n      })\n    }\n  }, [stripe, merchant]);\n\n  useEffect(() => {\n    if (paymentRequest && paymentIntentId) {\n      paymentRequest.on('paymentmethod', handlePaymentMethodReceived);\n    }\n  }, [paymentRequest, paymentIntentId])\n\n  if (!merchant || !paymentRequest || isEmptyOrNil(paymentIntentId) || hide) return null\n\n  return (\n    <div className='integrated-payments-container' style={{ marginTop: 32 }}>\n      <Typography variant='subtitle1' component='div' style={{ marginBottom: 16 }}>\n        Or use other payment methods\n      </Typography>\n      <PaymentRequestButtonElement options={{ paymentRequest }} />\n    </div>\n  )\n}\n\n\ntype StripePaymentFormProps = {\n  onSuccessSubmit: (order: Order) => void\n}\n\ntype PaymentAttempResponse = {\n  setupIntent?: SetupIntent,\n  paymentIntent?: PaymentIntent,\n}\n\nconst StripePaymentForm = (props: StripePaymentFormProps): React.ReactElement => {\n  const appContext = useContext(AppContext);\n  const { cart, merchantConfig, tip, coupon, reFetchMerchandisesForCart, cartType } = appContext;\n  const { user, token, refreshUser } = useContext(UserContext);\n  const [error, setError] = useState<string>('');\n  const [processing, setProcessing] = useState(false);\n  const classes = useStyles();\n  const amount = getTotalPrice({ cart, tip, coupon, orderingConfig: merchantConfig?.merchant.orderingConfig });\n  // minimum amount accepted by stripe is 0.50\n  const amountInCents = Math.round(amount * 100);\n  const currency = \"USD\";\n\n  useEffect(() => {\n    // fetch latest merchandise data to\n    // 1/ make sure prices are accurate\n    // 2/ make sure inventories are accurate\n    if (merchantConfig?.merchant) {\n      reFetchMerchandisesForCart();\n    }\n  }, [])\n\n  const checkPrerequisite = () => {\n    if (!isCartFromAnOpenTabOrder(cartType) && checkCartItemsAvailability({ cart, merchantConfig })) {\n      setError(\"Some items in your cart are sold out, please go back and check\")\n      return false;\n    }\n\n    return true;\n  }\n\n  const sendPromotionSmsNotification = (orderId: string) => {\n    const promotion = getLiveMerchantPromotion(merchantConfig?.merchant);\n    promotion && axios.post(`orders/${orderId}/promotion-sms`);\n  };\n\n  const createOrder = async (paymentIntentId?: string, displayName?: string, phone?: string) => {\n    try {\n      setProcessing(true);\n      let cachedPhone = sessionStorage.getItem(LOCALSTORAGE_APP_KEYS.USER_PHONE_NUMBER);\n      displayName && sessionStorage.setItem(LOCALSTORAGE_APP_KEYS.USER_DISPLAY_NAME, displayName);\n\n      if (!cachedPhone && phone) {\n        sessionStorage.setItem(LOCALSTORAGE_APP_KEYS.USER_PHONE_NUMBER, phone);\n        cachedPhone = phone;\n      }\n\n      const results = await createOrderService({\n        appContext,\n        paymentIntentId: paymentIntentId,\n        name: displayName,\n        user,\n        token,\n        phone: cachedPhone\n      });\n      setProcessing(false);\n\n      if (results.status === 200) {\n        setError('');\n\n        if (!isEmptyOrNil(user)) {\n          refreshUser()\n        }\n        else {\n          // only send notifications if user has not signed i\n          sendPromotionSmsNotification(results.data.id)\n        }\n        props.onSuccessSubmit(results.data)\n      } else {\n        setError(`Payment failed, please try again later`);\n      }\n    } catch (err) {\n      const message = getAPIErrorMessage(err) || `Payment failed, please try again later`;\n      setError(message);\n      console.log(err)\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <SimpleLoader loading={processing} />\n      <If condition={error}>\n        <Alert severity='warning'>{error}</Alert>\n      </If>\n      <Grid container justifyContent=\"center\">\n        <Grid item xs={12} sm={6} lg={4}>\n          <CreditCardPaymentForm\n            merchant={merchantConfig?.merchant}\n            currency={currency}\n            amountInCents={amountInCents}\n            setError={setError}\n            createOrder={createOrder}\n            processing={processing}\n            setProcessing={setProcessing}\n            checkPrerequisite={checkPrerequisite}\n          />\n        </Grid>\n      </Grid>\n      {/* <Grid container justifyContent=\"center\">\n        <Grid item xs={12} sm={6} lg={4}>\n          <IntegratedPaymentMethods\n            merchant={merchantConfig?.merchant}\n            currency={currency}\n            amountInCents={amountInCents}\n            checkPrerequisite={checkPrerequisite}\n            setError={setError}\n            createOrder={createOrder}\n            setProcessing={setProcessing}\n          />\n        </Grid>\n      </Grid> */}\n    </div>\n  );\n}\n\nexport default StripePaymentForm","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles, Theme, createStyles, Grid, Alert, TextField, Fab, Typography } from '@material-ui/core'\nimport { If } from 'react-if';\n\nimport SimpleLoader from '../../bos_common/src/components/SimpleLoader';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport { getAPIErrorMessage } from '../../bos_common/src';\nimport createOrderService from '../../services/createOrderService';\nimport { Order } from '../../services/models';\n\nimport { AppContext } from '../../context/AppContext';\nimport { isEmptyOrNil } from '../../utils';\nimport { checkCartItemsAvailability } from './utils';\nimport { useForm } from 'react-hook-form';\nimport PhoneInput from 'react-phone-input-2';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      justifyContent: \"center\",\n      alignSelf: \"center\",\n      margin: theme.spacing(1),\n\n      \"& .form-container\": {\n        marginTop: theme.spacing(4),\n\n        '& .title-container': {\n          marginBottom: theme.spacing(2)\n        },\n\n        '& .user-info-field': {\n          marginBottom: theme.spacing(2),\n          background: 'white',\n        },\n\n        '& .confirm-order-btn': {\n          width: \"100%\"\n        },\n\n        '& .react-tel-input': {\n          marginBottom: theme.spacing(3),\n\n          \"& .flag-dropdown, & .flag-dropdown.open .selected-flag\": {\n            borderRadius: '8px 0 0 8px'\n          },\n\n          '& input': {\n            width: \"100%\",\n            height: \"56px\",\n            borderRadius: \"8px\",\n            border: \"1px solid rgba(0, 0, 0, 0.15)\",\n          },\n\n          '& .country-list': {\n            borderRadius: '0px',\n          },\n        }\n      }\n    },\n  }),\n);\n\ninterface FormValues { name: string; phone: string }\n\ntype NoPaymentFormType = {\n  onSuccessSubmit: (order: Order) => void\n}\nconst NoPaymentForm = (props: NoPaymentFormType) => {\n  const classes = useStyles();\n  const appContext = useContext(AppContext);\n  const { cart, merchantConfig, reFetchMerchandisesForCart } = appContext;\n  const { user, token, authenticating, refreshUser } = useContext(UserContext)\n\n  const [processing, setProcessing] = useState(false)\n  const [error, setError] = useState<string>('')\n\n  useEffect(() => {\n    // fetch latest merchandise data to\n    // 1/ make sure prices are accurate\n    // 2/ make sure inventories are accurate\n    if (merchantConfig?.merchant) {\n      reFetchMerchandisesForCart();\n    }\n  }, [])\n\n  const createOrderWithoutPaymentIntent = async (formValues: FormValues) => {\n    const { name, phone } = formValues\n    setProcessing(true)\n\n    if (phone.length < 11) {\n      setError(\"Phone number is required\");\n      setProcessing(false);\n      return;\n    }\n\n    if (checkCartItemsAvailability({ cart, merchantConfig })) {\n      setError(\"Some items in your cart are sold out\");\n      setProcessing(false);\n      return;\n    }\n\n    try {\n      const results = await createOrderService({\n        appContext,\n        name,\n        user,\n        token,\n        phone\n      });\n\n      if (results.status === 200) {\n        const order = results.data\n        setError('')\n        setProcessing(false)\n\n        if (!isEmptyOrNil(user)) {\n          refreshUser()\n        }\n\n        props.onSuccessSubmit(order)\n      } else {\n        setError(`Unable to process your order. Please try again later`);\n        setProcessing(false);\n      }\n    } catch (err) {\n      const message = getAPIErrorMessage(err) || `Unable to process your order. Please try again later`;\n      setError(message);\n      setProcessing(false);\n      console.log(err)\n    }\n  }\n\n  // form methods\n  const { register, handleSubmit, formState, getValues, setValue } = useForm<FormValues>({\n    mode: 'onBlur',\n    defaultValues: {\n      name: user?.displayName,\n      phone: user?.phoneNumber\n    },\n  });\n  const { isValid } = formState\n\n  const registerTextField = (name: keyof FormValues, options?: any) => {\n    const { ref: inputRef, ...inputProps } = register(name, options);\n    return { ...inputProps, inputRef }\n  }\n\n  const formValues = getValues()\n\n  return (\n    <div className={classes.root}>\n      <SimpleLoader loading={processing || authenticating} />\n      <If condition={error}>\n        <Alert severity='warning'>{error}</Alert>\n      </If>\n\n      <Grid container className='form-container' justifyContent=\"center\">\n        <Grid item xs={12} sm={6} lg={4}>\n\n          <form onSubmit={handleSubmit(createOrderWithoutPaymentIntent)}>\n            <TextField\n              fullWidth\n              required\n              label=\"Preferred Name\"\n              variant=\"outlined\"\n              className=\"user-info-field\"\n              {...registerTextField(\"name\", { required: 'Your name is required to confirm the' })}\n            />\n            <PhoneInput\n              country={'us'}\n              onlyCountries={['us', 'pk', 'cn', 'id', 'in']}\n              value={formValues.phone}\n              specialLabel=\"\"\n              placeholder=\"+1 (234) 567-8910\"\n              onChange={p => { setValue('phone', `${p ? `+${p}` : ''}`, { shouldValidate: true, shouldTouch: true }) }}\n            />\n            <Fab\n              variant='extended'\n              type=\"submit\"\n              color='primary'\n              className='confirm-order-btn'\n              disabled={processing || authenticating || !isValid}>\n              Submit Order\n            </Fab>\n            <Typography variant=\"subtitle2\" color=\"inherit\" textAlign=\"center\">\n              No charge is required on this order\n            </Typography>\n          </form>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default NoPaymentForm;","import React, { useContext, useMemo } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Alert, CardContent, createStyles, makeStyles } from \"@material-ui/core\";\nimport { If, Then, Else } from 'react-if';\n\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { AppContext } from \"../context/AppContext\";\nimport { Order, OrderType } from \"../services/models\";\nimport { getTotalItems, getTotalPrice } from \"../services/cartUtils\";\n\nimport PageHeader from \"../components/common/PageHeader\";\nimport StripePaymentForm from \"../components/Payment/StripePaymentForm\";\nimport NoPaymentForm from \"../components/Payment/NoPaymentForm\";\nimport BackButton from \"../components/common/BackButton\";\nimport { isDineInPaymentDisabled, stripePublicKey } from \"../utils\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from \"../services/localStorage\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      '& .content': {\n        paddingTop: 0,\n      }\n    },\n  }),\n);\n\nconst CheckoutPage = (): React.ReactElement => {\n  const history = useHistory();\n  const classes = useStyles();\n  const { cart, clearCart, merchantConfig, tip, coupon, orderType } = useContext(AppContext);\n\n  const count = getTotalItems(cart)\n  const amount = getTotalPrice({ cart, tip, coupon, orderingConfig: merchantConfig?.merchant.orderingConfig })\n  const isStripePaymentAcceptable = amount >= 0.50\n  const isPaymentDisabled = (orderType === OrderType.DINEIN) && isDineInPaymentDisabled(merchantConfig?.merchant);\n\n  let stripeAccount = merchantConfig?.merchant.stripe?.stripeTestAccountId\n  if (merchantConfig?.merchant.production === true) {\n    stripeAccount = merchantConfig?.merchant.stripe?.stripeAccountId\n  }\n\n  const stripePromise = useMemo(() => loadStripe(stripePublicKey(merchantConfig?.merchant.production)), []);\n\n  const onSuccessPayment = (order: Order) => {\n    // clear cart\n    clearCart();\n    sessionStorage.removeItem(LOCALSTORAGE_MARKETPLACE_APP_KEYS.CARRYOUT_BAG_CHOSEN);\n\n    history.push({\n      pathname: `/order/${order.id}`,\n      state: { new: true }\n    });\n  }\n\n  let stripeTitle = \"Payment (test mode)\"\n  if (merchantConfig?.merchant.production === true) {\n    stripeTitle = \"Payment\"\n  }\n  const title = isStripePaymentAcceptable ? stripeTitle : \"Checkout\"\n\n  return (\n    <div className=\"container\">\n      <PageHeader leftChild={<BackButton />} title={title} />\n      <ColoredPaper variant=\"outlined\" className={classes.root}>\n        <CardContent className={\"content\"}>\n          <If condition={count === 0}>\n            <Then>\n              <Alert severity=\"info\">\n                {\"You don't have any item in your cart\"}\n              </Alert>\n            </Then>\n            <Else>\n              <If condition={isStripePaymentAcceptable}>\n                <Then>\n                  <If condition={isPaymentDisabled}>\n                    <Then>\n                      <Alert severity=\"warning\">\n                        {\"Online payment is not supported at this store. Please checkout at the counter or ask for paper check.\"}\n                      </Alert>\n                    </Then>\n                    <Else>\n                      <Elements stripe={stripePromise}>\n                        <StripePaymentForm onSuccessSubmit={onSuccessPayment} />\n                      </Elements>\n                    </Else>\n                  </If>\n                </Then>\n                <Else>\n                  <NoPaymentForm onSuccessSubmit={onSuccessPayment} />\n                </Else>\n              </If>\n            </Else>\n          </If>\n        </CardContent>\n      </ColoredPaper>\n    </div>\n  )\n\n}\n\nexport default CheckoutPage","import { Alert, Card, CardContent } from \"@material-ui/core\";\nimport React, { useContext, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\n\nconst LogoutPage = (): React.ReactElement => {\n  const history = useHistory()\n  const { setLoginState } = useContext(UserContext)\n  const { search } = useLocation()\n\n  useEffect(() => {\n    setLoginState(undefined, undefined)\n    const params = new URLSearchParams(search)\n    const to = params.get('to')\n    if (to) {\n      history.replace(to)\n    } else {\n      history.push('/')\n    }\n  }, [])\n\n  return (\n    <Card variant=\"outlined\">\n      <CardContent>\n        <Alert severity='success'>You have been logged out and will be redirected back to the store momentarily...</Alert>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default LogoutPage","import { Theme, makeStyles, createStyles } from '@material-ui/core'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\t'& .sectionHeader': {\n\t\t\t\tmarginTop: theme.spacing(1),\n\t\t\t},\n\t\t\t'& .inputRow': {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tmarginBottom: theme.spacing(2),\n\t\t\t},\n\t\t\t'& .sectionSpacer': {\n\t\t\t\tmarginTop: theme.spacing(2),\n\t\t\t\tmarginBottom: theme.spacing(2),\n\t\t\t},\n\t\t},\n\t})\n);\n\nexport default styles;","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  FormControl,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  OutlinedInput,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { Done, Edit } from '@material-ui/icons';\nimport { If, Then, Else } from 'react-if';\n\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport axios from '../../bos_common/src/services/backendAxios';\nimport { User } from '../../services/models';\nimport useStyles from './styles'\n\ninterface ProfileState {\n  displayName: string;\n  email: string;\n  address: string;\n}\n\nconst UserProfileSettings = (): React.ReactElement => {\n  const classes = useStyles()\n  const { user, setLoginState, token, setLoading } = useContext(UserContext);\n  const [activeRow, setActiveRow] = useState<string | null>()\n\n  const getUserData = (localUser: User | undefined) => {\n    return {\n      displayName: localUser?.displayName || '',\n      email: localUser?.email || '',\n      address: localUser?.address || '',\n    }\n  }\n\n  const [profileValues, setProfileValues] = useState<ProfileState>(getUserData(user));\n\n  useEffect(() => {\n    setProfileValues(getUserData(user))\n  }, [user])\n\n  const inputRefs = {\n    displayName: React.useRef<HTMLInputElement>(),\n    email: React.useRef<HTMLInputElement>(),\n    address: React.useRef<HTMLInputElement>(),\n  }\n\n  const inputLabels = {\n    displayName: 'name',\n    email: 'email',\n    address: 'address',\n  }\n\n  const handleChange = (prop: keyof ProfileState) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    setProfileValues({ ...profileValues, [prop]: event.target.value });\n  };\n\n  const handleEdit = (prop: keyof ProfileState) => (event: any) => {\n    if (activeRow && activeRow !== prop) {\n      const val = user ? user[activeRow as keyof User] : ''\n      setProfileValues({ ...profileValues, [activeRow]: val });\n    }\n    setActiveRow(prop)\n    inputRefs[prop]?.current?.focus()\n  }\n\n  const handleDone = (prop: keyof ProfileState) => (event: any) => {\n    event.preventDefault()\n    setActiveRow(null)\n    inputRefs[prop]?.current?.blur()\n\n    const currentVal = profileValues[prop]\n    const oldVal = user ? user[prop as keyof User] : ''\n\n    if (currentVal !== oldVal) {\n      setLoading(true)\n      axios.put<User>(\n        '/users',\n        { ...profileValues, ['id']: user?.id },\n        { headers: { \"Authorization\": `JWT ${token}` } }\n      ).then((response) => {\n        setLoading(false)\n        if (response.status === 200) {\n          setLoginState(response.data, token)\n        }\n      }).catch((err) => {\n        console.log(err)\n        setLoading(false)\n      })\n    }\n  }\n\n  const RenderAdornment = ({ prop }: { prop: keyof ProfileState }) => {\n    return (\n      <InputAdornment position=\"end\">\n        <If condition={activeRow === prop}>\n          <Then>\n            <IconButton\n              aria-label={`save user ${inputLabels[prop]}`}\n              onClick={handleDone(prop)}\n              edge=\"end\">\n              <Done />\n            </IconButton>\n\n          </Then>\n          <Else>\n            <IconButton\n              aria-label={`edit user ${inputLabels[prop]}`}\n              onClick={handleEdit(prop)}\n              edge=\"end\">\n              <Edit />\n            </IconButton>\n          </Else>\n        </If>\n      </InputAdornment>\n    )\n  }\n\n  const generateRow = (prop: keyof ProfileState): React.ReactElement => {\n    const inputId = `input_user_${prop}`\n    return (\n      <div className='inputRow'>\n        <FormControl variant=\"outlined\" key={prop} fullWidth>\n          <InputLabel htmlFor={inputId}>{inputLabels[prop]}</InputLabel>\n          <OutlinedInput\n            id={inputId}\n            inputRef={inputRefs[prop]}\n            value={profileValues[prop]}\n            onChange={handleChange(prop)}\n            onFocus={handleEdit(prop)}\n            onBlur={handleDone(prop)}\n            endAdornment={<RenderAdornment prop={prop} />}\n            label={inputLabels[prop]}\n          />\n        </FormControl>\n      </div>\n    )\n  }\n\n  return (\n    <div className={classes.root}>\n      {generateRow('displayName')}\n      {generateRow('email')}\n      {generateRow('address')}\n    </div>\n  )\n}\n\nexport default UserProfileSettings;\n","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  Checkbox,\n  Divider,\n  FormControlLabel,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Typography,\n} from '@material-ui/core';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport { User } from '../../services/models';\nimport axios from '../../bos_common/src/services/backendAxios';\nimport useStyles from './styles'\n\ninterface FoodPreference {\n  vegan: boolean,\n  vegetarian: boolean,\n  lactoseFree: boolean,\n  glutenFree: boolean,\n  kosher: boolean,\n  islam: boolean,\n  hindu: boolean,\n}\n\nconst UserFoodPreferences = (): React.ReactElement => {\n  const classes = useStyles()\n  const { user, token, setLoginState, setLoading } = useContext(UserContext);\n\n  const getFoodPrefData = (localUser: User | undefined) => {\n    return {\n      vegan: localUser?.foodPreference?.vegan || false,\n      vegetarian: localUser?.foodPreference?.vegetarian || false,\n      lactoseFree: localUser?.foodPreference?.lactoseFree || false,\n      glutenFree: localUser?.foodPreference?.glutenFree || false,\n      kosher: localUser?.foodPreference?.kosher || false,\n      islam: localUser?.foodPreference?.islam || false,\n      hindu: localUser?.foodPreference?.hindu || false,\n    }\n  }\n\n  const [foodPrefsChecked, setFoodPrefsChecked] = useState<FoodPreference>(getFoodPrefData(user));\n\n  useEffect(() => {\n    setFoodPrefsChecked(getFoodPrefData(user))\n  }, [user])\n\n  const toggleLabels = {\n    vegan: 'Vegan',\n    vegetarian: 'Vegetarian',\n    lactoseFree: 'Lactose Free',\n    glutenFree: 'Gluten Free',\n    kosher: 'Kosher',\n    islam: 'Halal',\n    hindu: 'Hindu',\n  }\n\n  const handleToggle = (prop: keyof FoodPreference) => (event: any) => {\n    event.preventDefault()\n    const currentValue = foodPrefsChecked[prop]\n    const newChecked = { ...foodPrefsChecked }\n    newChecked[prop] = !currentValue\n    setFoodPrefsChecked(newChecked);\n\n    setLoading(true)\n    axios.put<User>(\n      '/users',\n      { foodPreference: newChecked, id: user?.id },\n      { headers: { \"Authorization\": `JWT ${token}` } }\n    ).then((response) => {\n      setLoading(false)\n      if (response.status === 200) {\n        setLoginState(response.data, token)\n      }\n    }).catch((err) => {\n      console.log(err)\n      setLoading(false)\n    })\n  };\n\n  const generateRow = (prop: keyof FoodPreference): React.ReactElement => {\n    return (\n      <ListItem button onClick={handleToggle(prop)} key={prop}>\n        <FormControlLabel label={toggleLabels[prop]} control={<Checkbox color=\"primary\"\n            onChange={handleToggle(prop)}\n            checked={foodPrefsChecked[prop]}\n            inputProps={{ 'aria-labelledby': `${prop}_checkbox` }}\n          />} />\n      </ListItem>\n    )\n  }\n\n  return (\n    <div className={classes.root}>\n      <Typography gutterBottom variant=\"subtitle1\" component=\"div\" className=\"sectionHeader\" style={{ fontWeight: 600 }}>\n        Food Preference\n      </Typography>\n      <List>\n        <Divider light variant=\"middle\" />\n        {generateRow('vegan')}\n        <Divider light variant=\"middle\" />\n        {generateRow('vegetarian')}\n        <Divider light variant=\"middle\" />\n        {generateRow('lactoseFree')}\n        <Divider light variant=\"middle\" />\n        {generateRow('glutenFree')}\n        <Divider light variant=\"middle\" />\n        {generateRow('kosher')}\n        <Divider light variant=\"middle\" />\n        {generateRow('islam')}\n        <Divider light variant=\"middle\" />\n        {generateRow('hindu')}\n      </List>\n    </div>\n  );\n};\n\nexport default UserFoodPreferences;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Checkbox, Divider, FormControlLabel, List, ListItem, ListItemSecondaryAction, ListItemText, Typography } from '@material-ui/core';\n\nimport axios from '../../bos_common/src/services/backendAxios';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport { ApplicationPreferences, User } from '../../services/models';\nimport useStyles from './styles';\n\nconst UserApplicationPreferences = () => {\n\tconst classes = useStyles()\n\tconst { user, token, setLoginState, setLoading } = useContext(UserContext)\n\n\tconst getApplicationPrefData = (localUser: User | undefined) => {\n\t\treturn {\n\t\t\tnotificationSound: localUser?.applicationPreferences?.notificationSound || false\n\t\t}\n\t}\n\n\tconst [preferences, setPreferences] = useState<ApplicationPreferences>(getApplicationPrefData(user))\n\n\tuseEffect(() => {\n\t\tsetPreferences(getApplicationPrefData(user))\n\t}, [user])\n\n\tconst handleToggle = (key: keyof ApplicationPreferences) => (event: any) => {\n\t\tevent.preventDefault();\n\t\tconst currentValue = preferences[key];\n\t\tconst updatedPrefs = preferences;\n\t\tupdatedPrefs[key] = !currentValue;\n\n\t\tsetPreferences(updatedPrefs);\n\n\t\tsetLoading(true);\n\t\taxios.put<User>(\n\t\t\t'/users',\n\t\t\t{ id: user?.id, applicationPreferences: updatedPrefs },\n\t\t\t{ headers: { \"Authorization\": `JWT ${token}` } }\n\t\t).then((response) => {\n\t\t\tsetLoading(false)\n\t\t\tif (response.status === 200) {\n\t\t\t\tsetLoginState(response.data, token)\n\t\t\t}\n\t\t}).catch((err) => {\n\t\t\tconsole.log(err)\n\t\t\tsetLoading(false)\n\t\t})\n\t}\n\n\tconst toggleLabels = {\n\t\tnotificationSound: 'Notification Sounds',\n\t}\n\n\tconst RenderPreference = (prop: keyof ApplicationPreferences): React.ReactElement => {\n\t\treturn (\n\t\t\t<ListItem button onClick={handleToggle(prop)} key={prop}>\n\t\t\t\t<FormControlLabel label={toggleLabels[prop]} control={<Checkbox color=\"primary\"\n            onChange={handleToggle(prop)}\n            checked={preferences[prop]}\n            inputProps={{ 'aria-labelledby': `${prop}_checkbox` }}\n          />} />\n\t\t\t</ListItem>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Typography gutterBottom variant=\"subtitle1\" component=\"div\" className=\"sectionHeader\" style={{ fontWeight: 600 }}>\n\t\t\t\tApplication Preferences\n\t\t\t</Typography>\n\t\t\t<List>\n\t\t\t\t<Divider light variant=\"middle\" />\n\t\t\t\t{RenderPreference('notificationSound')}\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default UserApplicationPreferences","import { styled, Theme } from \"@material-ui/core\";\n\nexport const headerCustomStyle = (theme: Theme, backgroundColor: string) => {\n  return {\n    \"& header\": {\n      paddingBottom: theme.spacing(4),\n      background: backgroundColor,\n      zIndex: 1,\n      boxShadow: \"unset\",\n\n      \"& .toolbar\": {\n        \"& .title\": {\n          textAlign: \"left\",\n          color: \"#fff\",\n        },\n\n        \"& .left\": {\n          \"& svg\": {\n            fill: \"#fff\",\n          },\n        },\n\n        \"& .right\": {\n          \"& svg\": {\n            fill: \"#fff\",\n          },\n        },\n      },\n    },\n  };\n};\n\nexport const RewardsContentStyled = styled('div')(({theme}) => ({\n  display: \"grid\",\n\n  '&.multiColumn': {\n    gridTemplateColumns: \"0.9fr 1fr\",\n\n    [theme.breakpoints.down('md')]: {\n      gridTemplateColumns: \"1fr\",\n    },\n  },\n\n  [theme.breakpoints.down('md')]: {\n    gridTemplateColumns: \"1fr\",\n  },\n\n  \"& .dialogContent\": {\n    padding: `${theme.spacing(5)} ${theme.spacing(5)}`,\n    position: \"relative\",\n\n    [theme.breakpoints.down('sm')]: {\n      padding: `${theme.spacing(4)} ${theme.spacing(2)}`,\n    },\n\n    \"& .title\": {\n      color: theme.palette.secondary.light,\n      fontWeight: \"bold\",\n      fontSize: \"18px\",\n      margin: 0,\n      marginBottom: theme.spacing(0.5),\n    },\n\n    \"& .subHeading\": {\n      fontSize: 18,\n      fontWeight: 700,\n      color: theme.palette.info.light,\n      margin: 0,\n      marginBottom: theme.spacing(2),\n    },\n\n    \"& .heading\": {\n        fontSize: 36,\n        fontWeight: 700,\n        color: theme.palette.info.light,\n        margin: 0,\n        marginBottom: theme.spacing(4),\n        maxWidth: 315,\n\n        '& span': {\n          color: theme.palette.primary.main,\n\n          '&.green': {\n            color: '#22AC38'\n          },\n\n          '&.orange': {\n            color: theme.palette.secondary.main,\n          }\n        },\n\n      [theme.breakpoints.down('sm')]: {\n        fontSize: 24,\n        marginBottom: theme.spacing(2),\n      }\n    },\n\n    '& .description': {\n      fontSize: 14,\n      fontWeight: 500,\n      color: '#939393',\n      margin: 0,\n      marginBottom: theme.spacing(3),\n    },\n\n    '& .contentHeading': {\n      color: theme.palette.info.light,\n      fontSize: 18,\n      fontWeight: 700,\n      margin: 0,\n      marginBottom: theme.spacing(3),\n\n      '& span': {\n        color: theme.palette.secondary.main,\n      }\n    },\n\n    '& .featuresWrapper': {\n      display: \"grid\",\n      gridTemplateColumns: '1fr 1fr',\n      gridGap: theme.spacing(2),\n\n      [theme.breakpoints.down('md')]: {\n        gridTemplateColumns: '1fr'\n      }\n    },\n  },\n\n  \"& .dialogImage\": {\n    width: \"100%\",\n    height: \"auto\",\n    position: 'sticky',\n    top: 0,\n    objectFit: 'cover',\n\n    [theme.breakpoints.down('md')]: {\n      height: 250,\n      position: 'static',\n      objectPosition: '0 30%',\n    }\n  },\n}))","import React from \"react\";\n\nexport type ImageUploadButtonProps = {\n  handleFiles: (files: File[], extraArgs: any) => void;\n  addCBParams?: any;\n  multiple?: boolean;\n  disabled?: boolean;\n  children: React.ReactChild;\n};\n\nconst ImageUploadButton = ({\n  multiple = false,\n  disabled = false,\n  handleFiles,\n  addCBParams,\n  children,\n}: ImageUploadButtonProps) => (\n  <div>\n    <label>\n      <input\n        type=\"file\"\n        style={{ display: 'none' }}\n        onChange={(event) => {\n          const { files } = event.currentTarget;\n          if (files) {\n            handleFiles(Array.from(files), addCBParams);\n          }\n        }}\n        accept=\"image/*\"\n        multiple={multiple}\n        disabled={disabled}\n      />\n      {children}\n    </label>\n  </div>\n);\n\nexport default ImageUploadButton;","import React from 'react';\nimport { Avatar, Badge, Chip, Grid, IconButton } from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { AddAPhoto, Edit } from '@material-ui/icons';\nimport { Else, If, Then } from 'react-if';\nimport { AvatarPaper } from '.';\nimport ImageUploadButton from './ImageUploadButton';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    profilePhoto: {\n      display: \"flex\",\n      justifyContent: 'center',\n      position: 'relative',\n      marginTop: theme.spacing(3),\n      marginBottom: theme.spacing(3),\n      \"& .heroPhotoWrapper\": {\n        width: \"100%\",\n        position: \"relative\",\n        \"& .heroPhoto\": {\n          width: \"100%\",\n          minHeight: '200px',\n          maxHeight: '250px',\n          border: \"1px solid\",\n          objectFit: \"cover\",\n          borderColor: theme.palette.grey[400],\n          borderRadius: theme.spacing(1),\n        },\n        \"& .heroPhotoUpload\": {\n          position: 'absolute',\n          bottom: theme.spacing(1.5),\n          right: theme.spacing(1.5),\n          '& .MuiButtonBase-root': {\n            padding: theme.spacing(1),\n            fontSize: '12px',\n          }\n        },\n        \"&.noHero\": {\n          minHeight: 250\n        },\n      },\n      \"& .logoSection\": {\n        position: 'absolute',\n        bottom: theme.spacing(1),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        margin: theme.spacing(2),\n        '& .logo': {\n          width: theme.spacing(12),\n          height: theme.spacing(12),\n        },\n      },\n    },\n    profilePhotoNoHero: {\n      minHeight: 150\n    },\n    root: {\n      '& .MuiFormControl-root': {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n      },\n      '& .MuiInputLabel-root': {\n        backgroundColor: 'rgb(245, 250, 255)'\n      },\n      '& .MuiButtonBase-root': {\n        '& a': {\n          textDecoration: 'none',\n        }\n      },\n    },\n  })\n);\n\ntype ImageUploadAvatar = {\n    logoSrc?: string,\n    heroSrc?: string,\n    showHeroCover?: boolean,\n    onPhotoSelect?: (files: File[], photoType: string) => void\n  }\n  \n  const ImageUploadAvatar = ({ logoSrc, heroSrc, onPhotoSelect, showHeroCover }: ImageUploadAvatar) => {\n    const classes = useStyles();\n  \n    const onAddPhoto = (photoType: string, files?: File[]) => {\n      if (!files) {\n        return;\n      }\n  \n      onPhotoSelect && onPhotoSelect(files, photoType);\n    };\n    \n    const avatarContainerClasses = classNames([classes.profilePhoto], {\n      [classes.profilePhotoNoHero]: !showHeroCover\n    });\n\n    return (\n      <div className={avatarContainerClasses}>\n        <If condition={showHeroCover}>\n         <Grid xs={12} sm={8} className=\"heroPhotoWrapper\">\n           <If condition={heroSrc}>\n             <Then>\n               <img\n                className={\"heroPhoto\"}\n                src={heroSrc || ''}\n              />\n            </Then>\n            <Else>\n              <div\n                className={\"heroPhoto\"}\n              />\n            </Else>\n          </If>\n          <div className=\"heroPhotoUpload\">\n            <ImageUploadButton handleFiles={(files: File[])=>onAddPhoto(\"Hero\", files)}>\n                <Chip size=\"small\" sx={{color: 'background.paper'}} color=\"secondary\" icon={ <Edit fontSize=\"small\" /> } label=\"Cover Photo\" clickable />\n            </ImageUploadButton>\n          </div>\n        </Grid>\n        </If>\n\n       <div className=\"logoSection\">\n        <Badge\n          overlap=\"circular\"\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n          badgeContent={\n            <ImageUploadButton handleFiles={(files: File[]) => onAddPhoto(\"Logo\", files)} >\n              <IconButton component=\"span\">\n                <AddAPhoto />\n              </IconButton>\n            </ImageUploadButton>\n          }>\n          <AvatarPaper>\n            <Avatar alt=\"business logo\" className=\"logo\" src={logoSrc || ''} />\n          </AvatarPaper>\n        </Badge>\n      </div>\n    </div>\n  )\n}\n\nexport default ImageUploadAvatar;","import React, { useContext } from 'react';\nimport {\n  Button,\n  CardContent,\n  Divider,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { useLocation } from 'react-router-dom';\nimport { AccountCircle } from '@material-ui/icons';\nimport useAxios from 'axios-hooks';\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { logout } from '../bos_common/src/services/auth0';\n\nimport PageHeader from '../components/common/PageHeader';\nimport UserProfileSettings from '../components/User/UserProfileSettings';\nimport UserFoodPreferences from '../components/User/UserFoodPreference';\nimport UserApplicationPreferences from '../components/User/UserApplicationPreferences';\nimport { headerCustomStyle } from '../styles/Common.style';\nimport ImageUploadAvatar from '../bos_common/src/components/ImageUploadAvatar';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader'\nimport { User } from '../services/models';\nimport axios from '../bos_common/src/services/backendAxios';\nimport { getAuthHeaders, isAppEmbed, isWebViewEmbed, uploadThumbnail } from '../utils';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      borderRadius: \"20px 20px 0px 0px !important\",\n      zIndex: 1,\n\n      '& .avatarContainer': {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column',\n        marginBottom: theme.spacing(4),\n      },\n      '& .avatar': {\n        width: theme.spacing(16),\n        height: theme.spacing(16),\n      },\n      '& .sectionSpacer': {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n      },\n      '& .buttonArea': {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n      },\n    },\n    navWrapper: {\n      ...headerCustomStyle(theme, theme.palette.primary.main),\n    }\n  })\n);\n\nconst defaultImage = \"/user-avatar.png\";\n\ndeclare let window: any;\n\nconst UserSettingsPage = (): React.ReactElement => {\n  const title = 'Profile & Preference'\n  const classes = useStyles()\n  const location = useLocation()\n  const { user, loading, token, setAuthenticating, setLoginState, setLoading, updateUserPicture } = useContext(UserContext);\n  const userPicture = user?.picture ?? defaultImage;\n\n  const [, executeGetUploadUrl] = useAxios(\n    { url: '/upload-url', method: 'POST' },\n    { manual: true }\n  );\n\n  const isEmbedApp = isWebViewEmbed() || isAppEmbed()\n\n  const handleLogout = () => {\n    setLoginState(undefined, undefined)\n    if (isEmbedApp && window?.webkit && window?.webkit.messageHandlers.logoutMessageHandler) {\n      window?.webkit.messageHandlers.logoutMessageHandler.postMessage('');\n    } else if (isEmbedApp && window?.logoutMessageHandler) {\n      window.logoutMessageHandler.postMessage('')\n    } else {\n      setAuthenticating(true)\n      logout(window.location.origin + '/logout', location.pathname);\n    }\n  };\n\n  const onPhotoSelect = (files: File[])=>{\n    setLoading(true);\n    executeGetUploadUrl()\n        .then(async (response) => {\n          if (response.status === 200) {\n            const f0 = files[0];\n            const { url, uploadUrl } = response.data;\n\n            const uploadFileResponse = await axios.request<{ url: string }>({\n              method: 'put',\n              url: uploadUrl,\n              data: f0,\n              headers: { 'content-type': f0.type },\n            });\n\n            await uploadThumbnail(url , f0);\n\n            return uploadFileResponse;\n       }\n        else {\n          throw new Error(\"Error Getting Upload Url\")\n        }\n      })\n      .then(async (response)=>{\n        const res = await axios.put<User>(\n           '/users',\n           { picture: response.config.url , id: user?.id },\n           { headers: getAuthHeaders(token) }\n         );\n\n        if(res?.data?.picture){\n          updateUserPicture(res.data.picture);\n        }\n        setLoading(false);\n      })\n      .catch(_ => setLoading(false));\n  }\n\n  return (\n    <div className=\"container\">\n      <SimpleLoader loading={loading} />\n\n      <div className={classes.navWrapper}>\n        <PageHeader title={title} leftChild={<AccountCircle fontSize=\"large\" style={{padding: 12}} />} />\n      </div>\n\n      <ColoredPaper className={classes.root}>\n        {user && (\n          <CardContent>\n            <ImageUploadAvatar\n              logoSrc={userPicture}\n              onPhotoSelect={onPhotoSelect}\n            />\n            <div className=\"avatarContainer\">\n              <Typography gutterBottom variant=\"h6\" component=\"div\">\n                {user?.displayName}\n              </Typography>\n              <Typography gutterBottom variant=\"h6\" component=\"div\">\n                {user?.phoneNumber}\n              </Typography>\n            </div>\n\n            <Divider className=\"sectionSpacer\" />\n\n            <UserProfileSettings />\n            <Divider className=\"sectionSpacer\" />\n\n            <UserFoodPreferences />\n            <Divider className=\"sectionSpacer\" />\n\n            <UserApplicationPreferences />\n            <Divider className=\"sectionSpacer\" />\n\n            <div className=\"buttonArea\">\n              <Button variant=\"contained\" color='primary' onClick={handleLogout} >\n                Logout\n              </Button>\n            </div>\n          </CardContent>\n        )}\n      </ColoredPaper>\n    </div>\n  );\n};\n\nexport default UserSettingsPage;\n","import * as React from 'react';\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles';\nimport { Card, CardContent, Typography } from '@material-ui/core';\nimport { Wallet } from '../services/models';\nimport OneMarketPointString from './common/OneMarketPointString';\nimport { rgba } from 'polished';\nimport { commaSeparatedValue } from '../utils';\nimport { Help } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      background: `${theme.palette.secondary.main} !important`,\n      padding: `${theme.spacing(2)} ${theme.spacing(2)}`,\n      boxSadow: \"none\",\n      borderRadius: `0 !important`,\n      marginTop: theme.spacing(3.5),\n\n      '& .pointsTitle': {\n        color: rgba(theme.palette.background.paper, 0.75),\n        fontWeight: 600,\n        fontSize: \"18px\",\n      },\n\n      '& .totalPoints': {\n        color: theme.palette.background.paper,\n        fontWeight: 300,\n        fontSize: \"64px\",\n        '& .MuiSvgIcon-root': {\n          color: theme.palette.background.paper,\n          verticalAlign: 'center',\n        }\n      },\n\n      '& .redeemMessage': {\n        color: theme.palette.background.paper,\n        fontSize: \"12px\",\n        fontWeight: 700,\n        padding: `${theme.spacing(0.4)} ${theme.spacing(0.6)}`,\n        background: rgba(0, 0, 0, 0.15),\n        margin: 0\n      }\n    },\n    row1: {\n      display: 'flex',\n\n      '& .details' : {\n        display: 'flex',\n        alignItems:\"center\",\n        flexDirection: 'column',\n        flex: \"1 1 auto\",\n      },\n    },\n    cover: {\n      width: 96,\n      height: 96,\n    },\n  }),\n);\n\nexport default function OneMarketPointsCard(props: {\n  wallet: Wallet,\n  transactionProgressbar?: React.ReactNode\n}): React.ReactElement {\n  const classes = useStyles()\n\n\n  return (\n    <Card className={classes.root}>\n      <CardContent>\n        <div className={classes.row1}>\n          <div className=\"details\">\n            <OneMarketPointString className=\"pointsTitle\" text=\"Points Balance\" />\n            <Typography variant=\"h4\" color=\"textSecondary\" className=\"totalPoints\">\n              {commaSeparatedValue(props.wallet.points)}&nbsp;\n              <a target='_blank' rel=\"noreferrer\" href={'/help/1mpoints'}><Help /></a>\n            </Typography>\n\n            {/* todo */}\n            {/* <p className=\"redeemMessage\">You are close to redeem a fine dinner 👀</p> */}\n\n            {props.transactionProgressbar}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","import React, { useContext, useEffect, useMemo } from 'react';\nimport {\n  Box,\n  Card,\n  CardActionArea,\n  CardContent,\n  Divider,\n  LinearProgress,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport useAxios from 'axios-hooks';\nimport { useHistory } from 'react-router-dom';\nimport { filter, head, last, pipe, pluck, prop, propEq, reverse, slice, sortBy, sum } from 'ramda';\nimport { If } from 'react-if';\nimport { rgba } from 'polished';\n\n// src\nimport PageHeader from '../components/common/PageHeader';\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { POINTS_TRANSACTION_TYPE, UserTransactionHistoryType } from '../bos_common/src/types/UserTransactionHistoryType';\nimport OneMarketPointsCard from '../components/OneMarketPointsCard';\nimport { commaSeparatedValue, displayDate, displayTime, getAuthHeaders, isEmptyOrNil } from '../utils';\nimport { Wallet } from '../services/models';\nimport DiamondIcon from '../assets/icons/DiamondIcon';\nimport { headerCustomStyle } from '../styles/Common.style';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '& .rowTitle': {\n        fontWeight: 600,\n      },\n\n      '& .pointsContainer': {\n        fontSize: \"16px\",\n        fontWeight: 600,\n        textAlign: \"right\",\n\n        '&.earned, &.promotion': {\n          color: theme.palette.secondary.main,\n        },\n        '&.redeemed, &.refunded': {\n          color: theme.palette.secondary.light,\n        },\n      },\n    },\n    navWrapper: {\n      ...headerCustomStyle(theme, theme.palette.secondary.main),\n    },\n\n    pointsBar: {\n      width: \"100%\",\n      maxWidth: \"90%\",\n\n      '& .sectionSpacer': {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n      },\n      '& .pointsContainer': {\n        fontSize: \"16px\",\n        fontWeight: 600,\n\n        '&.earned, &.promotion': {\n          color: 'green'\n        },\n        '&.redeemed, &.refunded': {\n          color: 'red'\n        },\n      },\n      '& .pointsBar': {\n        position: 'relative',\n        width: '100%',\n        borderRadius: 5,\n        height: 8,\n        backgroundColor: \"rgba(0, 0, 0, 0.2)\",\n        marginTop: theme.spacing(3.5),\n\n        '& .filledBar': {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          height: 8,\n          zIndex: 10,\n          borderRadius: 5,\n          backgroundColor: theme.palette.background.paper,\n          maxWidth: '100%'\n        },\n\n        '& .pointsList': {\n          position: 'absolute',\n          top: \"-20px\",\n          left: 5,\n          zIndex: 15,\n          width: `100%`,\n          display: 'flex',\n          justifyContent: 'space-between',\n\n          '& .pointContainer': {\n            display: 'flex',\n            alignItems: 'center',\n            flexDirection: 'column',\n            fontSize: 14,\n\n            '& .dot': {\n              width: 10,\n              height: 10,\n              backgroundColor: theme.palette.background.default,\n              border: `1px solid`,\n              borderColor: \"transparent\",\n              borderRadius: '50%',\n            },\n\n            '& .value': {\n              color: rgba(theme.palette.background.paper, 0.5),\n              fontSize: \"10px\",\n              fontWeight: 600,\n              marginBottom: theme.spacing(1)\n            },\n\n            '&.isFilled': {\n              fontWeight: 500,\n              '& .dot': {\n                backgroundColor: theme.palette.grey[400],\n              },\n            }\n          }\n        }\n      }\n    }\n  })\n);\n\nconst getTransactionFlow = (action: string) => {\n  switch (action) {\n    case 'earned':\n    case 'promotion':\n      return '+';\n    case 'redeemed':\n    case 'refunded':\n      return '-';\n  }\n}\n\nconst UserHistoricalEarningAndRedemptions = ({ userTransactionsList }: { userTransactionsList: UserTransactionHistoryType[] | undefined }) => {\n  const history = useHistory()\n\n  const handleClick = (orderId?: string) => {\n    if (!orderId) return\n    history.push({ pathname: `/order/${orderId}`, state: { from: '/1mpoints' } })\n  }\n\n  return (\n    <Box sx={{ marginTop: \"-60px\" }}>\n      <Card>\n        <CardContent sx={{padding: 0, paddingBottom: '0 !important'}}>\n          {isEmptyOrNil(userTransactionsList) ?\n            <Box className=\"row\" sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: 2 }}>\n              <Typography variant=\"body1\" >No Transactions Found</Typography>\n            </Box>\n            : userTransactionsList?.map((item: UserTransactionHistoryType, idx: number) => (\n              <CardActionArea onClick={() => handleClick(item.orderId)} key={item.id}>\n                {idx !== 0 && <Divider />}\n                <Box className=\"row\" sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: `8px 16px` }}>\n                  <div>\n                    <Typography className=\"rowTitle\" variant=\"subtitle1\" component=\"div\">{item.merchant.officialName}</Typography>\n                    <Typography variant=\"caption\">{displayTime(item.createdAt)}</Typography>\n                  </div>\n                  <Typography variant=\"subtitle1\" className={`pointsContainer ${item.action}`} component=\"div\">\n                    {item.points > 0 ? getTransactionFlow(item.action) : ''}{item.points}\n                    <If condition={item.action === POINTS_TRANSACTION_TYPE.promotion}>\n                      <Typography variant=\"caption\" component=\"div\">Bonus Points!</Typography>\n                    </If>\n                    <If condition={item.action === POINTS_TRANSACTION_TYPE.refunded}>\n                      <Typography variant=\"caption\" component=\"div\">Refund</Typography>\n                    </If>\n                  </Typography>\n                </Box>\n              </CardActionArea>\n            ))}\n        </CardContent>\n      </Card>\n    </Box>\n  )\n}\n\nconst getPointsRewardsList = (totalEarnedPoints: number, currentBalance: number) => {\n  const rewardsList = []\n  for (let i = 0; i <= totalEarnedPoints; i = i + 500) {\n    rewardsList.push(i + 500)\n  }\n  const currentPointIndex = rewardsList.findIndex(i => i >= currentBalance)\n  const after = rewardsList.length - currentPointIndex\n  // Due to screen size limitation, we can only display 5-7 points easily\n  // get median of rewards list from the current balance point\n  return slice(currentPointIndex > 1 ? currentPointIndex - (after < 5 ? 5 - after : 1) : 0, currentPointIndex + (after > 6 ? 6 : after), rewardsList)\n}\n\ntype OneMarketPointsbarProps = {\n  wallet: Wallet | undefined,\n  userTransactionsList: UserTransactionHistoryType[] | undefined\n}\n\nconst OneMarketPointsBar = ({ wallet, userTransactionsList }: OneMarketPointsbarProps) => {\n  const currentBalance = wallet?.points ?? 0\n  const calculateLifetimeEarnedPoints = useMemo(() => {\n    return pipe(filter(propEq('action', 'earned')), pluck('points'), sum)(userTransactionsList)\n  }, [userTransactionsList, currentBalance])\n\n  const totalEarnedPoints = calculateLifetimeEarnedPoints < currentBalance ? currentBalance : calculateLifetimeEarnedPoints\n  const rewardsList = getPointsRewardsList(totalEarnedPoints, currentBalance)\n  const maxRewardPoints = last(rewardsList)\n  const minRewardPoints = head(rewardsList)\n\n  //const pointsForNextReward = currentBalance < maxRewardPoints ? Math.abs((currentBalance % 500) - 500) : 0\n  const classes = useStyles()\n\n  return (\n    <div className={classes.pointsBar}>\n      <Box display=\"grid\" className=\"sectionSpacer\">\n\n        <div className=\"pointsBar sectionSpacer\">\n          <div className=\"filledBar\" style={{ width: `${(currentBalance - minRewardPoints) / (maxRewardPoints - minRewardPoints) * 100}%` }} />\n          <div className=\"pointsList \">\n            {rewardsList.map((val: number) => (\n              <div className={`pointContainer ${val <= currentBalance ? 'isFilled' : ''}`} key={val}>\n                <span className=\"value\">{commaSeparatedValue(val)}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </Box>\n    </div>\n  )\n}\n\nconst OneMarketPointsPage = (): React.ReactElement => {\n  const classes = useStyles()\n  const { user, authenticating, loading: userLoading, token, refreshUser } = useContext(UserContext);\n\n  const [{ data, loading }, fetchTransactionHistory] = useAxios<UserTransactionHistoryType[]>({\n    url: '/users/transactionHistory',\n    method: \"GET\",\n    headers: getAuthHeaders(token)\n  }, { manual: true })\n\n  useEffect(() => {\n    refreshUser()\n    fetchTransactionHistory()\n  }, [])\n\n  const _userTransactionsList = data || []\n  const userTransactionsList = reverse(sortBy(prop('createdAt'), _userTransactionsList))\n  const wallet = user?.wallet || { points: 0, userId: user?.id } as Wallet;\n\n  return (\n    <div className=\"container\">\n      <SimpleLoader loading={authenticating || loading} />\n      <div className={classes.navWrapper}>\n        <PageHeader title=\"1M Points\" leftChild={<DiamondIcon sx={{width:\"24px\", height:\"24px\", padding: \"12px\" }} />} />\n      </div>\n      <OneMarketPointsCard\n        wallet={wallet}\n        transactionProgressbar={\n          <OneMarketPointsBar wallet={wallet} userTransactionsList={userTransactionsList} />\n        }\n      />\n      {loading || userLoading && <LinearProgress />}\n      <ColoredPaper className={classes.root}>\n        {user && (\n          <CardContent>\n            <UserHistoricalEarningAndRedemptions userTransactionsList={userTransactionsList} />\n          </CardContent>\n        )}\n      </ColoredPaper>\n    </div>\n  );\n};\n\nexport default OneMarketPointsPage;\n","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  CardContent,\n  Grid,\n  IconButton,\n  List,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\n\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport { Favorite, Merchant, Merchandise } from '../services/models'\nimport axios from '../bos_common/src/services/backendAxios';\nimport PageHeader from '../components/common/PageHeader';\nimport FavoriteButton from '../components/common/FavoriteButton';\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { headerCustomStyle } from '../styles/Common.style';\nimport { Star } from '@material-ui/icons';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport MerchantCard from '../components/MerchantCard';\nimport { If } from 'react-if';\nimport { isEmptyOrNil } from '../utils';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      borderRadius: \"20px 20px 0 0 !important\", // to override inline style\n      zIndex: 1,\n    },\n\n    navWrapper: {\n      ...headerCustomStyle(theme, theme.palette.primary.main),\n    },\n  })\n);\n\ninterface FavData {\n  favorites: Favorite[];\n  merchants: Merchant[];\n  merchandises: Merchandise[];\n}\n\nconst FavoritesPage = (): React.ReactElement => {\n  const title = 'Favorites'\n  const history = useHistory()\n  const classes = useStyles()\n  const { user, loading } = useContext(UserContext);\n  const [favLoading, setFavLoading] = useState<boolean>(false)\n  const [data, setData] = useState<FavData>({\n    favorites: new Array<Favorite>(),\n    merchants: new Array<Merchant>(),\n    merchandises: new Array<Merchandise>(),\n  });\n\n  useEffect(() => {\n    if (user) {\n      setFavLoading(true)\n      axios.get<FavData>('/favorites/data', {\n        params: {\n          userId: user.id\n        }\n      }).then((response) => {\n        setFavLoading(false)\n        if (response.status === 200) {\n          setData({\n            favorites: response.data?.favorites,\n            merchants: response.data?.merchants,\n            merchandises: response.data?.merchandises,\n          })\n        }\n      }).catch((err) => {\n        console.log(err)\n        setFavLoading(false)\n      })\n    }\n  }, [user])\n\n\n  const removeRecord = (merchant: Merchant, merchandise?: Merchandise) => {\n    if (merchandise) {\n      const newMerchandises = [...data.merchandises]\n      const index = newMerchandises.indexOf(merchandise, 0);\n      if (index > -1) {\n        newMerchandises.splice(index, 1);\n      }\n      setData({\n        favorites: data.favorites,\n        merchants: data.merchants,\n        merchandises: newMerchandises,\n      })\n    } else {\n      const newMerchants = [...data.merchants]\n      const index = newMerchants.indexOf(merchant, 0);\n      if (index > -1) {\n        newMerchants.splice(index, 1);\n      }\n      setData({\n        favorites: data.favorites,\n        merchants: newMerchants,\n        merchandises: data.merchandises,\n      })\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <SimpleLoader loading={loading || favLoading} />\n      <div className={classes.navWrapper}>\n        <PageHeader title={title} leftChild={<IconButton><Star fontSize='large' /></IconButton>} />\n      </div>\n      <ColoredPaper className={classes.root}>\n        {user && (\n          <CardContent>\n            {!favLoading && data.merchants && data.merchants.length === 0 && (\n              <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n                No favorites yet\n              </Typography>\n            )}\n            <Grid container spacing={2}>\n              {!favLoading && data.merchants && data.merchants.map((merchant: Merchant) => {\n                return (\n                  <Grid item xs={12} sm={6} md={4} key={merchant.id}>\n                    <MerchantCard merchant={merchant} />\n                  </Grid>\n                )\n              })}\n            </Grid>\n          </CardContent>\n        )}\n      </ColoredPaper>\n    </div>\n  );\n};\n\nexport default FavoritesPage;\n","import React, { useContext, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Alert, CardContent, LinearProgress, Typography } from \"@material-ui/core\";\n\nimport { ColoredPaper } from \"../bos_common/src/components/Papers\";\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\nimport PhoneSignup from '../bos_common/src/components/PhoneSignup';\n\nimport PageHeader from \"../components/common/PageHeader\";\n\nconst LoginPage = (): React.ReactElement => {\n  const title = \"Log in\"\n  const history = useHistory()\n  const location = useLocation<{ from: { pathname: string } }>()\n  const from = location.state?.from || { pathname: '/' }\n  const { user, authenticating } = useContext(UserContext)\n\n  useEffect(() => {\n    if (user) {\n      setTimeout(() => history.replace({pathname: from.pathname,  hash: 'openDrawer'}), 1000)\n    }\n  }, [user]);\n\n  return (\n    <div className=\"container\">\n      <PageHeader title={title} />\n      <ColoredPaper>\n        {authenticating &&\n          <div>\n            <LinearProgress />\n            <CardContent>\n              <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\n                Logging in\n              </Typography>\n            </CardContent>\n          </div>}\n        {!user && !authenticating && (\n          <CardContent>\n            <Typography gutterBottom variant=\"subtitle1\" component=\"div\" className={\"signUpPrompt\"}>\n              Wait less, accumulate points and favorite shops, sign up/login with your phone number\n            </Typography>\n            <PhoneSignup redirectTo={from.pathname}/>\n          </CardContent>\n        )}\n        {user && (\n          <CardContent>\n            <Alert severity='success'>You have logged in, redirecting...</Alert>\n          </CardContent>\n        )}\n      </ColoredPaper>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { Alert, Snackbar } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\nimport { backendURL } from \"../bos_common/src/services/backendAxios\";\nimport { repeatAudio } from \"../bos_common/src\";\nimport { isOrderActive } from \"../bos_common/src/services/orderUtils\";\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\nimport { AppType, ClientType, Message, SocketEvent } from \"../bos_common/src/types\";\n\nimport { Merchant, Order } from \"../services/models\";\nimport { AppContext } from \"../context/AppContext\";\nimport { isKioskDevice, isNotificationSoundEnabled } from \"../utils\";\nimport { VisitedMerchantContext } from \"../context/VisitedMerchantContext/VisitedMerchantContext\";\n\nexport type AlertColor = 'success' | 'info' | 'warning' | 'error';\n\nconst NotificationPage = (): React.ReactElement => {\n  const [open, setOpen] = useState<boolean>(false);\n  const [bodyText, setBodyText] = useState<React.ReactElement | string>();\n  const [alertType, setAlertType] = useState<AlertColor>('info');\n  const { activeOrder, setActiveOrder, reFetchMerchandisesForCart } = useContext(AppContext);\n  const { visitedMerchant } = useContext(VisitedMerchantContext);\n  const { user } = useContext(UserContext);\n  const userRef = useRef(user)\n\n  const playNotificationSound = isNotificationSoundEnabled(userRef.current)\n\n  const [orderUpdateAudio, setAudio] = React.useState<HTMLAudioElement | null>(null);\n\n  useEffect(() => {\n    const notifAudio = document.getElementById('app_order_update_audio') as HTMLAudioElement;\n    setAudio(notifAudio);\n  }, [])\n\n  useEffect(() => {\n    if (visitedMerchant && isKioskDevice()) {\n      const topic = visitedMerchant.id\n      const socket = io(backendURL, {\n        reconnectionDelayMax: 10000,\n        query: {\n          merchantId: topic,\n          appType: AppType.MARKETPLACE,\n          clientType: ClientType.Web,\n        }\n      })\n\n      socket.on(topic, (data: Message) => {\n        const updatedMerchant = data.payload?.merchant as Merchant\n        switch (data.event) {\n          case SocketEvent.MERCHANT_STATUS_UPDATED:\n            if (updatedMerchant) {\n              window.location.reload();\n            }\n            break;\n          default: break;\n        }\n      })\n    }\n  }, [visitedMerchant])\n\n  useEffect(() => {\n    if (activeOrder && isOrderActive(activeOrder)) {\n      const socket = io(backendURL, {\n        reconnectionDelayMax: 10000,\n        query: {\n          orderId: activeOrder.id,\n          appType: AppType.MARKETPLACE,\n          clientType: ClientType.Web,\n        }\n      })\n\n      const topic = activeOrder.id\n      socket.on(topic, (data: Message) => {\n        const newOrderData = data.payload?.order as Order | undefined\n        const link = (<Link color=\"primary\" to={`/order/${topic}`}>order</Link>)\n        switch (data.event) {\n          case SocketEvent.ORDER_PREPARING:\n            setBodyText((\n              <>\n                Your {link} is being prepared\n              </>\n            ))\n            setAlertType('info');\n            setOpen(true)\n            break;\n          case SocketEvent.ORDER_READY:\n            // unsubscribe for this order\n            socket.off(topic)\n            setBodyText((\n              <>\n                Your {link} is ready\n              </>\n            ))\n            setAlertType('success');\n            setOpen(true)\n            break;\n          case SocketEvent.ORDER_UDPATED:\n            // unsubscribe for this order\n            socket.off(topic)\n            setBodyText((\n              <>\n                Your {link} is updated\n              </>\n            ))\n            setAlertType('success');\n            setOpen(true)\n            break;\n          case SocketEvent.ORDER_REFUNDED:\n            setBodyText((\n              <>\n                Some items in your {link} are cancelled\n              </>\n            ))\n            setAlertType('info');\n            setOpen(true)\n            break;\n          default: break;\n        }\n        if (newOrderData) {\n          setActiveOrder(newOrderData)\n          if (orderUpdateAudio && playNotificationSound) {\n            repeatAudio(orderUpdateAudio, 1)\n          }\n        }\n      })\n    }\n  }, [activeOrder?.id])\n\n  useEffect(() => {\n    userRef.current = user\n  }, [user])\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const renderBody = () => {\n    return (\n      <Alert\n        onClose={handleClose}\n        severity={alertType}>\n        {bodyText}\n      </Alert>\n    )\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      transitionDuration={500}\n      open={open}\n      onClose={handleClose}>\n      {renderBody()}\n    </Snackbar>\n  )\n}\n\nexport default NotificationPage","import React from 'react';\nimport { Link } from 'react-scroll';\nimport { AppBar, Chip, createStyles, List, ListItem, makeStyles, Theme } from '@material-ui/core';\nimport { rgba } from 'polished';\n\n// src\nimport { ColoredPaper } from '../../bos_common/src';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      boxShadow: \"unset\",\n      borderRadius: ({ borderRadius = \"20px 20px 0px 0px !important\" }: any) => borderRadius,\n      marginBottom: theme.spacing(2),\n\n      [theme.breakpoints.down('sm')]: {\n        padding: `0 ${theme.spacing(2)}`\n      },\n\n      '& .ordersTabs': {\n        display: 'inline-flex',\n        gap: theme.spacing(2),\n        padding: 0,\n        background: theme.palette.background.paper,\n        // boxShadow: \"0px 1px 12px rgba(0, 0, 0, 0.07)\",\n        borderRadius: theme.spacing(1),\n        justifyContent: \"center\",\n\n        [theme.breakpoints.down('sm')]: {\n          gap: theme.spacing(1),\n        },\n      },\n\n      \"& .item\": {\n        display: \"inline-block\",\n        padding: `${theme.spacing(2)} 0`,\n        width: \"unset\",\n\n        \"&::last-child\": {\n          marginRight: 0,\n        },\n\n        \"& .active\": {\n          \"& .link\": {\n            color: theme.palette.primary.main,\n            background: rgba(theme.palette.primary.main, 0.15),\n            borderColor: theme.palette.primary.main,\n          },\n        },\n\n        \"& .link\": {\n          color: theme.palette.secondary.light,\n          borderRadius: 8,\n          padding: `${theme.spacing(1)} ${theme.spacing(2.7)}`,\n          fontSize: \"14px\",\n          background: rgba(theme.palette.secondary.light, 0.15),\n          border: `1px solid ${theme.palette.secondary.light}`,\n\n          \"@media (max-width: 700px)\": {\n            padding: `${theme.spacing(1)} ${theme.spacing(0.8)}`,\n          },\n\n          \"& .MuiChip-label\": {\n            padding: 0,\n            marginTop: -1,\n\n            \"@media (max-width: 700px)\": {\n              fontSize: \"12px\",\n            },\n          },\n        },\n      },\n    }\n  })\n);\n\ntype SectionsAppBarProps = {\n  sections: {\n    key: string,\n    title: string,\n    [key: string]: any\n  }[]\n}\n\nconst FloatingSectionsHeader = ({ sections }: SectionsAppBarProps) => {\n  const classes = useStyles({})\n\n  return (\n    <AppBar\n      component={ColoredPaper}\n      position=\"sticky\"\n      color=\"default\"\n      className={classes.root}\n    >\n      <List className=\"ordersTabs\">\n        {sections.map((item) =>\n          <ListItem key={item.key} className=\"item\">\n            <Link\n              activeClass=\"active\"\n              to={item.key}\n              spy\n              smooth\n              duration={500}\n              offset={-150}\n            >\n              <Chip\n                label={item.title}\n                variant=\"filled\"\n                className=\"link\"\n                clickable\n              />\n            </Link>\n          </ListItem>\n        )}\n      </List>\n    </AppBar>\n  );\n}\n\nexport default FloatingSectionsHeader;\n","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CheckIcon(props: any) {\n  return (\n    <SvgIcon {...props} >\n      <path d=\"M0 1.63636C0 1.20237 0.172402 0.786158 0.47928 0.47928C0.786158 0.172402 1.20237 0 1.63636 0H7.81818C8.25217 0 8.66839 0.172402 8.97527 0.47928C9.28214 0.786158 9.45455 1.20237 9.45455 1.63636V7.27273H12V9.63636C12 10.2632 11.751 10.8644 11.3077 11.3077C10.8644 11.751 10.2632 12 9.63636 12H1.63636C1.20237 12 0.786158 11.8276 0.47928 11.5207C0.172402 11.2138 0 10.7976 0 10.3636V1.63636ZM9.45455 10.9091H9.63636C9.97391 10.9091 10.2976 10.775 10.5363 10.5363C10.775 10.2976 10.9091 9.97391 10.9091 9.63636V8.36364H9.45455V10.9091ZM2.72727 2.90909C2.58261 2.90909 2.44387 2.96656 2.34158 3.06885C2.23929 3.17114 2.18182 3.30988 2.18182 3.45455C2.18182 3.59921 2.23929 3.73795 2.34158 3.84024C2.44387 3.94253 2.58261 4 2.72727 4H6.72727C6.87194 4 7.01067 3.94253 7.11297 3.84024C7.21526 3.73795 7.27273 3.59921 7.27273 3.45455C7.27273 3.30988 7.21526 3.17114 7.11297 3.06885C7.01067 2.96656 6.87194 2.90909 6.72727 2.90909H2.72727ZM2.72727 5.45455C2.58261 5.45455 2.44387 5.51201 2.34158 5.61431C2.23929 5.7166 2.18182 5.85534 2.18182 6C2.18182 6.14466 2.23929 6.2834 2.34158 6.38569C2.44387 6.48799 2.58261 6.54545 2.72727 6.54545H6.72727C6.87194 6.54545 7.01067 6.48799 7.11297 6.38569C7.21526 6.2834 7.27273 6.14466 7.27273 6C7.27273 5.85534 7.21526 5.7166 7.11297 5.61431C7.01067 5.51201 6.87194 5.45455 6.72727 5.45455H2.72727ZM2.72727 8C2.58261 8 2.44387 8.05747 2.34158 8.15976C2.23929 8.26205 2.18182 8.40079 2.18182 8.54545C2.18182 8.69012 2.23929 8.82886 2.34158 8.93115C2.44387 9.03344 2.58261 9.09091 2.72727 9.09091H4.54545C4.69012 9.09091 4.82886 9.03344 4.93115 8.93115C5.03344 8.82886 5.09091 8.69012 5.09091 8.54545C5.09091 8.40079 5.03344 8.26205 4.93115 8.15976C4.82886 8.05747 4.69012 8 4.54545 8H2.72727Z\" fill=\"white\" />\n    </SvgIcon>\n  );\n}\n\nexport default CheckIcon","import React, { useContext, useEffect, useState, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Button,\n  Card,\n  CardContent,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Stack,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { includes, map, pathOr, pipe, propOr, reject } from 'ramda';\nimport { rgba } from 'polished';\nimport { If } from 'react-if';\n\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { displayOrderStatus, getItemsInOrder, sortOrders } from '../bos_common/src/services/orderUtils'\nimport axios from '../bos_common/src/services/backendAxios';\nimport renderPrice from \"../bos_common/src/components/Price\";\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport PageHeader from '../components/common/PageHeader';\nimport { getAuthHeaders } from '../bos_common/src';\n\nimport { LineItem, Merchant, Order, OrderStatus, OrderType } from '../services/models'\nimport { displayDate, isEmptyOrNil } from '../utils';\nimport { headerCustomStyle } from '../styles/Common.style';\nimport FloatingSectionsHeader from '../components/common/FloatingSectionsHeader';\nimport CheckIcon from '../assets/icons/CheckIcon';\nimport AppLogo from \"../assets/icons/logo.svg\"\nimport CountBox from '../components/common/CountBox';\nimport CustomizedChip from '../components/common/CustomizedChip';\nimport DiamondIcon from '../assets/icons/DiamondIcon';\nimport { ReviewsOutlined } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      borderRadius: \"20px 20px 0px 0px !important\",\n      zIndex: 1,\n\n      '& .ordersList': {\n        position: \"relative\",\n        zIndex: 10,\n        background: theme.palette.background.paper,\n      },\n\n      '& .merchantLogoContainer': {\n        width: 60,\n        height: 60,\n        position: \"relative\",\n\n        [theme.breakpoints.down('sm')]: {\n          width: 50,\n          height: 50,\n        },\n\n        '& .logo': {\n          width: '100%',\n          height: '100%',\n          objectFit: 'cover',\n          borderRadius: 20,\n        },\n      },\n\n      '& .review-btn': {\n        backgroundColor: rgba(theme.palette.error.main, 0.1),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0,\n\n        '& .MuiButton-label': {\n          textTransform: \"none\",\n          display: 'flex',\n          justifyContent: 'space-between',\n          color: theme.palette.error.main,\n\n          '& .MuiChip-root': {\n            fontSize: 14\n          }\n        },\n      },\n\n      '& .sectionHeader': {\n        fontWeight: 600,\n        fontSize: \"18px\",\n        display: \"flex\",\n        gap: \"10px\",\n        alignItems: \"center\",\n      },\n\n      '& .listCard': {\n        marginBottom: theme.spacing(2),\n\n        '& .cardTitle span': {\n          fontWeight: \"bold\",\n          fontSize: \"16px\",\n        },\n\n        '& .orderDetails': {\n          '& .orderTime': {\n            fontWeight: 600,\n            fontSize: \"12px\",\n          },\n\n          '& .orderPrice': {\n            fontSize: \"14px\",\n            fontWeight: \"normal\",\n            color: theme.palette.info.light,\n            display: \"flex\",\n            alignItems: \"center\",\n            flexWrap: \"wrap\",\n            gap: \"5px\",\n          }\n        }\n      },\n\n      '& .orderType': {\n        padding: `${theme.spacing(0.3)} ${theme.spacing(0.8)}`,\n        borderRadius: \"3px\",\n        fontSize: '10px',\n\n        '&.dark': {\n          background: theme.palette.primary.main,\n          color: \"#fff\",\n        },\n\n        '&.light': {\n          background: rgba(theme.palette.primary.main, 0.15),\n          color: theme.palette.primary.main,\n        }\n      },\n\n      '& .customChip': {\n        background: rgba(\"#3ADD92\", 0.15),\n        color: \"#3ADD92\",\n        padding: `${theme.spacing(0.3)} ${theme.spacing(0.8)}`,\n        borderRadius: \"3px\",\n        fontSize: '10px'\n      }\n    },\n\n    navWrapper: {\n      ...headerCustomStyle(theme, theme.palette.primary.main),\n    },\n  })\n);\n\ninterface OrderData {\n  orders: Order[];\n  merchants: Merchant[];\n}\n\ninterface OrderTransformed {\n  orders: Order[];\n  merchantLookup: { [key: string]: Merchant; };\n}\n\nconst getOrderType = (orderType: string) => {\n  switch (orderType) {\n    case OrderType.DINEIN:\n      return 'Dine In'\n    case OrderType.PICKUP:\n      return 'Pickup'\n    case OrderType.RESERVATION:\n      return 'Reservation'\n    default: return ''\n  }\n}\n\nconst getChipClass = (orderType: string) => {\n  switch (orderType) {\n    case OrderType.DINEIN:\n    case OrderType.RESERVATION:\n      return 'dark'\n    case OrderType.PICKUP:\n      return 'light'\n    default: return 'dark'\n  }\n}\n\nconst orderSummary = (order: Order) => {\n  const totalItems = getItemsInOrder(order, true);\n  return (\n    <div className=\"orderDetails\">\n      <div className=\"orderTime\">\n        {displayDate(order.createdAt)}\n      </div>\n      <div className=\"orderPrice\">\n        {renderPrice(order.amount)} <span>({totalItems} items)</span>\n        <span className={`orderType ${getChipClass(order.type)}`}>{getOrderType(order.type)}</span>\n        <span className=\"customChip\">{displayOrderStatus(order)}</span>\n      </div>\n    </div>\n  )\n}\n\nconst hasNoLineItemWithReview = (order: Order, merchantLookup: { [key: string]: Merchant } | undefined): boolean => {\n  const reviewedMerchandiseIds = pipe(propOr([], 'reviews'), map(pathOr('', ['merchandise', 'id'])))(order)\n  const carryoutBagId = pathOr('', [order.merchantId, 'orderingConfig', 'carryoutBag', 'id'], merchantLookup)\n  return pipe(\n    propOr([], 'lineItems'),\n    reject((i: LineItem) => includes(i.id, [carryoutBagId, ...reviewedMerchandiseIds])),\n    isEmptyOrNil\n  )(order);\n}\n\nconst OrdersPage = (): React.ReactElement => {\n  const title = 'Orders'\n  const classes = useStyles()\n  const history = useHistory()\n  const { user, authenticating, token } = useContext(UserContext);\n  const [orderLoading, setOrderLoading] = useState<boolean>(false)\n  const [data, setData] = useState<OrderTransformed>();\n\n  useEffect(() => {\n    if (user) {\n      setOrderLoading(true)\n      axios.get<OrderData>('/orders/data', {\n        params: { userId: user.id },\n        headers: getAuthHeaders(token),\n      }).then((response) => {\n        setOrderLoading(false)\n        if (response.status === 200) {\n          const merchantLookup: { [key: string]: Merchant; } = {}\n          if (response.data.merchants) {\n            response.data.merchants.reduce(function (lookup, merchant) {\n              lookup[merchant.id] = merchant\n              return merchantLookup\n            }, merchantLookup)\n          }\n          setData({\n            orders: response.data.orders,\n            merchantLookup,\n          })\n        }\n      }).catch((err) => {\n        console.log(err)\n        setOrderLoading(false)\n      })\n    }\n  }, [user])\n\n  const filerAndSortOrders = (searchFn: (order: Order) => boolean): Order[] => {\n    const filtered = data?.orders?.filter((order) => searchFn(order)) || []\n    return sortOrders(filtered)\n  }\n  const pastOrderTypes = [OrderStatus.FULFILLED, OrderStatus.CONFIRMED, OrderStatus.REFUNDED, OrderStatus.VOIDED, OrderStatus.PAID_EXTERNALLY];\n  const sections = useMemo(() => [\n    {\n      title: 'Open Checks',\n      key: 'open-checks',\n      searchFn: (order: Order) => order.status === OrderStatus.OPEN_CHECK && getItemsInOrder(order, true) > 0\n    },\n    {\n      title: 'Active Orders',\n      key: 'active-orders',\n      searchFn: (order: Order) => [OrderStatus.PAID, OrderStatus.PREPARING].includes(order.status)\n    },\n    {\n      title: 'Past Orders',\n      key: 'past-orders',\n      searchFn: (order: Order) => pastOrderTypes.includes(order.status) || getItemsInOrder(order, true) <= 0\n    },\n  ].map((section) => ({\n    ...section,\n    list: filerAndSortOrders(section.searchFn),\n  })).filter(i => !isEmptyOrNil(i.list)), [data]);\n\n  const onOrderClick = (order: Order) => {\n    history.push({\n      pathname: order.status === OrderStatus.OPEN_CHECK ? `/open-check-order-status/${order.id}` : `/order/${order.id}`,\n      state: { from: '/orders' }\n    })\n  }\n\n  return (\n    <div className=\"container\">\n      <SimpleLoader loading={authenticating || orderLoading} />\n      <div className={classes.navWrapper}>\n        <PageHeader title={title} leftChild={<IconButton><CheckIcon fontSize=\"large\" viewBox=\"-3 -2 15 15\" sx={{ width: \"20px\", height: \"20px\" }} /></IconButton>} />\n      </div>\n\n      <ColoredPaper className={classes.root}>\n        <If condition={Boolean(user)}>\n          <CardContent sx={{ padding: \"0px\" }}>\n            <If condition={!orderLoading && data?.orders?.length === 0}>\n              <Typography sx={{ padding: \"24px\" }} gutterBottom variant=\"subtitle1\" component=\"div\">\n                No orders yet\n              </Typography>\n            </If>\n\n            {/* Pills for Orders Sections */}\n            <FloatingSectionsHeader sections={sections} />\n\n            {sections.map(({ title, list, key }) => {\n              return (\n                <div key={key} id={key} className=\"ordersList\">\n                  <Typography sx={{ padding: \"0 24px\" }} gutterBottom variant=\"h6\" component=\"div\" className=\"sectionHeader\">\n                    {title} <CountBox count={list.length} />\n                  </Typography>\n                  <List sx={{ padding: \"10px 24px\" }}>\n                    {list.map((order: Order) => {\n                      const merchant = data?.merchantLookup[order.merchantId]\n                      if (!merchant) return null\n\n                      const canAddReviewToTheOrder = key === 'past-orders' && !hasNoLineItemWithReview(order, data?.merchantLookup)\n                      //const AvatarEnhanced: any = withFallbackPath(Avatar, merchant.logo);\n\n                      return (\n                        <Card elevation={3} key={order.id} className=\"listCard\">\n                          <ListItem button onClick={() => onOrderClick(order)}>\n                            {/* <ListItemAvatar>\n                                <AvatarEnhanced color=\"secondary\" src={`${merchant.logo}_small`} alt=\"merch-logo\" />\n                              </ListItemAvatar> */}\n                            <div>\n                              <ListItemText\n                                className=\"cardTitle\"\n                                primary={merchant.officialName}\n                                secondary={merchant.address}\n                              />\n                              <ListItemText\n                                primary={orderSummary(order)}\n                              />\n                            </div>\n                            <ListItemSecondaryAction>\n                              <div className=\"merchantLogoContainer\">\n                                <img className=\"logo\" src={merchant.logo ? merchant.logo : AppLogo} />\n                              </div>\n                            </ListItemSecondaryAction>\n                          </ListItem>\n                          <If condition={canAddReviewToTheOrder}>\n                            <Button\n                              variant=\"text\"\n                              color=\"inherit\"\n                              fullWidth\n                              className='review-btn'\n                              onClick={() =>\n                                history.push({\n                                  pathname: `/order/${order.id}/reviews`,\n                                  state: { from: '/orders' }\n                                })\n                              }\n                            //TODO - Need to add dynamic 1m points\n                            // endIcon={\n                            //   <CustomizedChip\n                            //     variant=\"filled\"\n                            //     color='secondary'\n                            //     size='small'\n                            //     label={\n                            //       <><DiamondIcon color=\"white\" sx={{ width: 14, height: 10 }} />&nbsp;+20</>}\n                            //   />\n                            // }\n                            >\n                              <Stack direction={'row'} alignItems={'center'} gap={1}><ReviewsOutlined fontSize='small' />Write a Review</Stack>\n                            </Button>\n                          </If>\n                        </Card>\n                      )\n                    })}\n                  </List>\n                </div>\n              )\n            })}\n\n          </CardContent>\n        </If>\n      </ColoredPaper>\n    </div >\n  );\n};\n\nexport default OrdersPage;\n","import React from \"react\";\nimport {\n  Dialog,\n  makeStyles,\n  Theme,\n  createStyles,\n  Button,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport { isEmptyOrNil } from \"../utils\";\nimport { If } from \"react-if\";\nimport { RewardsContentStyled } from \"../styles/Common.style\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .MuiPaper-root\": {\n        [theme.breakpoints.down(\"md\")]: {\n          margin: 0,\n          maxHeight: \"100%\"\n        }\n      },\n\n      \"& .closeButton\": {\n        position: \"absolute\",\n        top: 40,\n        right: 40,\n        zIndex: 10,\n        padding: theme.spacing(1.2),\n        color: theme.palette.info.light,\n        textTransform: 'unset',\n        background: '#ededed',\n\n        [theme.breakpoints.down('sm')]: {\n          position: \"fixed\",\n          top: 10,\n          right: 10,\n          padding: theme.spacing(0.5),\n          backgroundColor: \"#ededed\"\n        }\n      },\n    },\n\n    dialogCard: {\n      padding: `${theme.spacing(3)} ${theme.spacing(1.8)}`,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      boxShadow: \"0px 3px 12px rgba(0, 0, 0, 0.07)\",\n      borderRadius: \"20px\",\n      textAlign: 'center',\n\n      '& .cardHeading': {\n        fontSize: 18,\n        fontWeight: 700,\n        margin: 0,\n        marginBottom: theme.spacing(0.5),\n        color: theme.palette.info.light,\n      },\n\n      '& .cardDescription': {\n        fontSize: 14,\n        fontWeight: 500,\n        margin: 0,\n        marginBottom: theme.spacing(0.5),\n        color: theme.palette.secondary.light,\n      },\n\n      '& .cardIcon': {\n        marginBottom: theme.spacing(2),\n      }\n    }\n  })\n);\n\ntype DialogCardProps = {\n  heading: string;\n  description?: string;\n  icon: React.ReactNode;\n}\n\nexport const DialogCard = (props: DialogCardProps) => {\n  const { icon, heading, description } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.dialogCard}>\n      <div className=\"cardIcon\">\n        {icon}\n      </div>\n      <h3 className=\"cardHeading\">{heading}</h3>\n      <If condition={!isEmptyOrNil(description)}>\n        <p className=\"cardDescription\">{description}</p>\n      </If>\n    </div>\n  )\n}\n\ntype LearnMoreDialogProps = {\n  isOpen: boolean;\n  onCancel: () => void;\n  children?: React.ReactElement | React.ReactElement[];\n  illustration?: string | React.ReactNode;\n  heading?: string | React.ReactNode;\n  subHeading?: string;\n  title?: string;\n  description?: string;\n  cardsHeading?: string | React.ReactNode;\n  isMultiColumn?: boolean;\n  cardsList?: Array<{\n    icon: React.ReactNode;\n    heading: string;\n    description?: string;\n  }>;\n\n};\n\nconst LearnMoreDialog = (props: LearnMoreDialogProps) => {\n  const { isOpen, onCancel, heading, title, subHeading, isMultiColumn=true, cardsHeading, illustration, description, cardsList, children } = props;\n\n  const classes = useStyles();\n\n  const isTabletModeOnly = useMediaQuery((theme: Theme) => theme.breakpoints.between('sm', 'md'));\n\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={onCancel}\n      maxWidth=\"lg\"\n      className={classes.root}\n      sx={{margin: 0, maxHeight: \"unset\"}}\n    >\n      <RewardsContentStyled className={classNames({'multiColumn': isMultiColumn})}>\n        <Button onClick={onCancel} className=\"closeButton\">\n          <Close /> Close\n        </Button>\n\n        <If condition={!isTabletModeOnly}>\n          {illustration && illustration}\n        </If>\n        <div className={classNames({'dialogContent': isMultiColumn})}>\n          <If condition={!isEmptyOrNil(title)}>\n            <p className=\"title\">{title}</p>\n          </If>\n\n          <If condition={!isEmptyOrNil(heading)}>\n            <h3 className=\"heading\">{heading}</h3>\n          </If>\n\n          <If condition={!isEmptyOrNil(subHeading)}>\n            <h4 className=\"subHeading\">{subHeading}</h4>\n          </If>\n\n          <If condition={!isEmptyOrNil(description)}>\n            <p className=\"description\">\n              {description}\n            </p>\n          </If>\n\n          <If condition={!isEmptyOrNil(cardsHeading)}>\n            <h4 className=\"contentHeading\">\n              {cardsHeading}\n            </h4>\n          </If>\n\n          <If condition={!isEmptyOrNil(cardsList)}>\n            <div className=\"featuresWrapper\">\n              {\n                cardsList?.map((data, index) => (\n                    <DialogCard\n                      key={`card-${index}`}\n                      {...data}\n                    />\n                  )\n                )\n              }\n            </div>\n          </If>\n\n          {children && children}\n        </div>\n\n      </RewardsContentStyled>\n    </Dialog>\n  );\n};\n\nexport default LearnMoreDialog;\n","export default __webpack_public_path__ + \"static/media/deserve-rewards.2b234683.png\";","export default __webpack_public_path__ + \"static/media/merchant-rewards-card.47d7fac5.png\";","export default __webpack_public_path__ + \"static/media/redeem-reminder.07300797.png\";","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ShoppingIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"49px\", height: \"48px\" }}\n      viewBox=\"0 0 49 48\"\n      fill=\"none\"\n      {...props}\n    >\n      <g clipPath=\"url(#clip0_10177_54428)\">\n        <path\n          d=\"M31.6022 1.23816L47.5122 17.1482C49.1627 18.7987 49.1627 21.4636 47.5122 23.1141L29.8304 40.7959C29.2734 41.3525 28.3986 41.3525 27.8416 40.7959C27.8416 40.7959 24.4211 38.25 23.8641 38.807C23.3071 39.364 25.853 42.7844 25.853 42.7844C26.4097 43.3414 26.4097 44.2163 25.853 44.7733L23.8641 46.7618C22.2136 48.4127 19.5487 48.4127 17.8978 46.7618L1.98816 30.8522C0.33728 29.2013 0.33728 26.5367 1.98816 24.8859L3.97668 22.897C4.53369 22.3403 5.40857 22.3403 5.96558 22.897C5.96558 22.897 9.38599 25.4429 9.94299 24.8859C10.4996 24.3289 7.9541 20.9084 7.9541 20.9084C7.39709 20.3514 7.39709 19.4766 7.9541 18.9196L25.6359 1.23816C27.2867 -0.41272 29.9513 -0.41272 31.6022 1.23816Z\"\n          fill=\"#FF7816\"\n        />\n        <path\n          d=\"M39.5569 9.19287L47.5121 17.1477C49.1626 18.7986 49.1626 21.4631 47.5121 23.114L29.8303 40.7958C29.2733 41.3524 28.3984 41.3524 27.8414 40.7958C27.8414 40.7958 24.421 38.2499 23.864 38.8069C23.307 39.3639 25.8529 42.7843 25.8529 42.7843C26.4095 43.3413 26.4095 44.2162 25.8529 44.7732L23.864 46.7617C22.2135 48.4126 19.5486 48.4126 17.8977 46.7617L9.94287 38.8069L39.5569 9.19287Z\"\n          fill=\"#FF4B00\"\n        />\n        <path\n          d=\"M11.9321 26.8748C12.4818 26.3251 12.4818 25.4355 11.9321 24.8859L7.95471 20.9084C8.5033 21.457 8.5033 22.3484 7.95471 22.897C7.40613 23.4459 6.5144 23.4459 5.96582 22.897L9.94324 26.8748C10.4929 27.4241 11.3824 27.4241 11.9321 26.8748Z\"\n          fill=\"#FF4B00\"\n        />\n        <path\n          d=\"M21.8756 36.8185C21.326 37.3682 21.326 38.2577 21.8756 38.807L25.8531 42.7845C25.3045 42.2359 25.3045 41.3445 25.8531 40.7959C26.4016 40.2473 27.293 40.2473 27.8416 40.7959L23.8642 36.8185C23.3145 36.2688 22.425 36.2688 21.8756 36.8185Z\"\n          fill=\"#D03B00\"\n        />\n        <path\n          d=\"M23.647 17.1478C22.0023 15.5028 19.326 15.5028 17.681 17.1478C16.036 18.7928 16.036 21.4691 17.681 23.1141C19.3257 24.7592 22.002 24.7592 23.647 23.1141C25.2924 21.4691 25.2924 18.7928 23.647 17.1478ZM21.6584 21.1256C21.3018 21.4823 20.8824 21.5354 20.6642 21.5354C20.4459 21.5354 20.0266 21.4823 19.6699 21.1256C19.3132 20.7689 19.2598 20.3492 19.2598 20.131C19.2598 19.9127 19.3129 19.4934 19.6696 19.1367C20.0266 18.78 20.4459 18.7269 20.6642 18.7269C20.8824 18.7269 21.3018 18.78 21.6584 19.1367C22.2067 19.6849 22.2067 20.577 21.6584 21.1256Z\"\n          fill=\"#FDBF00\"\n        />\n        <path\n          d=\"M39.5572 17.1478C37.9122 15.5028 35.2359 15.5028 33.5909 17.1478C31.9463 18.7928 31.9463 21.4691 33.5909 23.1141C35.2359 24.7592 37.9122 24.7592 39.5572 23.1141C41.2022 21.4691 41.2022 18.7928 39.5572 17.1478ZM37.5687 21.1256C37.212 21.4823 36.7927 21.5354 36.5744 21.5354C36.3562 21.5354 35.9365 21.4823 35.5798 21.1256C35.0316 20.577 35.0316 19.6849 35.5798 19.1367C35.9365 18.78 36.3562 18.7269 36.5744 18.7269C36.7927 18.7269 37.212 18.78 37.5687 19.1367C38.1169 19.6849 38.1169 20.577 37.5687 21.1256Z\"\n          fill=\"#FF9F00\"\n        />\n        <path\n          d=\"M28.0225 9.90897L29.832 18.9181L31.9999 29.7964C32.0794 30.2736 31.9201 30.7511 31.6022 31.069C31.4034 31.2679 31.1646 31.3873 30.8859 31.4667C30.1106 31.6062 29.3746 31.1089 29.2156 30.3531L27.4058 21.3443L25.2382 10.4656C25.099 9.68998 25.596 8.95426 26.3518 8.79532C27.1275 8.65616 27.8632 9.15311 28.0225 9.90897Z\"\n          fill=\"#FDBF00\"\n        />\n        <path\n          d=\"M15.9093 28.8633L19.8867 32.8407C20.4434 33.3977 20.4434 34.2726 19.8867 34.8296C19.3297 35.3866 18.4548 35.3866 17.8978 34.8296L13.9204 30.8522C13.3638 30.2952 13.3638 29.4203 13.9204 28.8633C14.4774 28.3063 15.3523 28.3063 15.9093 28.8633Z\"\n          fill=\"#FF4B00\"\n        />\n        <path\n          d=\"M15.9092 32.8406L17.8977 30.8521L19.8866 32.8406C20.4432 33.3976 20.4432 34.2725 19.8866 34.8295C19.3296 35.3865 18.4547 35.3865 17.8977 34.8295L15.9092 32.8406Z\"\n          fill=\"#D03B00\"\n        />\n        <path\n          d=\"M29.8324 18.918L32 29.7963C32.0795 30.2734 31.9206 30.751 31.6023 31.0689C31.4035 31.2677 31.1647 31.3871 30.8864 31.4666C30.1107 31.6061 29.375 31.1088 29.2157 30.3529L27.4062 21.3441L29.8324 18.918Z\"\n          fill=\"#FF9F00\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_10177_54428\">\n          <rect\n            width=\"48\"\n            height=\"48\"\n            fill=\"white\"\n            transform=\"translate(0.75)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default ShoppingIcon;\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ReviewIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"49px\", height: \"48px\" }}\n      viewBox=\"0 0 49 48\"\n      fill=\"none\"\n      {...props}\n    >\n      <g clipPath=\"url(#clip0_10177_54532)\">\n        <path\n          d=\"M44.4665 0.0205078H3.99255C1.92558 0.0205078 0.25 1.69608 0.25 3.76305V15.2986C0.25 17.3656 1.92558 19.0412 3.99255 19.0412H6.86005L10.4304 23.8071L14.0008 19.0412H44.4665C46.5335 19.0412 48.2091 17.3656 48.2091 15.2986V3.76305C48.2091 1.69608 46.5335 0.0205078 44.4665 0.0205078Z\"\n          fill=\"#FFD36C\"\n        />\n        <path\n          d=\"M44.4667 0.0205078H40.5586C42.6256 0.0205078 44.3011 1.69608 44.3011 3.76305V15.2986C44.3011 17.3656 42.6256 19.0412 40.5586 19.0412H44.4667C46.5337 19.0412 48.2093 17.3656 48.2093 15.2986V3.76305C48.2093 1.69608 46.5337 0.0205078 44.4667 0.0205078Z\"\n          fill=\"#FCC645\"\n        />\n        <path\n          d=\"M10.6205 4.89407L11.9664 7.62108C12.0048 7.69886 12.079 7.7528 12.1649 7.76534L15.1743 8.20267C15.3906 8.23413 15.4769 8.49988 15.3204 8.65244L13.1428 10.7751C13.0806 10.8357 13.0523 10.9229 13.0669 11.0085L13.581 14.0058C13.6179 14.2212 13.3918 14.3854 13.1984 14.2838L10.5067 12.8687C10.4298 12.8283 10.3381 12.8283 10.2613 12.8687L7.56958 14.2838C7.3761 14.3855 7.15001 14.2213 7.18697 14.0058L7.70101 11.0085C7.71567 10.923 7.6873 10.8357 7.62516 10.7751L5.44761 8.65235C5.29109 8.49978 5.37745 8.23403 5.5937 8.20257L8.60316 7.76525C8.68904 7.7528 8.76325 7.69886 8.80165 7.62098L10.1475 4.89398C10.2444 4.69809 10.5238 4.69809 10.6205 4.89407Z\"\n          fill=\"#EAAF20\"\n        />\n        <path\n          d=\"M24.4658 4.89406L25.8117 7.62107C25.8501 7.69885 25.9243 7.75279 26.0102 7.76533L29.0196 8.20266C29.2359 8.23412 29.3223 8.49987 29.1657 8.65243L26.9881 10.7751C26.9259 10.8357 26.8976 10.9229 26.9122 11.0085L27.4263 14.0058C27.4632 14.2212 27.2371 14.3854 27.0437 14.2838L24.352 12.8687C24.2752 12.8283 24.1834 12.8283 24.1066 12.8687L21.4149 14.2838C21.2214 14.3855 20.9953 14.2213 21.0323 14.0058L21.5463 11.0085C21.561 10.923 21.5326 10.8357 21.4705 10.7751L19.2928 8.65243C19.1363 8.49987 19.2227 8.23412 19.4389 8.20266L22.4484 7.76533C22.5343 7.75289 22.6085 7.69894 22.6469 7.62107L23.9927 4.89406C24.0897 4.69807 24.3692 4.69807 24.4658 4.89406Z\"\n          fill=\"#EAAF20\"\n        />\n        <path\n          d=\"M38.3115 4.89406L39.6574 7.62107C39.6958 7.69885 39.77 7.75279 39.8559 7.76533L42.8653 8.20266C43.0816 8.23412 43.168 8.49987 43.0114 8.65243L40.8338 10.7751C40.7716 10.8357 40.7433 10.9229 40.7579 11.0085L41.272 14.0058C41.3089 14.2212 41.0828 14.3854 40.8894 14.2838L38.1977 12.8687C38.1209 12.8283 38.0291 12.8283 37.9523 12.8687L35.2606 14.2838C35.0671 14.3855 34.841 14.2213 34.878 14.0058L35.392 11.0085C35.4067 10.923 35.3783 10.8357 35.3162 10.7751L33.1385 8.65243C32.982 8.49987 33.0684 8.23412 33.2846 8.20266L36.2941 7.76533C36.38 7.75289 36.4542 7.69894 36.4926 7.62107L37.8384 4.89406C37.9353 4.69807 38.2148 4.69807 38.3115 4.89406Z\"\n          fill=\"#EAAF20\"\n        />\n        <path\n          d=\"M10.3822 47.9795C15.9781 47.9795 20.5144 43.4432 20.5144 37.8473C20.5144 32.2514 15.9781 27.7151 10.3822 27.7151C4.78634 27.7151 0.25 32.2514 0.25 37.8473C0.25 43.4432 4.78634 47.9795 10.3822 47.9795Z\"\n          fill=\"#F7F3F1\"\n        />\n        <path\n          d=\"M10.3725 39.2947C12.3976 39.2947 14.0394 37.653 14.0394 35.6278C14.0394 33.6027 12.3976 31.9609 10.3725 31.9609C8.34729 31.9609 6.70557 33.6027 6.70557 35.6278C6.70557 37.653 8.34729 39.2947 10.3725 39.2947Z\"\n          fill=\"#EBE1DC\"\n        />\n        <path\n          d=\"M10.3723 39.2947C6.95612 39.2947 4.14091 41.8674 3.7583 45.181V45.5146C5.53443 47.0503 7.84978 47.9794 10.3821 47.9794C12.9133 47.9794 15.2276 47.0511 17.0034 45.5166L17.0058 45.3741C16.7125 41.9678 13.8546 39.2947 10.3723 39.2947Z\"\n          fill=\"#EBE1DC\"\n        />\n        <path\n          d=\"M46.424 32.2987H26.5456C24.2408 32.2987 24.2379 28.7283 26.5456 28.7283H46.424C48.7287 28.7283 48.7316 32.2987 46.424 32.2987Z\"\n          fill=\"#EBE1DC\"\n        />\n        <path\n          d=\"M46.4718 39.6324H26.5934C24.2887 39.6324 24.2858 36.062 26.5934 36.062H46.4718C48.7766 36.062 48.7795 39.6324 46.4718 39.6324Z\"\n          fill=\"#EBE1DC\"\n        />\n        <path\n          d=\"M46.5202 46.9662H26.6418C24.337 46.9662 24.3341 43.3958 26.6418 43.3958H46.5202C48.8249 43.3958 48.8278 46.9662 46.5202 46.9662Z\"\n          fill=\"#EBE1DC\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_10177_54532\">\n          <rect\n            width=\"48\"\n            height=\"48\"\n            fill=\"white\"\n            transform=\"translate(0.25)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default ReviewIcon;\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction LootBoxIcon(props: any) {\n  return (\n    <SvgIcon\n    sx={{width: \"49px\", height: \"45px\"}} viewBox=\"0 0 49 45\" fill=\"none\"\n      {...props}\n    >\n<path d=\"M0.75 25.5896V43.2114C0.75 43.9862 1.37803 44.6143 2.15287 44.6143H14.9363C14.9363 43.8041 14.9363 26.2927 14.9363 25.5896H0.75Z\" fill=\"#F8B62D\"/>\n<path d=\"M3.70631 43.2114V25.5896H0.75V43.2114C0.75 43.9862 1.37803 44.6143 2.15288 44.6143H5.10919C4.33444 44.6143 3.70631 43.9862 3.70631 43.2114Z\" fill=\"black\" fillOpacity=\"0.1\"/>\n<path d=\"M7.69828 13.9612C3.86091 13.9612 0.75 17.0721 0.75 20.9096V25.8794H14.9363V20.9096C14.9363 17.0721 11.5357 13.9612 7.69828 13.9612Z\" fill=\"#FFA812\"/>\n<path d=\"M9.18337 14.1187C8.70028 14.0164 8.20331 13.9612 7.69828 13.9612C3.8609 13.9611 0.75 17.072 0.75 20.9094V25.8792H3.70631V20.9094C3.70631 17.5769 6.05287 14.7938 9.18337 14.1187Z\" fill=\"black\" fillOpacity=\"0.1\"/>\n<path d=\"M39.0007 13.9612H10.5957C14.4332 13.9612 17.544 17.0721 17.544 20.9095V26.7485H27.6003C27.6801 26.1743 28.175 25.7281 28.7703 25.7281H28.9673H33.5003H33.6974C34.2926 25.7281 34.7875 26.1743 34.8674 26.7485H45.9489V20.9095C45.9491 17.0721 42.8382 13.9612 39.0007 13.9612Z\" fill=\"#FBC700\"/>\n<path d=\"M14.7706 13.9612H10.5957C14.4332 13.9612 17.544 17.0721 17.544 20.9095V26.7485H21.7189V20.9095C21.7189 17.0721 18.608 13.9612 14.7706 13.9612Z\" fill=\"#FFA812\"/>\n<path d=\"M11.1728 13.9612H7.69873C11.5362 13.9612 14.647 17.0721 14.647 20.9095V26.7485H18.1212V20.9095C18.1212 17.0721 15.0103 13.9612 11.1728 13.9612Z\" fill=\"#FFE02F\"/>\n<path d=\"M41.8018 13.9612H38.3276C42.1651 13.9612 45.2759 17.0721 45.2759 20.9095V26.7485H48.7501V20.9095C48.7502 17.0721 45.6393 13.9612 41.8018 13.9612Z\" fill=\"#FFEA7E\"/>\n<path d=\"M34.8673 25.8794C34.8747 25.9326 34.8799 25.9865 34.8799 26.0415V31.0672C34.8799 31.7176 34.3478 32.2498 33.6973 32.2498H28.7701C28.1197 32.2498 27.5875 31.7177 27.5875 31.0672V26.0415C27.5875 25.9864 27.5927 25.9326 27.6001 25.8794H14.6465V44.6143H47.2438C48.0755 44.6143 48.7497 43.9401 48.7497 43.1084V25.8794H34.8673Z\" fill=\"#FFEA7E\"/>\n<path d=\"M14.6465 25.8794H18.1207V44.6143H14.6465V25.8794Z\" fill=\"#FFE02F\"/>\n<path d=\"M44.359 29.3535H34.8799V31.0673C34.8799 31.7176 34.3478 32.2498 33.6974 32.2498H28.7701C28.1198 32.2498 27.5876 31.7177 27.5876 31.0673V29.3535H19.0372C18.5309 29.3535 18.1206 29.7639 18.1206 30.2701V40.2235C18.1206 40.7297 18.5309 41.14 19.0372 41.14H44.3589C44.8651 41.14 45.2755 40.7296 45.2755 40.2235V30.2702C45.2756 29.764 44.8652 29.3535 44.359 29.3535Z\" fill=\"#FBC700\"/>\n<path d=\"M21.6923 40.2235V30.2701C21.6923 29.7639 22.1027 29.3535 22.6089 29.3535H19.0377C18.5314 29.3535 18.1211 29.7639 18.1211 30.2701V40.2235C18.1211 40.7297 18.5314 41.14 19.0377 41.14H22.6089C22.1027 41.14 21.6923 40.7296 21.6923 40.2235Z\" fill=\"#FFA812\"/>\n<path d=\"M34.3748 8.73929H33.8505V8.21503C33.8505 7.81491 33.5262 7.49072 33.1262 7.49072C32.7262 7.49072 32.4019 7.815 32.4019 8.21503V8.73929H31.8776C31.4776 8.73929 31.1533 9.06357 31.1533 9.4636C31.1533 9.86372 31.4776 10.1879 31.8776 10.1879H32.4019V10.7122C32.4019 11.1123 32.7262 11.4365 33.1262 11.4365C33.5262 11.4365 33.8505 11.1122 33.8505 10.7122V10.1879H34.3748C34.7748 10.1879 35.0991 9.86363 35.0991 9.4636C35.0991 9.06357 34.7748 8.73929 34.3748 8.73929Z\" fill=\"#FFE02F\"/>\n<path d=\"M23.9461 7.97997C23.1317 7.56334 22.4664 6.89697 22.0516 6.08144C21.9615 5.90425 21.7807 5.79175 21.5819 5.79175C21.3832 5.79175 21.2024 5.90434 21.1123 6.08144C20.6975 6.89697 20.0323 7.56334 19.2178 7.97997C19.0412 8.07025 18.9292 8.25081 18.9292 8.4491V8.46203C18.9292 8.65825 19.0378 8.83928 19.2125 8.92844C20.0243 9.34244 20.6879 10.0045 21.1039 10.8152C21.1933 10.9893 21.374 11.0972 21.5697 11.0972H21.5942C21.7899 11.0972 21.9706 10.9893 22.06 10.8152C22.4759 10.0045 23.1396 9.34244 23.9514 8.92844C24.1261 8.83928 24.2347 8.65825 24.2347 8.46203V8.4491C24.2346 8.25072 24.1227 8.07025 23.9461 7.97997Z\" fill=\"#FFEA7E\"/>\n<path d=\"M29.6299 1.92225C29.0579 1.62965 28.5906 1.16165 28.2994 0.588935C28.2361 0.464529 28.109 0.385498 27.9694 0.385498C27.8299 0.385498 27.7028 0.464529 27.6395 0.588935C27.3483 1.16165 26.881 1.62965 26.309 1.92225C26.1851 1.98572 26.1064 2.11247 26.1064 2.25168V2.26078C26.1064 2.39859 26.1827 2.52572 26.3054 2.58834C26.8755 2.87915 27.3416 3.34406 27.6337 3.9134C27.6964 4.03565 27.8234 4.1115 27.9608 4.1115H27.9781C28.1155 4.1115 28.2424 4.03565 28.3052 3.9134C28.5973 3.34406 29.0634 2.87915 29.6335 2.58834C29.7562 2.52572 29.8324 2.39859 29.8324 2.26078V2.25168C29.8324 2.11247 29.7538 1.98572 29.6299 1.92225Z\" fill=\"#FFE02F\"/>\n<path d=\"M21.048 8.92853C20.8733 8.83938 20.7647 8.65835 20.7647 8.46213V8.44919C20.7647 8.25091 20.8768 8.07044 21.0533 7.98006C21.6187 7.69084 22.112 7.28097 22.4998 6.78466C22.329 6.56603 22.1786 6.33091 22.0517 6.08153C21.9615 5.90434 21.7808 5.79175 21.5819 5.79175C21.3832 5.79175 21.2024 5.90434 21.1123 6.08153C20.6975 6.89706 20.0323 7.56344 19.2178 7.98006C19.0412 8.07034 18.9292 8.25091 18.9292 8.44919V8.46213C18.9292 8.65835 19.0378 8.83938 19.2125 8.92853C20.0243 9.34253 20.6879 10.0046 21.1039 10.8153C21.1933 10.9893 21.374 11.0973 21.5697 11.0973H21.5942C21.7899 11.0973 21.9706 10.9893 22.06 10.8153C22.1849 10.5717 22.3327 10.3419 22.4997 10.1279C22.1109 9.6295 21.616 9.21813 21.048 8.92853Z\" fill=\"#FFE02F\"/>\n<path d=\"M27.8511 2.58843C27.7284 2.52581 27.6522 2.39868 27.6522 2.26087V2.25178C27.6522 2.11256 27.7308 1.98581 27.8548 1.92234C28.1925 1.74956 28.4923 1.51443 28.7423 1.23394C28.5689 1.03931 28.4186 0.823592 28.2993 0.588935C28.2361 0.464529 28.109 0.385498 27.9694 0.385498C27.8299 0.385498 27.7028 0.464529 27.6395 0.588935C27.3483 1.16165 26.881 1.62965 26.309 1.92225C26.1851 1.98572 26.1064 2.11247 26.1064 2.25168V2.26078C26.1064 2.39859 26.1827 2.52572 26.3054 2.58834C26.8755 2.87915 27.3416 3.34406 27.6337 3.9134C27.6964 4.03565 27.8234 4.1115 27.9608 4.1115H27.9781C28.1155 4.1115 28.2424 4.03565 28.3052 3.9134C28.4235 3.68278 28.5716 3.47053 28.7423 3.27881C28.4915 2.99728 28.1903 2.7614 27.8511 2.58843Z\" fill=\"#FBC700\"/>\n<path d=\"M33.6976 24.8108H28.7704C28.0917 24.8108 27.5396 25.3629 27.5396 26.0416V31.0673C27.5396 31.746 28.0916 32.2981 28.7704 32.2981H33.6976C34.3763 32.2981 34.9285 31.746 34.9285 31.0673V26.0416C34.9285 25.3629 34.3764 24.8108 33.6976 24.8108Z\" fill=\"#928392\"/>\n<path d=\"M30.0206 31.0673V26.0416C30.0206 25.363 30.5727 24.8108 31.2515 24.8108H28.7704C28.0917 24.8108 27.5396 25.3629 27.5396 26.0416V31.0673C27.5396 31.746 28.0916 32.2981 28.7704 32.2981H31.2515C30.5727 32.298 30.0206 31.7459 30.0206 31.0673Z\" fill=\"#7A6D79\"/>\n<path d=\"M31.2341 30.991C30.834 30.991 30.5098 30.6667 30.5098 30.2667V28.8664C30.5098 28.4663 30.834 28.1421 31.2341 28.1421C31.6341 28.1421 31.9584 28.4664 31.9584 28.8664V30.2667C31.9584 30.6667 31.6341 30.991 31.2341 30.991Z\" fill=\"#685E68\"/>\n<path d=\"M31.2338 29.2811C31.9039 29.2811 32.4471 28.7379 32.4471 28.0678C32.4471 27.3977 31.9039 26.8545 31.2338 26.8545C30.5637 26.8545 30.0205 27.3977 30.0205 28.0678C30.0205 28.7379 30.5637 29.2811 31.2338 29.2811Z\" fill=\"#685E68\"/>\n<path d=\"M7.7947 16.9186C5.54976 16.8656 3.70654 18.6763 3.70654 20.9095V22.4292C3.70654 22.7019 3.92761 22.9229 4.20032 22.9229H11.1968C11.4695 22.9229 11.6906 22.7019 11.6906 22.4292V20.9844C11.6906 18.8044 9.97401 16.9701 7.7947 16.9186Z\" fill=\"#7A6D79\"/>\n<path d=\"M6.60398 22.4292V20.9095C6.60398 19.221 7.65801 17.7747 9.14235 17.1922C8.72385 17.0261 8.27029 16.9298 7.7947 16.9186C5.54976 16.8656 3.70654 18.6763 3.70654 20.9095V22.4292C3.70654 22.7019 3.92761 22.9229 4.20032 22.9229H7.09776C6.82504 22.9229 6.60398 22.7019 6.60398 22.4292Z\" fill=\"#685E68\"/>\n    </SvgIcon>\n  );\n}\n\nexport default LootBoxIcon;\n\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction JoinPromotionIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"49px\", height: \"48px\" }}\n      viewBox=\"0 0 49 48\"\n      fill=\"none\"\n      {...props}\n    >\n      <g clipPath=\"url(#clip0_10177_54492)\">\n        <path\n          d=\"M35.517 3.01929H12.9829C12.4592 3.01929 11.9753 3.29866 11.7134 3.75222L0.446383 23.2673C0.184539 23.7209 0.184539 24.2796 0.446383 24.7332L11.7134 44.2484C11.9753 44.7019 12.4592 44.9813 12.9829 44.9813H35.517C36.0407 44.9813 36.5247 44.7019 36.7865 44.2484L48.0536 24.7332C48.3154 24.2796 48.3154 23.7209 48.0536 23.2673L36.7865 3.75222C36.5247 3.29866 36.0407 3.01929 35.517 3.01929Z\"\n          fill=\"#FFD45D\"\n        />\n        <path\n          d=\"M48.25 24.0002H38.6426L31.4463 36.4646L36.25 44.7848C36.4692 44.6582 36.6557 44.4751 36.7866 44.2483L48.0536 24.7331C48.1846 24.5064 48.25 24.2533 48.25 24.0002Z\"\n          fill=\"#FF6500\"\n        />\n        <path\n          d=\"M31.4463 36.4646H17.0538L12.25 44.7848C12.4692 44.9114 12.7211 44.9812 12.9829 44.9812H35.5171C35.7789 44.9812 36.0308 44.9114 36.25 44.7848L31.4463 36.4646Z\"\n          fill=\"#FF9416\"\n        />\n        <path\n          d=\"M17.0538 36.4646L9.85741 24.0002H0.25C0.25 24.2533 0.315438 24.5064 0.446406 24.7332L11.7135 44.2484C11.8444 44.4752 12.0308 44.6583 12.25 44.7849L17.0538 36.4646Z\"\n          fill=\"#FFC13F\"\n        />\n        <path\n          d=\"M17.0538 11.5359L12.25 3.21558C12.0308 3.34214 11.8443 3.52533 11.7135 3.75211L0.446406 23.2674C0.315438 23.4941 0.25 23.7472 0.25 24.0002H9.85741L17.0538 11.5359Z\"\n          fill=\"#FFD45D\"\n        />\n        <path\n          d=\"M17.0538 11.536H31.4463L36.25 3.21569C36.0308 3.08913 35.7789 3.01929 35.5171 3.01929H12.9829C12.7211 3.01929 12.4692 3.08913 12.25 3.21569L17.0538 11.536Z\"\n          fill=\"#FFC13F\"\n        />\n        <path\n          d=\"M31.4463 11.5359L38.6426 24.0002H48.25C48.25 23.7472 48.1846 23.4941 48.0536 23.2674L36.7866 3.75211C36.6557 3.52533 36.4692 3.34214 36.25 3.21558L31.4463 11.5359Z\"\n          fill=\"#FF9416\"\n        />\n        <path\n          d=\"M31.4464 11.5359H17.0537L9.85742 24.0002L17.0537 36.4646H31.4464L38.6426 24.0002L31.4464 11.5359Z\"\n          fill=\"#FF7B05\"\n        />\n        <path\n          d=\"M17.3129 10.6631L18.2303 9.97785C18.4391 9.82195 18.7153 10.0548 18.5969 10.2869L18.0766 11.3069C18.021 11.416 18.0539 11.5492 18.1538 11.6198L19.089 12.2805C19.3018 12.4309 19.1657 12.7656 18.9083 12.7246L17.7774 12.5449C17.6566 12.5257 17.5399 12.5982 17.5037 12.7151L17.1642 13.8087C17.0869 14.0575 16.7266 14.0314 16.686 13.7741L16.5074 12.6431C16.4883 12.5222 16.3834 12.4337 16.261 12.4353L15.116 12.4504C14.8555 12.4539 14.7689 12.1031 15.0011 11.9849L16.0216 11.4656C16.1306 11.4101 16.1824 11.2829 16.143 11.1671L15.7748 10.0829C15.691 9.8361 15.9979 9.64542 16.1821 9.82973L16.9913 10.6398C17.0779 10.7264 17.2148 10.7363 17.3129 10.6631Z\"\n          fill=\"white\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_10177_54492\">\n          <rect\n            width=\"48\"\n            height=\"48\"\n            fill=\"white\"\n            transform=\"translate(0.25 0.000244141)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default JoinPromotionIcon;\n","import React from \"react\";\nimport { makeStyles, Theme, createStyles, Divider, useMediaQuery } from \"@material-ui/core\";\n\nimport { DialogCard } from \"../LearnMoreDialog\";\nimport BannerImage from \"../../assets/images/banner/deserve-rewards.png\";\nimport KnowYourRewardsImage from \"../../assets/images/merchant-rewards-card.png\";\nimport RedeemPointsImage from \"../../assets/images/redeem-reminder.png\";\nimport ShoppingIcon from \"../../assets/icons/ShoppingIcon\";\nimport ReviewIcon from \"../../assets/icons/ReviewIcon\";\nimport LootBoxIcon from \"../../assets/icons/LootboxIcon\";\nimport JoinPromotionIcon from \"../../assets/icons/JoinPromotionIcon\";\nimport { RewardsContentStyled } from \"../../styles/Common.style\";\nimport { If } from \"react-if\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .contentVisual\": {\n        width: \"100%\",\n\n        \"&.small\": {\n          margin: \"auto\",\n          width: \"auto\",\n          maxWidth: \"100%\",\n          display: \"flex\",\n\n          [theme.breakpoints.down(\"sm\")]: {\n            width: \"90%\",\n          },\n        },\n      },\n\n      \"& .stepsHeading\": {\n        color: theme.palette.info.light,\n        fontSize: 18,\n        fontWeight: 700,\n        margin: 0,\n        marginBottom: theme.spacing(3),\n\n        \"& span\": {\n          color: theme.palette.secondary.main,\n        },\n      },\n\n      \"& .contentDescription\": {\n        color: theme.palette.info.light,\n        fontSize: 14,\n        fontWeight: 500,\n        margin: 0,\n        marginBottom: theme.spacing(3),\n\n        \"& span\": {\n          color: theme.palette.secondary.main,\n        },\n      },\n    },\n  })\n);\n\nconst cardsList = [\n  {\n    heading: \"Make a Qualified Purchase\",\n    icon: <ShoppingIcon />,\n  },\n  {\n    heading: \"Post a Review\",\n    icon: <ReviewIcon />,\n  },\n  {\n    heading: \"Complete Lootbox Tasks\",\n    icon: <LootBoxIcon />,\n  },\n  {\n    heading: \"Join Promotion & Special Events\",\n    icon: <JoinPromotionIcon />,\n  },\n];\n\nconst RewardsInfoContent = () => {\n  const classes = useStyles();\n\n  const isTabletModeOnly = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.between(\"sm\", \"md\")\n  );\n\n  return (\n    <RewardsContentStyled className=\"multiColumn\">\n      <If condition={!isTabletModeOnly}>\n        <img src={BannerImage} className=\"dialogImage\" />\n      </If>\n      <div className=\"dialogContent\">\n        <p className=\"title\">One Market 101</p>\n        <h3 className=\"heading\">\n          Supporting Local <span className=\"orange\">Deserves Rewards!</span>\n        </h3>\n\n        <h4 className=\"subHeading\">Introducing One Market Points</h4>\n        <p className=\"description\">\n          Shop small with One Market and earn rewards points for your local\n          buys. Rack up the rewards points and treat yourself by redeeming\n          points on any item from a One Market partnered store.\n        </p>\n\n        <h4 className=\"contentHeading\">\n          <span>STEP 1</span> Earn Everytime You...\n        </h4>\n        <div className=\"featuresWrapper\">\n          {cardsList.map((data, index) => (\n            <DialogCard key={`card-${index}`} {...data} />\n          ))}\n        </div>\n\n        <div className={classes.root}>\n          <Divider sx={{ margin: `32px 0` }} />\n\n          <h3 className=\"stepsHeading\">\n            <span>STEP 2</span> Know Your Rewards!\n          </h3>\n          <img\n            className=\"contentVisual small\"\n            src={KnowYourRewardsImage}\n            alt=\"know-your-rewards\"\n          />\n\n          <p className=\"contentDescription\">\n            <span>“x% Reward Points”</span> means you get One Market Points that\n            equals to x% of your purchase value at this store.\n          </p>\n\n          <Divider sx={{ margin: `32px 0` }} />\n\n          <h3 className=\"stepsHeading\">\n            <span>STEP 3</span> Redeem!\n          </h3>\n          <img\n            className=\"contentVisual small\"\n            src={RedeemPointsImage}\n            alt=\"know-your-rewards\"\n          />\n        </div>\n      </div>\n    </RewardsContentStyled>\n  );\n};\n\nexport default RewardsInfoContent;\n","import React from \"react\";\nimport {\n  createStyles, makeStyles, Stack, styled, Theme, Typography,\n} from \"@material-ui/core\";\nimport classNames from \"classnames\";\nimport RewardsInfoContent from \"./common/RewardsInfoContent\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      \"&.drawerContent\": {\n        height: \"90vh\",\n        overflow: \"auto\",\n        [theme.breakpoints.up(\"sm\")]: {\n          height: \"75vh\",\n        },\n\n        \"& .multiColumn\": {\n          maxWidth: 1280,\n          width: \"100%\",\n          margin: \"auto\",\n        }\n      },\n\n      \"& .drawerContent\": {\n        padding: theme.spacing(3),\n\n        \"& .blockImg\": {\n          width: \"100%\",\n          objectFit: \"contain\",\n          height: 250,\n          objectPosition: \"left bottom\",\n        },\n      },\n    },\n  })\n);\n\nconst RewardsEducationInfo = ({ openOnDrawer } : { openOnDrawer?: boolean }) => {\n  const classes = useStyles();\n\n  const containerClassNames = classNames(classes.drawer, {\n    'drawerContent': openOnDrawer\n  });\n\n  return (\n    <div className={containerClassNames}>\n      <RewardsInfoContent />\n    </div>\n  );\n};\n\nexport default RewardsEducationInfo;\n","import React from 'react';\nimport RewardsEducationInfo from '../components/RewardsEducationInfo';\n\nconst HelpOneMarketPointsPage = (): React.ReactElement => {\n  return (\n    <RewardsEducationInfo />\n  )\n}\n\nexport default HelpOneMarketPointsPage","import React, { useContext, useEffect, useState } from 'react'\nimport { Alert } from '@material-ui/core';\nimport { If } from 'react-if';\nimport { Redirect, useHistory } from 'react-router';\n\n// src\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport { AppContext, CartType } from '../context/AppContext';\nimport { checkCartItemsAvailability } from '../components/Payment/utils';\nimport { Order, OrderType, OrderStatus } from '../services/models';\nimport { FullscreenPaper } from '../bos_common/src';\nimport { getAPIErrorMessage, isEmptyOrNil } from '../utils';\nimport createOrderService from '../services/createOrderService';\n\ntype PlaceOpenCheckOrderPageProps = any\n\nconst PlaceOpenCheckOrderPage = (props: PlaceOpenCheckOrderPageProps) => {\n  const history = useHistory()\n  const appContext = useContext(AppContext)\n  const { cart, merchantConfig, orderType, clearCart, setCartType } = appContext\n  const { user, token, refreshUser, authenticating } = useContext(UserContext);\n\n  const [processing, setProcessing] = useState(false)\n  const [error, setError] = useState<string>('')\n\n  const isDineInOrderType = orderType === OrderType.DINEIN\n\n  const onSuccessCreate = (order: Order) => {\n    clearCart()\n    setCartType(CartType.REGULAR)\n    history.push(`/open-check-order-status/${order.id}`)\n  }\n\n  const createOrderWithOpenCheck = async () => {\n    setProcessing(true)\n    if (checkCartItemsAvailability({ cart, merchantConfig })) {\n      setError(\"Some items in your cart are sold out\");\n      setProcessing(false);\n      return;\n    }\n\n    try {\n      const results = await createOrderService({\n        appContext,\n        name: user?.displayName,\n        user,\n        token,\n        orderStatus: OrderStatus.OPEN_CHECK\n      });\n\n      if (results.status === 200) {\n        const order = results.data\n        setError('')\n        setProcessing(false)\n\n        if (!isEmptyOrNil(user)) refreshUser()\n\n        onSuccessCreate(order)\n      } else {\n        setError(`Unable to process your order. Please try again later`);\n        setProcessing(false);\n      }\n    } catch (err) {\n      const message = getAPIErrorMessage(err) || `Unable to process your order. Please try again later`;\n      setError(message);\n      setProcessing(false);\n      console.log(err)\n    }\n  }\n\n  useEffect(() => {\n    if (isEmptyOrNil(cart)) {\n      setError('No items found in the Shopping Cart')\n    } else if (!isEmptyOrNil(user) && isDineInOrderType) {\n      createOrderWithOpenCheck()\n    }\n  }, [user, cart, isDineInOrderType])\n\n  if (!isDineInOrderType && !authenticating) {\n    return <Redirect to=\"/cart\" />\n  }\n\n  return (\n    <FullscreenPaper>\n      <SimpleLoader loading={processing || authenticating} />\n      <If condition={error}>\n        <Alert severity='warning'>{error}</Alert>\n      </If>\n    </FullscreenPaper>\n  )\n}\n\nexport default PlaceOpenCheckOrderPage\n\n","export default __webpack_public_path__ + \"static/media/sharing-happiness.b45e403d.svg\";","import React, { useContext, useEffect, useState } from 'react'\nimport { makeStyles, Theme, createStyles, Alert, CardContent, Typography, Box, Button, } from '@material-ui/core';\nimport { Else, If, Then } from 'react-if';\nimport { useHistory, useLocation, useParams } from 'react-router';\nimport { AddShoppingCart, Check } from '@material-ui/icons';\n\n// src\nimport PageHeader from '../components/common/PageHeader'\nimport { AppContext, CartType, MerchantCartConfig } from '../context/AppContext';\nimport { FullscreenPaper, pluralString } from '../bos_common/src';\nimport CloseButton from '../components/common/CloseButton';\nimport { MerchandiseApiResponseType, Merchant, MerchantQRCode, Order, OrderStatus, OrderType } from '../services/models';\nimport axios from '../bos_common/src/services/backendAxios';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport ConfirmationAlert from '../bos_common/src/components/ConfirmationAlert';\nimport { getItemsInOrder } from '../bos_common/src/services/orderUtils';\n\nimport SharingHappinessImage from '../assets/images/sharing-happiness.svg'\nimport CheckIcon from '../assets/icons/CheckIcon'\nimport { isEmptyOrNil, isDineInPaymentDisabled } from '../utils';\nimport { isOrderActive } from \"../bos_common/src/services/orderUtils\"\nimport RenderWaitTime from '../components/common/WaitTime';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: `${theme.palette.primary.main} !important`,\n      minHeight: '100vh',\n      flex: 'unset',\n\n      '& .content': {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        color: 'white',\n        padding: theme.spacing(2),\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n        flex: '1 1 auto',\n\n        '& .action-btn': {\n          backgroundColor: theme.palette.primary.dark,\n          borderRadius: 30\n        },\n\n        '& .wait-time': {\n          backgroundColor: theme.palette.primary.dark,\n          padding: theme.spacing(1),\n          margin: theme.spacing(2),\n          borderRadius: theme.spacing(1)\n        }\n      }\n    },\n  }),\n);\n\ninterface IOrderStatusPageParams {\n  orderId: string,\n}\n\nfunction OpenCheckOrderStatusPage() {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation<{ from: { pathname: string } }>();\n  const from = location.state?.from;\n\n  const { orderId } = useParams<IOrderStatusPageParams>();\n\n  const [loading, setLoading] = useState(true);\n  const [showAlert, setShowAlert] = useState(false);\n  const [order, setOrder] = useState<Order>();\n  const [error, setError] = useState<string>();\n  const [merchant, setMerchant] = useState<Merchant>();\n  const [merchantConfig, setMerchantConfig] = useState<MerchantCartConfig>();\n\n  const { setOrderType, setCartType, activeOrder, setActiveOrder } = useContext(AppContext);\n\n  const fetch = async () => {\n    setLoading(true)\n\n    try {\n      const orderResponse = await axios.get<Order>('/orders', { params: { id: orderId } })\n      const orderData = orderResponse.data\n      const merchantResponse = await axios.get<Merchant>('/merchants', { params: { id: orderData.merchantId } })\n      const merchantData = merchantResponse.data\n      const merchandisesResponse = await axios.get<MerchandiseApiResponseType>('/merchandises', { params: { merchantId: merchantData.id } })\n\n      setOrder(orderData);\n      setMerchant(merchantData);\n      setMerchantConfig({ merchant: merchantData, ...merchandisesResponse.data });\n      setLoading(false);\n\n    } catch (thrown: any) {\n      console.log(thrown.message)\n      setError(\"Sorry, we could not find your order.\");\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    fetch()\n  }, [])\n\n  // set Active order so that we can subscribe to those events in notification center\n  useEffect(() => {\n    if (order && isOrderActive(order) && order.id !== activeOrder?.id) {\n      setActiveOrder(order)\n    }\n  }, [order?.id])\n\n  // if order status has updated from notifications, fetch again\n  useEffect(() => {\n    if (order && order.id === activeOrder?.id && order.status !== activeOrder.status) {\n      fetch()\n    }\n  }, [activeOrder])\n\n  const tableQrCodeObject = merchant?.qrCodes?.find((i: MerchantQRCode) => `${i.id}` === `${order?.tableId}`)\n  const isOpenCheckOrder = order?.status === OrderStatus.OPEN_CHECK\n  const isOrderVoidedOrMarkAsPaid = order?.status === OrderStatus.PAID_EXTERNALLY || order?.status === OrderStatus.VOIDED;\n\n  const handleCheckClick = () => {\n    if (isEmptyOrNil(order) || isEmptyOrNil(tableQrCodeObject)) return\n    setOrderType(OrderType.DINEIN, tableQrCodeObject)\n    setCartType(CartType.FROM_OPEN_CHECK, merchantConfig, order);\n    history.push(\"/dine-in-cart\")\n  }\n\n  const handleAddMoreClick = () => {\n    if (isEmptyOrNil(order) || isEmptyOrNil(tableQrCodeObject)) return\n    setOrderType(OrderType.DINEIN, tableQrCodeObject)\n    setCartType(CartType.ADD_ITEMS_OPEN_CHECK, merchantConfig, order);\n    history.push(`/${merchant?.username}?tableid=${tableQrCodeObject?.id}`)\n  }\n\n  const onClose = () => {\n    if (from) {\n      setCartType(CartType.REGULAR);\n      history.goBack()\n    } else {\n      setCartType(CartType.REGULAR);\n      history.push(`/${merchant?.username}?tableid=${tableQrCodeObject?.id}`)\n    }\n  }\n\n  const totalQuantity = order ? getItemsInOrder(order, true) : 0;\n  const dineInPaymentDisabled = isDineInPaymentDisabled(merchantConfig?.merchant);\n\n  return (\n    <FullscreenPaper className={classes.root}>\n      <ConfirmationAlert\n        title={`Friendly reminder: you can find your open checks in \"Your Orders\" or scanning the table QR code again.`}\n        isOpen={showAlert}\n        onConfirm={onClose}\n        confirmLabel=\"Continue\">\n        {''}\n      </ConfirmationAlert>\n      <PageHeader\n        theme=\"dark\"\n        leftChild={<CloseButton color=\"white\" onClose={() => setShowAlert(true)} disabled={loading} />}\n        title={`Table: ${tableQrCodeObject?.identifier ?? \"\"} at ${merchant?.officialName ?? \"\"}`}\n      />\n      <SimpleLoader loading={loading} />\n      <Box className=\"content\">\n        <Box sx={{ textAlign: 'center' }}>\n          <img src={SharingHappinessImage} alt=\"sharing-happiness-image\" />\n\n          <If condition={order && totalQuantity === 0}>\n            <Then>\n              <Typography variant=\"h6\" component=\"div\" lineHeight=\"1.2\" color=\"red\">\n                This order has no items, all items have been cancelled\n              </Typography>\n            </Then>\n            <Else>\n              <If condition={isOpenCheckOrder}>\n                <Then>\n                  <>\n                    <Typography variant=\"h6\" component=\"div\" lineHeight=\"1.2\">\n                      {pluralString(totalQuantity, 'item')} {totalQuantity < 2 ? 'has' : 'have'} been sent to the kitchen!\n                    </Typography>\n                    <div className=\"wait-time\">\n                      <RenderWaitTime\n                        short\n                        order={order}\n                        typographyProps={{\n                          color: 'white',\n                          justifyContent: 'center'\n                        }}\n                      />\n                    </div>\n                    <If condition={dineInPaymentDisabled}>\n                      <Then>\n                        <Typography variant=\"subtitle1\" component=\"div\" gutterBottom lineHeight=\"1.2\" margin=\"16px\">\n                          Online payment is not supported at this store. Please checkout at the counter or ask for paper check.\n                        </Typography>\n                      </Then>\n                      <Else>\n                        <Typography variant=\"subtitle1\" component=\"div\" gutterBottom lineHeight=\"1.2\" margin=\"16px\">\n                          You can pay below after the meal or whenever you are ready.\n                        </Typography>\n                      </Else>\n                    </If>\n                  </>\n                </Then>\n              </If>\n            </Else>\n          </If>\n\n          <If condition={isOrderVoidedOrMarkAsPaid}>\n            <Typography variant=\"h6\" component=\"div\" lineHeight=\"1.2\" >\n              Merchant has confirmed your payment. Have a nice day!\n            </Typography>\n          </If>\n        </Box>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n          <If condition={isOpenCheckOrder}>\n            <>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                size=\"large\"\n                onClick={handleCheckClick}\n                disabled={isEmptyOrNil(order) || loading || totalQuantity <= 0}\n                className=\"action-btn\"\n              >\n                <CheckIcon viewBox=\"-3 -2 15 15\" />\n                &nbsp;\n                {dineInPaymentDisabled ? 'See check' : 'See check and pay'}\n              </Button>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                size=\"large\"\n                onClick={handleAddMoreClick}\n                disabled={isEmptyOrNil(order) || loading}\n                className=\"action-btn\"\n              >\n                <AddShoppingCart />&nbsp;Add Items\n              </Button>\n            </>\n          </If>\n          <If condition={isOrderVoidedOrMarkAsPaid}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              size=\"large\"\n              onClick={onClose}\n              disabled={isEmptyOrNil(order) || loading}\n              className=\"action-btn\"\n            >\n              <Check />&nbsp;Done\n            </Button>\n          </If>\n        </div>\n      </Box>\n      <If condition={error}>\n        <CardContent>\n          <Alert severity=\"warning\">{error}</Alert>\n        </CardContent>\n      </If>\n    </FullscreenPaper >\n  )\n}\n\nexport default OpenCheckOrderStatusPage\n","import { BaseIncrement } from \"./BaseIncrement\";\nimport { Merchandise } from \"./MerchandiseType\";\nimport { Merchant } from \"./MerchantType\";\nimport { Order } from \"./OrderTypes\";\nimport { User } from \"./UserTypes\";\n\nexport enum ReviewType {\n  MERCHANDISE = 'merchandise',\n  MERCHANT = 'merchant',\n}\n\nexport interface Rating {\n  taste: number;\n  portion: number;\n  value: number;\n  overall: number;\n}\n\nexport interface Review extends BaseIncrement {\n  order: Order;\n  merchant: Merchant;\n  merchandise: Merchandise;\n  user: User;\n  reviewType: ReviewType;\n  rating: Rating;\n  comment: string;\n}","import React, { useContext, useEffect } from 'react';\nimport {\n  Box,\n  IconButton,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { Else, If } from 'react-if';\nimport { path } from 'ramda';\n\nimport { ColoredPaper } from '../bos_common/src/components/Papers';\nimport { Merchant } from '../bos_common/src/types/MerchantType';\nimport PageHeader from '../components/common/PageHeader';\nimport { VisitedMerchantContext } from \"../context/VisitedMerchantContext/VisitedMerchantContext\";\nimport { isEmptyOrNil } from '../utils';\nimport { headerCustomStyle } from '../styles/Common.style';\nimport FloatingSectionsHeader from '../components/common/FloatingSectionsHeader';\nimport { AccessTimeFilled } from '@material-ui/icons';\nimport CountBox from '../components/common/CountBox';\nimport StoresListDetailed from '../components/Stores/StoresListDetailed';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      borderRadius: \"20px 20px 0px 0px !important\",\n      zIndex: 1,\n\n      '& .listCard': {\n        margin: theme.spacing(1),\n      },\n    },\n    navWrapper: {\n      ...headerCustomStyle(theme, theme.palette.primary.main),\n    },\n  })\n);\n\nconst VisitHistoryPage = (): React.ReactElement => {\n  const title = 'Visit History'\n  const classes = useStyles()\n  const { visitedMerchantList } = useContext(VisitedMerchantContext);\n  const [visitedMerchantsIn24Hrs, setVisitedMerchantsIn24Hrs] = React.useState<Merchant[]>([]);\n  const [visitedMerchants, setVisitedMerchants] = React.useState<Merchant[]>([]);\n  const visitedKeys = Object.keys(visitedMerchantList ?? {});\n\n  useEffect(() => {\n    const nowTime = (new Date()).getTime();\n    const dayMs = 24 * 60 * 60 * 1000;\n \n    if (!isEmptyOrNil(visitedKeys)) {\n      const merchantList: Merchant[] = (visitedKeys\n        .map((key: string) => visitedMerchantList && visitedMerchantList[key]?.merchant)\n        .filter((item: Merchant) => {\n          return item && visitedKeys.includes(item.id)\n        }) || [])\n        .sort((merchantA, merchantB)=>{\n          const getLastVisited = (id: string)=> path([id , 'lastVisitedAt'], visitedMerchantList);\n\n          const merchantALastVisited = getLastVisited(merchantA.id)?.getTime();\n          const merchantBLastVisited = getLastVisited(merchantB.id)?.getTime();\n\n          if(isEmptyOrNil(merchantALastVisited) || isEmptyOrNil(merchantBLastVisited)){\n            return 1;\n          }\n\n          return merchantBLastVisited - merchantALastVisited; \n        });\n\n      setVisitedMerchantsIn24Hrs(\n        merchantList\n          .filter((item: Merchant) => (visitedMerchantList && nowTime - visitedMerchantList[item.id]?.lastVisitedAt.getTime() <= dayMs))\n      );\n\n      setVisitedMerchants(\n        merchantList\n          .filter((item: Merchant) => (visitedMerchantList && nowTime - visitedMerchantList[item.id]?.lastVisitedAt.getTime() > dayMs))\n      );\n    }\n  }, [visitedMerchantList]);\n\n  const sectionsList = [\n    {\n      key: \"section-within-24\",\n      title: \"Within 24 hours\",\n      list: visitedMerchantsIn24Hrs\n    }, {\n      key: \"earlier\",\n      title: \"Earlier\",\n      list: visitedMerchants\n    }\n  ]\n\n  return (\n    <div className=\"container\">\n      <div className={classes.navWrapper}>\n        <PageHeader title={title} leftChild={<IconButton><AccessTimeFilled fontSize=\"large\" sx={{ width: \"20px\", height: \"20px\" }} /></IconButton>} />\n      </div>\n\n      <ColoredPaper className={classes.root} >\n        <If condition={isEmptyOrNil(visitedKeys)}>\n          <Box>\n            <Typography>You have not visited any merchant.</Typography>\n          </Box>\n        </If>\n        <Else>\n          <FloatingSectionsHeader sections={sectionsList} />\n          {\n            sectionsList.map((item) => (\n              <Box id={item.key} key={item.key} sx={{ padding: 1 }}>\n                <Typography variant=\"subtitle1\" style={{ textAlign: 'center', gap: \"10px\" }} mb=\"1rem\">\n                  {item.title} <CountBox count={item.list.length} />\n                </Typography>\n                <StoresListDetailed merchants={item.list} />\n              </Box>\n            ))\n          }\n        </Else>\n      </ColoredPaper>\n    </div>\n  );\n};\n\nexport default VisitHistoryPage;\n","import { Review } from \"../../../bos_common/src/types/ReviewType\";\nimport { RootState } from \"../../store\";\n\nexport const getReviewLoadingStatus = (state: RootState): boolean => state.review.loading;\n\nexport const getReviewUpdatingStatus = (state: RootState): boolean => Boolean(state.review.updating);\n\nexport const isEarnRewardsDrawerShown = (state: RootState): boolean => state.review.ui.earnRewardsShown;\n\nexport const getReviewsByOrder = (state: RootState) => (orderId: string): Review[] => {\n  const { entities } = state.review;\n  return entities.byOrder[orderId] \n    ? entities.byOrder[orderId].map((id: number) => entities.byId[id])\n    : [];\n}\n","import { LineItem, Order } from \"../../../bos_common/src/types/OrderTypes\";\nimport { RootState } from \"../../store\";\n\nexport const getOrder = (state: RootState) => (id: string): Order => {\n  const { entities } = state.order;\n  return entities.byId[id];\n}\n\nexport const getLineItem = (state: RootState) => (orderId: string, merchandiseId: string): LineItem | undefined => {\n  const { entities } = state.order;\n  return entities.byId[orderId]?.lineItems.find((item) => item.id === merchandiseId);\n}\n","import { Merchant } from \"../../../services/models\";\nimport { RootState } from \"../../store\";\n\nexport const getMerchants = (state: RootState): Merchant[] => {\n  const { entities } = state.merchant;\n  return entities.ids.map((id) => entities.byId[id]);\n}\n\nexport const getMerchantLoadingState = (state: RootState): boolean => {\n  return state.merchant.loading || false\n}\n\nexport const getMerchant = (state: RootState) => (id: string): Merchant => {\n  return state.merchant.entities.byId[id];\n}\n\nexport const getFilteredMerchants = (state: RootState): Merchant[] => {\n  const { entities, currentSearchQuery } = state.merchant;\n  return entities.byNameSearchParams && entities.byNameSearchParams[currentSearchQuery]\n    ? entities.byNameSearchParams[currentSearchQuery].map((id: string) => entities.byId[id])\n    : entities.ids.map((id: string) => entities.byId[id]);\n}\n\nexport const getShowRewardsEducationDrawer = (state: RootState): boolean => {\n  return state.merchant.showRewardsEducationDrawer || false\n}\n","import React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { If } from 'react-if';\nimport { isEmptyOrNil } from '../../utils';\n\nexport interface ReviewFABProps {\n  onNext: () => void;\n  onBack?: () => void;\n  disableNext?: boolean;\n  lastItem?: boolean,\n}\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n\n    '& .reviewFab': {\n      '&:first-child': {\n        marginRight: '10px'\n      }\n    },\n  }\n}));\n\nexport const ReviewFAB = (props: Readonly<ReviewFABProps>): JSX.Element => {\n  const classes = useStyles();\n  const { onNext, onBack, disableNext, lastItem } = props;\n\n  const handleClickNext = () => {\n    onNext();\n  }\n\n  const handleClickBack = () => {\n    if (onBack) {\n      onBack();\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <If condition={!isEmptyOrNil(onBack)}>\n        <Fab\n          variant=\"extended\"\n          color=\"secondary\"\n          className='reviewFab'\n          sx={{ backgroundColor: '#FFF', color: '#E34D28' }}\n          onClick={handleClickBack}\n        >\n          <ArrowBack sx={{ mr: 1 }} />\n          Back\n        </Fab>\n      </If>\n      <Fab\n        variant=\"extended\"\n        color=\"primary\"\n        className='reviewFab'\n        disabled={disableNext}\n        onClick={handleClickNext}\n      >\n        <If condition={!lastItem}>\n          <ArrowForward sx={{ mr: 1 }} />\n        </If>\n        {lastItem ? 'Done' : 'Next'}\n      </Fab>\n    </div>\n  );\n}\n\nexport default ReviewFAB;\n","import React from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\n\nimport { FullscreenPaper } from '../bos_common/src/components';\nimport { Merchandise } from '../bos_common/src/types/MerchandiseType';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\n\nimport { fetchOrderDetail } from '../redux/slice/order/orderAction';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { fetchReviewsForOrder } from '../redux/slice/review/reviewAction';\nimport { getToken } from '../redux/slice/auth/authSelector';\nimport { getReviewLoadingStatus, getReviewsByOrder } from '../redux/slice/review/reviewSelector';\nimport { getOrder } from '../redux/slice/order/orderSelector';\nimport { fetchMerchant } from '../redux/slice/merchant/action';\nimport { getMerchant } from '../redux/slice/merchant/merchantSelector';\n\nimport PageHeader from '../components/common/PageHeader';\nimport BackButton from '../components/common/BackButton';\nimport ReviewFAB from '../components/Review/ReviewFAB';\nimport { pathOr } from 'ramda';\nimport { lineItemWithoutCarryoutBag } from '../utils';\n\nexport const ReviewPage = (): JSX.Element => {\n  const [value, setValue] = React.useState<string>('');\n  const history = useHistory();\n  const location = useLocation<{ from: { pathname: string } }>();\n  const match = useRouteMatch();\n  const orderId = match.params['orderId'];\n\n  const reduxDispatch = useAppDispatch();\n  const token = useAppSelector(getToken);\n  const order = useAppSelector(getOrder)(orderId);\n  const reviews = useAppSelector(getReviewsByOrder)(orderId);\n  const loading = useAppSelector(getReviewLoadingStatus);\n  const merchant = useAppSelector(getMerchant)(order?.merchantId);\n\n  React.useEffect(() => {\n    if (!order) return\n    const lineItems = order.lineItems.filter((item) => lineItemWithoutCarryoutBag(item, merchant))\n    if (lineItems.length === 1) {\n      const lineItem = lineItems[0]\n      setValue(lineItem.id)\n    }\n  }, [order])\n\n  React.useEffect(() => {\n    if (orderId && token) {\n      reduxDispatch(fetchOrderDetail(orderId));\n      reduxDispatch(fetchReviewsForOrder(orderId));\n    }\n  }, [token]);\n\n  React.useEffect(() => {\n    if (order && token) {\n      reduxDispatch(fetchMerchant({ id: order.merchantId }));\n    }\n  }, [order?.merchantId, token]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n  }\n\n  const handleReviewNext = () => {\n    const orderId = match.params['orderId'];\n    history.push({\n      pathname: `/order/${orderId}/merchandise/${value}/reviews`,\n      state: location.state,\n    });\n  }\n\n  const handleBack = () => {\n    location.state?.from\n      ? history.goBack()\n      : history.push(`/`);\n  }\n\n  const reviewedLineItemIds = React.useMemo(() => {\n    return reviews\n      ? reviews.map((item) => (item.merchandise as Merchandise)?.id)\n      : [];\n  }, [reviews]);\n\n  const renderLineItemOptions = (): JSX.Element => {\n    const lineItems: JSX.Element[] = [];\n\n    if (!order || !order.lineItems || !merchant) {\n      return <Typography p=\"1rem\">Loading items...</Typography>\n    }\n\n    order.lineItems\n      .filter((item) => item.id !== pathOr('', ['orderingConfig', 'carryoutBag', 'id'], merchant))\n      .forEach((item) => {\n        lineItems.push(\n          <FormControlLabel\n            key={`opt_${item.id}`}\n            value={item.id}\n            control={<Radio color='primary' />}\n            label={item.name}\n            style={{ borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\", padding: '1rem', marginLeft: 0, marginRight: 0, }}\n            disabled={reviewedLineItemIds.includes(item.id)}\n          />\n        )\n      });\n\n    return (\n      <RadioGroup\n        aria-label=\"gender\"\n        name=\"controlled-radio-buttons-group\"\n        value={value}\n        onChange={handleChange}\n      >\n        {lineItems}\n      </RadioGroup>\n    );\n  }\n\n  // NOTE: Use some inline styles, because makeStyles break the FAB, cause unknown.\n  return (\n    <div className=\"container\">\n      <PageHeader\n        title=\"Review\"\n        leftChild={<BackButton onBack={handleBack} />}\n      />\n      <SimpleLoader loading={loading} />\n      <FullscreenPaper>\n        <CardContent>\n          <Typography variant=\"h6\" gutterBottom>\n            We would like to hear your thoughts on your order from {merchant?.officialName}\n          </Typography>\n\n          <Paper elevation={2} style={{ marginBottom: '1rem' }}>\n            <FormLabel component=\"legend\" style={{ border: \"1px solid rgba(0, 0, 0, 0.1)\", padding: '1rem' }}>\n              Choose the item you want to review.\n            </FormLabel>\n            {renderLineItemOptions()}\n          </Paper>\n          <ReviewFAB onNext={handleReviewNext} disableNext={Boolean(!value)} />\n        </CardContent>\n      </FullscreenPaper>\n    </div>\n  );\n}\n\nexport default ReviewPage;\n","import React from 'react';\nimport Star from \"@material-ui/icons/Star\";\n\nexport interface StarReviewProps {\n  value: number;\n  onChangeRating: (value: number) => void\n}\n\nconst getColor = (value: number): string => {\n  if (value > 4) {\n    return '#E34D28';\n  }\n  else if (value > 2) {\n    return '#F7CB2E';\n  }\n  else if (value > 0) {\n    return '#9CA5A8';\n  }\n  else {\n    return 'rgba(229, 229, 229, 0.75)';\n  }\n}\n\nexport const StarReview = (props: Readonly<StarReviewProps>): JSX.Element => {\n  const { value, onChangeRating } = props;\n  const color = getColor(value);\n\n  const handleClickRate = (value: number) => {\n    onChangeRating(value);\n  }\n\n  return (\n    <div style={{ display: 'inline-flex', flexDirection: 'row', marginLeft: 'auto' }}>\n      {[1, 2, 3, 4, 5].map(starValue =>\n        <Star\n          key={starValue}\n          onClick={() => handleClickRate(starValue)}\n          style={{ color: value >= starValue ? color : 'rgba(229, 229, 229, 0.75)' }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default StarReview;\n","import FormLabel from '@material-ui/core/FormLabel';\nimport React from 'react';\nimport StarReview from '../common/StarReview';\n\ninterface RatingFieldProps {\n  onChangeRating: (fieldName: string, value: number) => void;\n  fieldName: string;\n  value: number;\n  label: string;\n}\n\nexport const RatingField = (props: Readonly<RatingFieldProps>): JSX.Element => {\n  const { fieldName, onChangeRating, label } = props;\n  const value = props.value || 0;\n\n  return (\n    <FormLabel component=\"legend\" style={{ border: \"1px solid rgba(0, 0, 0, 0.1)\", padding: '1rem', display: 'flex', }}>\n      <span style={{ textTransform: 'capitalize' }}>{label}</span>\n      <StarReview onChangeRating={(value: number) => onChangeRating(fieldName, value)} value={value} />\n    </FormLabel>\n  );\n}\n\nexport default RatingField;\n","import React from 'react';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport { Alert, Typography, Paper, TextField, FormLabel, CardContent, Button, makeStyles, createStyles } from '@material-ui/core';\nimport { If } from 'react-if';\nimport { pathOr } from 'ramda';\n\nimport ReviewEarnRewards from '../assets/images/congratulations-rewards.svg';\n\nimport { FullscreenPaper } from '../bos_common/src';\nimport { Rating, Review, ReviewType } from '../bos_common/src/types/ReviewType';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\n\nimport { getToken } from '../redux/slice/auth/authSelector';\nimport { fetchOrderDetail } from '../redux/slice/order/orderAction';\nimport { getOrder } from '../redux/slice/order/orderSelector';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { createReview, hideEarnRewardsDrawerUI, showEarnRewardsDrawerUI } from '../redux/slice/review/reviewAction';\nimport { getReviewLoadingStatus, getReviewsByOrder, getReviewUpdatingStatus, isEarnRewardsDrawerShown } from '../redux/slice/review/reviewSelector';\n\nimport PageHeader from '../components/common/PageHeader';\nimport BackButton from '../components/common/BackButton';\nimport ReviewFAB from '../components/Review/ReviewFAB';\nimport RatingField from '../components/Review/RatingField';\nimport { isEmptyOrNil, lineItemWithoutCarryoutBag, pluralString } from '../utils';\nimport { getMerchant } from '../redux/slice/merchant/merchantSelector';\nimport BottomDrawer from '../bos_common/src/components/BottomDrawer';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    drawerContent: {\n      maxWidth: `400px`,\n      textAlign: 'center',\n      margin: '0 auto',\n    }\n  })\n)\n\nexport const ReviewMerchandisePage = (): JSX.Element => {\n  const classes = useStyles()\n  const history = useHistory();\n  const location = useLocation<{ from: { pathname: string } }>();\n  const match = useRouteMatch();\n  const orderId = match.params['orderId'];\n  const merchandiseId = match.params['merchandiseId'];\n\n  const reduxDispatch = useAppDispatch();\n  const token = useAppSelector(getToken);\n  const loading = useAppSelector(getReviewLoadingStatus);\n  const updating = useAppSelector(getReviewUpdatingStatus);\n  const order = useAppSelector(getOrder)(orderId);\n  const reviews = useAppSelector(getReviewsByOrder)(order?.id);\n  const merchant = useAppSelector(getMerchant)(order?.merchantId);\n  const earnRewardsDrawerShown: boolean = useAppSelector(isEarnRewardsDrawerShown);\n\n  const lastItemToReview = order && order.lineItems.filter((item) => lineItemWithoutCarryoutBag(item, merchant)).length - 1 === reviews.length;\n\n  const [rating, setRating] = React.useState<Rating>({\n    taste: 0,\n    portion: 0,\n    value: 0,\n    overall: 0,\n  });\n  const [comment, setComment] = React.useState<string>('');\n  const [errorMessage, setErrorMessage] = React.useState<string>('');\n\n  const lineItem = React.useMemo(() => {\n    return order?.lineItems.find((item) => item.id === merchandiseId);\n  }, [order]);\n\n  React.useEffect(() => {\n    if (token) {\n      reduxDispatch(fetchOrderDetail(orderId));\n    }\n  }, [token]);\n\n  const handleChangeRating = (ratingField: string, value: number) => {\n    setRating({\n      ...rating,\n      [ratingField]: value,\n    });\n  }\n\n  const handleBack = () => {\n    location.state?.from\n      ? history.goBack()\n      : history.push(`/order/${orderId}/reviews`);\n  }\n\n  const handleReviewNext = () => {\n    try {\n      validate();\n      const newReview: Partial<Review> = {\n        order: orderId,\n        merchandise: merchandiseId,\n        merchant: order.merchantId as any, // For TypeORM compatibility, should find better way for this.\n        rating,\n        comment,\n        reviewType: ReviewType.MERCHANDISE,\n      };\n\n      reduxDispatch(createReview(newReview))\n        .then(() => {\n          if (lastItemToReview) {\n            reduxDispatch(showEarnRewardsDrawerUI());\n          } else {\n            history.push({\n              pathname: `/order/${orderId}/reviews`,\n              state: location.state,\n            });\n          }\n        });\n    } catch (exception) {\n      const { message } = (exception as Error);\n      setErrorMessage(message);\n      setTimeout(() => {\n        setErrorMessage('');\n      }, 3000);\n    }\n  }\n\n  const handleClickConfirm = () => {\n    reduxDispatch(hideEarnRewardsDrawerUI());\n    location.state?.from\n      ? history.push(location.state?.from)\n      : history.push(\"/\");\n  }\n\n  const validate = () => {\n    const commentWordsCount = comment.trim().split(' ').length;\n\n    if (rating.overall === 0\n      || rating.portion === 0\n      || rating.taste === 0\n      || rating.value === 0) {\n      throw new Error(\"Please provide a rating for all categories\");\n    }\n\n    if (commentWordsCount < 10) {\n      throw new Error(\"Please write at least 10 words in your comment\");\n    }\n\n    if (commentWordsCount > 500) {\n      throw new Error(\"Please restrict your comment to 500 words\");\n    }\n  }\n\n  const CommentWordCount = () => {\n    let remainderWordCount = 0\n\n    if (isEmptyOrNil(comment)) {\n      remainderWordCount = 10\n    } else {\n      const diff = 10 - comment.trim().split(' ').length;\n      remainderWordCount = diff <= 0 ? 0 : diff\n    }\n\n    return (\n      <div style={{ display: 'flex', alignItems: \"center\", justifyContent: 'flex-end' }}>\n        <Typography variant='subtitle2' component='div' style={{ color: 'rgba(0, 0, 0, 0.6)' }}>\n          {pluralString(remainderWordCount, 'word')} remaining\n        </Typography>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"container\">\n      <PageHeader\n        title=\"Review\"\n        leftChild={<BackButton onBack={handleBack} />}\n      />\n      <SimpleLoader loading={loading || updating} />\n      <If condition={errorMessage}>\n        <CardContent>\n          <Alert severity=\"error\" style={{ position: 'fixed', top: '4rem' }}>{errorMessage}</Alert>\n        </CardContent>\n      </If>\n\n      <FullscreenPaper>\n        <CardContent>\n          <Typography variant=\"h6\" gutterBottom>\n            How did you like {lineItem?.name}?\n          </Typography>\n\n          <Paper elevation={2} style={{ marginBottom: '1rem' }}>\n            <RatingField label='Taste' fieldName='taste' value={rating.taste} onChangeRating={handleChangeRating} />\n            <RatingField label='Portion size' fieldName='portion' value={rating.portion} onChangeRating={handleChangeRating} />\n            <RatingField label='Value for money' fieldName='value' value={rating.value} onChangeRating={handleChangeRating} />\n            <RatingField label='Overall Experience' fieldName='overall' value={rating.overall} onChangeRating={handleChangeRating} />\n          </Paper>\n\n          <Paper elevation={2} style={{ marginBottom: '1rem' }}>\n            <FormLabel component=\"legend\" style={{ padding: '1rem' }}>\n              <Typography variant=\"subtitle1\">Comment</Typography>\n            </FormLabel>\n            <TextField\n              id=\"outlined-basic\"\n              variant=\"outlined\"\n              multiline\n              rows={3}\n              style={{ width: '100%' }}\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n              placeholder='Express your opinion in at least 10 words'\n            />\n            <CommentWordCount />\n          </Paper>\n\n          <ReviewFAB onNext={handleReviewNext} onBack={handleBack} lastItem={lastItemToReview} />\n        </CardContent>\n\n      </FullscreenPaper>\n      <BottomDrawer\n        open={earnRewardsDrawerShown}\n        setOpen={() => reduxDispatch(showEarnRewardsDrawerUI())}\n        onClose={handleClickConfirm}\n        title={''}>\n        <CardContent className={classes.drawerContent}>\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <img src={ReviewEarnRewards} alt=\"Earn rewards\" style={{ height: '250px', width: '200px', marginBottom: '1rem' }} />\n            <Typography variant=\"h6\" textAlign={\"center\"} lineHeight={1.5} gutterBottom>\n              Congratulations! You&apos;ve made your review.\n            </Typography>\n            <Button variant=\"contained\" color=\"primary\" fullWidth style={{ marginTop: '1rem' }} onClick={handleClickConfirm}>Done</Button>\n          </div>\n        </CardContent>\n      </BottomDrawer>\n    </div>\n  );\n}\n\nexport default ReviewMerchandisePage;\n","import React, { useContext, useEffect, useRef, useState } from \"react\"\nimport { UserContext } from \"../bos_common/src/context/UserContext\"\nimport { AuthResultData, loginWithAuth0Token } from \"../bos_common/src/services/auth0\"\nimport { isEmbeddedMode } from \"../utils\"\n\n\nconst NativeAuthHandler = () => {\n  if (!isEmbeddedMode()) {\n    return null\n  }\n\n  const [authResponseJson, setAuthResponse] = useState<string>(\"\")\n  const authResponseRef = useRef<HTMLInputElement>(null)\n  const { authenticating, setAuthenticating, setLoginState } = useContext(UserContext)\n\n  useEffect(() => {\n    if (authenticating) {\n      const timer = setInterval(() => {\n        if (authResponseRef?.current?.value && authResponseRef?.current.value != \"\") {\n          clearInterval(timer)\n          setAuthResponse(authResponseRef?.current?.value)\n        }\n      }, 500);\n    }\n\n  }, [authenticating])\n\n  useEffect(() => {\n    if (authResponseJson) {\n      try {\n        const { idToken, cancelled } = JSON.parse(authResponseJson);\n        setAuthResponse('');\n        if (cancelled) {\n          setAuthenticating(false);\n        } else {\n          loginWithAuth0Token(idToken).then((data: AuthResultData|undefined) => {\n            setLoginState(data?.user, data?.token)\n            setAuthResponse('');\n            setAuthenticating(false);\n          }).catch((err) => {\n            setAuthenticating(false);\n          })\n        }\n      } catch (err) {\n        console.log(err, 'NativeAuthResponseError')\n      }\n    }\n  }, [authResponseJson])\n\n  return (\n    <>\n      <input type=\"hidden\" id=\"auth_response\" value={authResponseJson} ref={authResponseRef} />\n    </>\n  )\n}\n\nexport default NativeAuthHandler;","import { SetStateAction } from \"react\";\nimport { getStoredAppContextState, removeAppContextStateStorage, storeAppContextState } from \"../services/localStorage\";\nimport { OrderType, MerchandiseModifiersType, MerchantCoupon, Merchant, MerchandiseApiResponseType, MerchantQRCode, Order, Merchandise, LineItem } from \"../services/models\";\nimport { AppContextStateType, CartItemType, CartType, defaultTipData, MerchantCartConfig, RemoveItemFromCartParams } from \"./AppContext\";\nimport { isEmptyOrNil, simpleStringHash } from \"../utils\";\nimport { TipData } from \"../bos_common/src/types/MerchantOrderingConfigType\";\nimport { isCouponValid } from \"../bos_common/src/services/CouponUtils\";\nimport { pick } from \"ramda\";\n\nexport const ADD_MERCHANDISE = \"ADD_MERCHANDISE\";\nexport const REMOVE_MERCHANDISE = \"REMOVE_MERCHANDISE\";\nexport const CLEAR_CART = \"CLEAR_CART\";\nexport const REINSTALL_APP_STATE = \"REINSTALL_APP_STATE\";\nexport const UPDATE_TIP_SELECTION = \"UPDATE_TIP_SELECTION\";\nexport const UPDATE_COUPON = \"UPDATE_COUPON\";\nexport const REDEEM_MERCHANDISE = \"REDEEM_MERCHANDISE\";\nexport const CANCEL_REDEMPTION = \"CANCEL_REDEMPTION\";\nexport const UPDATE_MERCHANDISE = \"UPDATE_MERCHANDISE\";\nexport const UPDATE_PICKUPTIME = \"UPDATE_PICKUPTIME\";\nexport const UPDATE_ORDER_TYPE = \"UPDATE_ORDER_TYPE\";\nexport const UPDATE_CART_TYPE = \"UPDATE_CART_TYPE\";\n\nconst getModifiersId = (modifiers: MerchandiseModifiersType | undefined, note: string | undefined) => {\n  return (modifiers || note) ? simpleStringHash(`${JSON.stringify(modifiers)}${note}`) : undefined\n}\n\nconst addItemToCart = (\n  item: CartItemType,\n  merchant: Merchant,\n  state: AppContextStateType) => {\n  const updatedCart = [...state.cart];\n  if (!item.modifiersSignature) {\n    item.modifiersSignature = getModifiersId(item.modifiers, item.note)\n  }\n  const updatedItemIndex = updatedCart.findIndex(\n    _item => (_item.id === item.id && _item.modifiersSignature === item.modifiersSignature)\n  );\n\n  if (updatedItemIndex < 0) {\n    updatedCart.push(item);\n  } else {\n    const updatedItem = {\n      ...updatedCart[updatedItemIndex],\n    };\n    updatedItem.quantity += item.quantity;\n    updatedCart[updatedItemIndex] = updatedItem;\n  }\n\n  const merchantConfig = state.merchantConfig?.merchant\n    ? state.merchantConfig\n    : {\n      ...state.merchantConfig,\n      merchant,\n      merchandises: state.merchantConfig?.merchandises || [],\n      modiTemplates: state.merchantConfig?.modiTemplates || [],\n      modiCategories: state.merchantConfig?.modiCategories || [],\n      modifiers: state.merchantConfig?.modifiers || [],\n      mercCategories: state.merchantConfig?.mercCategories || [],\n    }\n\n  const newState = { ...state, cart: updatedCart, merchantConfig };\n  storeAppContextState(newState) // switch to use effect later\n  return newState;\n};\n\ninterface RemoveItemFromCart extends RemoveItemFromCartParams {\n  state: AppContextStateType\n}\n\nconst removeItemFromCart = (params: RemoveItemFromCart) => {\n  const {\n    merchandiseId,\n    modifiersSignature,\n    clearThisItemFromCart = false,\n    state\n  } = params\n\n  const updatedCart = [...state.cart];\n  const updatedItemIndex = updatedCart.findIndex(item => (item.id === merchandiseId && item.modifiersSignature === modifiersSignature));\n\n  const updatedItem = {\n    ...updatedCart[updatedItemIndex]\n  };\n\n  if (clearThisItemFromCart) updatedItem.quantity = 0\n  else updatedItem.quantity--;\n\n  // make sure the redeemed quantity is never higher than the actual quantity\n  if (updatedItem.quantityRedeemed && updatedItem.quantityRedeemed > 0 && updatedItem.quantityRedeemed > updatedItem.quantity) {\n    updatedItem.quantityRedeemed = updatedItem.quantity;\n  }\n\n  if (updatedItem.quantity <= 0) {\n    updatedCart.splice(updatedItemIndex, 1);\n  } else {\n    updatedCart[updatedItemIndex] = updatedItem;\n  }\n\n  const newState = { ...state, cart: updatedCart };\n  if (updatedCart.length === 0) {\n    return clearCart(newState)\n  } else {\n    storeAppContextState(newState)\n    return newState;\n  }\n};\n\nconst clearCart = (state: AppContextStateType) => {\n  if (state.cartType === CartType.REGULAR) {\n    removeAppContextStateStorage()\n  }\n  return {\n    ...state,\n    cart: [],\n    merchantConfig: undefined,\n    tip: defaultTipData,\n    pickupTime: undefined,\n    coupon: undefined,\n  };\n}\n\nconst reinstallAppState = (storedState: Partial<AppContextStateType>, state: AppContextStateType) => {\n  return { ...state, ...storedState }\n}\n\nconst updateTipSelection = (tip: Partial<TipData>, state: AppContextStateType) => {\n  const newState = { ...state, tip }\n  storeAppContextState(newState) // switch to use effect later\n  return newState\n}\n\nconst redeemMerchandise = (items: CartItemType[], state: AppContextStateType) => {\n\n  let hasChanged = false;\n  const updatedCart = state.cart.map((cartItem) => {\n    const updatedItemIndex = items.findIndex(item => (item.id === cartItem.id && item.modifiersSignature === cartItem.modifiersSignature));\n    if (updatedItemIndex > -1) {\n      const redeemedItem = items[updatedItemIndex];\n      const updatedItem = {\n        ...cartItem\n      };\n      if (updatedItem.quantityRedeemed !== redeemedItem.quantityRedeemed) {\n        hasChanged = true\n      }\n      updatedItem.quantityRedeemed = redeemedItem.quantityRedeemed;\n      return updatedItem;\n    } else {\n      return cartItem;\n    }\n  })\n\n  if (!hasChanged) {\n    return state;\n  }\n\n  const newState = { ...state, cart: updatedCart };\n  storeAppContextState(newState)\n  return newState;\n}\n\nconst cancelRedemption = (state: AppContextStateType) => {\n  const hasRedemption = state.cart.reduce((acc, item) => acc + (item?.quantityRedeemed || 0), 0);\n  if (hasRedemption === 0) {\n    return state;\n  }\n\n  const updatedCart = state.cart.map((item, index) => {\n    if (item.quantityRedeemed) {\n      return { ...item, quantityRedeemed: 0 };\n    } else {\n      return item;\n    }\n  })\n\n  const newState = { ...state, cart: updatedCart };\n  storeAppContextState(newState) // switch to use effect later\n  return newState\n}\n\nconst updateCoupon = (coupon: MerchantCoupon | undefined, state: AppContextStateType) => {\n  const newCoupon = isCouponValid(coupon) ? coupon : undefined;\n  if (state.coupon === newCoupon) {\n    return state;\n  }\n\n  const newState = { ...state, coupon: newCoupon };\n  return newState;\n}\n\nconst updatePickupTime = (pickupTime: Date | undefined, state: AppContextStateType) => {\n  if (!isEmptyOrNil(pickupTime) && pickupTime?.getTime() === state.pickupTime?.getTime()) {\n    return state;\n  }\n  const newState = { ...state, pickupTime };\n  return newState;\n}\n\nconst updateOrderType = (orderType: OrderType, tableQrCodeObject: MerchantQRCode | undefined, state: AppContextStateType) => {\n  const newState = { ...state, orderType, tableQrCodeObject };\n  storeAppContextState(newState) // switch to use effect later\n  return newState;\n}\n\nconst _convertOrderLineItemsToCartItems = (\n  order: Order | undefined,\n  merchandises: Merchandise[] | undefined\n): CartItemType[] => {\n  if (!order || !merchandises) return []\n\n  const cartItems: CartItemType[] = order.lineItems.reduce((acc: any, item: LineItem) => {\n    const selectedMerch = merchandises.find((i: Merchandise) => i.id === item.id)\n    if (!selectedMerch || item.refunded) return acc;\n\n    const cartItem = {\n      ...selectedMerch,\n      ...(item.customizationSignature && {\n        modifiersSignature: item.customizationSignature,\n        modifiersDisplayOrder: item.customizationDisplayOrder,\n        modifiers: item.customization,\n      }),\n      price: item.price,\n      quantity: item.quantity,\n    }\n    return [...acc, cartItem]\n  }, [])\n\n  return cartItems;\n}\n\nconst updateCartType = (cartType: CartType, merchantConfig: MerchantCartConfig | undefined, openCheckOrder: Order | undefined, state: AppContextStateType) => {\n  const newState = {\n    ...state,\n    cartType,\n    openCheckOrder\n  }\n  if (cartType === CartType.REGULAR) {\n    if (state.cartType === cartType) {\n      return state;\n    }\n    const storedState = getStoredAppContextState(newState)\n    if (storedState) {\n      return { ...newState, ...storedState };\n    }\n  } else if (cartType === CartType.FROM_OPEN_CHECK && openCheckOrder && merchantConfig) {\n    if (state.cartType === cartType && state.openCheckOrder === openCheckOrder) {\n      return state;\n    }\n    return {\n      ...newState,\n      openCheckOrder,\n      merchantConfig,\n      cart: _convertOrderLineItemsToCartItems(openCheckOrder, merchantConfig?.merchandises)\n    };\n  } else if (cartType === CartType.ADD_ITEMS_OPEN_CHECK && openCheckOrder && merchantConfig) {\n    return {\n      ...newState,\n      merchantConfig,\n      openCheckOrder,\n      cart: [],\n    }\n  }\n\n  return newState;\n}\n\nconst updateMerchandise = (mercData: MerchandiseApiResponseType, state: AppContextStateType) => {\n  if (state.merchantConfig) {\n    // update of inventory/price of cart items selected\n    const updatedCart = state.cart.map((item) => {\n      const selectedMerchandise = mercData.merchandises.find(i => i.id === item.id) || []\n      return {\n        ...item,\n        ...(pick(['inventory', 'available', 'pointsToRedeem'], selectedMerchandise))\n      }\n    })\n    const newState = {\n      ...state,\n      cart: updatedCart,\n      merchantConfig: {\n        ...state.merchantConfig,\n        ...mercData,\n      }\n    }\n    storeAppContextState(newState);\n    return newState;\n  }\n  return state;\n}\n\nexport const mercReducer = (state: any, action: SetStateAction<any>) => {\n  switch (action.type) {\n    case ADD_MERCHANDISE:\n      return addItemToCart(action.item, action.merchant, state);\n    case REMOVE_MERCHANDISE:\n      return removeItemFromCart({\n        ...action,\n        state\n      });\n    case CLEAR_CART:\n      return clearCart(state);\n    case REINSTALL_APP_STATE:\n      return reinstallAppState(action.storedState, state);\n    case UPDATE_TIP_SELECTION:\n      return updateTipSelection(action.tip, state);\n    case REDEEM_MERCHANDISE:\n      return redeemMerchandise(action.items, state);\n    case CANCEL_REDEMPTION:\n      return cancelRedemption(state);\n    case UPDATE_COUPON:\n      return updateCoupon(action.coupon, state);\n    case UPDATE_MERCHANDISE:\n      return updateMerchandise(action.mercData, state);\n    case UPDATE_PICKUPTIME:\n      return updatePickupTime(action.pickupTime, state);\n    case UPDATE_ORDER_TYPE:\n      return updateOrderType(action.orderType, action.tableQrCodeObject, state);\n    case UPDATE_CART_TYPE:\n      return updateCartType(action.cartType, action.merchantConfig, action.openCheckOrder, state);\n    default:\n      return state;\n  }\n};\n","import React, { useCallback, useContext, useEffect, useMemo, useReducer, useRef, useState } from \"react\";\nimport useAxios from \"axios-hooks\";\nimport { debounce } from \"debounce\";\n\nimport axios from \"../bos_common/src/services/backendAxios\";\nimport ConfirmationAlert from \"../bos_common/src/components/ConfirmationAlert\";\n\nimport { FeatureFlags, MerchandiseApiResponseType, Order, OrderType, MerchantCoupon, Merchant, MerchantQRCode, OrderPickupType } from \"../services/models\";\nimport { TipData, defaultTipData, AppContext, CartItemType, RemoveItemFromCartParams, CartType, MerchantCartConfig, SwitchMerchantAlert } from \"./AppContext\";\nimport {\n  mercReducer, ADD_MERCHANDISE, REMOVE_MERCHANDISE, CLEAR_CART, UPDATE_TIP_SELECTION,\n  CANCEL_REDEMPTION, REDEEM_MERCHANDISE, UPDATE_MERCHANDISE, UPDATE_COUPON, UPDATE_PICKUPTIME, UPDATE_ORDER_TYPE, UPDATE_CART_TYPE,\n} from \"./Reducers\"\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\nimport { fetchAuth } from \"../redux/slice/auth/authActions\";\nimport { useAppDispatch } from \"../redux/hooks\";\nimport { fetchUserPromotionEntries } from \"../redux/slice/marketPlace/marketPlaceAction\";\n\n// Remember to update clearCart in Reducers.tsx\nconst initialState = {\n  cart: [],\n  cartType: undefined,\n  merchantConfig: undefined,\n  coupon: undefined,\n  tip: defaultTipData,\n  pickupTime: undefined,\n  orderType: OrderType.PICKUP,\n  tableQrCodeObject: undefined,\n  openCheckOrder: undefined,\n}\n// TODO: Move all context to redux except for theme, so that we don't have multiple and nested context for our app\nconst AppContextProvider = (props: {\n  children: React.ReactNode,\n}): React.ReactElement => {\n  const [cartState, dispatch] = useReducer(mercReducer, initialState);\n  const { user, token } = useContext(UserContext)\n  const { tableQrCodeObject = undefined, cartType = undefined, orderType, openCheckOrder, cart: cartItems = [] } = cartState;\n  const reduxDispatch = useAppDispatch();\n\n  const [activeOrder, setActiveOrder] = useState<Order>();\n  const [featureFlags, setFeatureFlags] = useState<FeatureFlags>();\n  const [orderPickupType, setOrderPickupType] = useState<OrderPickupType | null>(OrderPickupType.TO_GO);\n\n  const [switchMerchantAlert, setSwitchMerchantAlert] = useState<SwitchMerchantAlert>({\n    previousMerchantName: '',\n    currentMerchantName: '',\n    isOpen: false\n  });\n\n  const itemToBeAddedRef = useRef<{ item: CartItemType, merchant: Merchant | undefined } | null>(null);\n\n  const [{ loading: isFetchingMerchandises }, fetchData] = useAxios<MerchandiseApiResponseType>(\n    { url: '/merchandises' }, { manual: true }\n  )\n\n  const merchantId = cartState.merchantConfig?.merchant?.id || (cartItems.length > 0 ? cartItems[0].merchantId : undefined);\n\n  const fetchMerchandises = (mid: string): boolean => {\n    if (!mid) {\n      return false;\n    }\n\n    fetchData({ params: { merchantId: mid } })\n      .then((response) => {\n        if (response.status === 200) {\n          dispatch({\n            type: UPDATE_MERCHANDISE,\n            mercData: response.data,\n          });\n        }\n      })\n    return isFetchingMerchandises;\n  }\n\n  const debounceHandler = useMemo(() => debounce(fetchMerchandises, 5000, true), []);\n  const reFetchMerchandisesForCart = useCallback(() => merchantId && debounceHandler(merchantId), [merchantId]);\n\n\n  useEffect(() => {\n    // Default to regular cart\n    setCartType(CartType.REGULAR)\n\n    // Get Feature Flags data\n    axios.get<FeatureFlags>('/featureflags').then(res => {\n      if (res.status === 200) {\n        setFeatureFlags(res.data)\n      }\n    })\n\n    // clear debounced requests\n    return () => {\n      debounceHandler.clear();\n    }\n  }, [])\n\n  useEffect(() => {\n    if (reFetchMerchandisesForCart)\n      reFetchMerchandisesForCart()\n  }, [merchantId])\n\n  useEffect(() => {\n    if (user && token) {\n      // Sync auth between AppContextProvider and Redux.\n      reduxDispatch(fetchAuth({ user, token }));\n    }\n  }, [user, token]);\n\n  useEffect(() => {\n    if (token) {\n      // Sync auth between AppContextProvider and Redux.\n      reduxDispatch(fetchUserPromotionEntries(token))\n    }\n  }, [token]);\n\n  const addItemToCart = (\n    item: CartItemType,\n    merchant: Merchant | undefined) => {\n    if (cartState.merchantConfig &&\n      cartState.merchantConfig?.merchant?.id !== merchant?.id) {\n\n      itemToBeAddedRef.current = { item, merchant }\n      setSwitchMerchantAlert({\n        previousMerchantName: cartState.merchantConfig?.merchant?.officialName,\n        currentMerchantName: merchant?.officialName,\n        isOpen: true\n      })\n      return;\n    }\n\n    if (!merchant) {\n      return;\n    }\n\n    setTimeout(() => {\n      dispatch({ type: ADD_MERCHANDISE, item, merchant });\n    }, 200)\n  }\n\n  const removeItemFromCart = (params: RemoveItemFromCartParams) => {\n    setTimeout(() => {\n      dispatch({ type: REMOVE_MERCHANDISE, ...params });\n    }, 200)\n  }\n\n  const confirmMerchantSwitchAction = () => {\n    const { item, merchant } = itemToBeAddedRef.current || {}\n\n    clearCart();\n    closeMerchantSwitchAlert();\n\n    if (!merchant) return\n    setTimeout(() => {\n      dispatch({ type: ADD_MERCHANDISE, item, merchant });\n    }, 200)\n  }\n\n  const closeMerchantSwitchAlert = () => {\n    itemToBeAddedRef.current = null\n    setSwitchMerchantAlert({ isOpen: false });\n  }\n\n  const redeemItems = (items: CartItemType[]) => {\n    setTimeout(() => {\n      dispatch({ type: REDEEM_MERCHANDISE, items });\n    }, 200)\n  }\n\n  const cancelRedemption = () => {\n    dispatch({ type: CANCEL_REDEMPTION });\n  }\n\n  const clearCart = () => {\n    setOrderPickupType(OrderPickupType.TO_GO)\n    dispatch({ type: CLEAR_CART });\n  }\n\n  const setTip = (tip: TipData) => {\n    if (tip !== cartState.tip) {\n      setTimeout(() => {\n        dispatch({ type: UPDATE_TIP_SELECTION, tip })\n      }, 100)\n    }\n  }\n\n  const setCoupon = (coupon: MerchantCoupon | undefined) => {\n    setTimeout(() => {\n      dispatch({ type: UPDATE_COUPON, coupon })\n    }, 100)\n  }\n\n  const setPickupTime = (pickupTime: Date | undefined) => {\n    setTimeout(() => {\n      dispatch({ type: UPDATE_PICKUPTIME, pickupTime })\n    }, 100)\n  }\n\n  const setOrderType = (_orderType: OrderType, tableQrCodeObject?: MerchantQRCode) => {\n    if (orderType !== _orderType) {\n      clearCart()\n    }\n    setTimeout(() => {\n      dispatch({ type: UPDATE_ORDER_TYPE, orderType: _orderType, tableQrCodeObject })\n    }, 100)\n  }\n\n  const setCartType = (cartType: CartType, merchantConfig?: MerchantCartConfig, openCheckOrder?: Order) => {\n    setTimeout(() => {\n      dispatch({ type: UPDATE_CART_TYPE, cartType, merchantConfig, openCheckOrder })\n    }, 100)\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        cart: cartItems as CartItemType[],\n        merchantConfig: cartState.merchantConfig,\n        tip: cartState.tip,\n        setTip,\n        orderType: orderType || OrderType.PICKUP as OrderType,\n        tableQrCodeObject: tableQrCodeObject as MerchantQRCode | undefined,\n        setOrderType,\n        pickupTime: cartState.pickupTime,\n        setPickupTime,\n        addItemToCart,\n        removeItemFromCart,\n        redeemItems,\n        cancelRedemption,\n        coupon: cartState.coupon,\n        setCoupon,\n        clearCart,\n        activeOrder,\n        setActiveOrder,\n        openCheckOrder,\n        cartType,\n        setCartType,\n        featureFlags,\n        reFetchMerchandisesForCart,\n        setSwitchMerchantAlert,\n        orderPickupType,\n        setOrderPickupType\n      }}>\n      {props.children}\n      <ConfirmationAlert\n        title=\"Switch Stores\"\n        isOpen={switchMerchantAlert.isOpen}\n        onConfirm={confirmMerchantSwitchAction}\n        onCancel={closeMerchantSwitchAlert}\n      >\n        {`Your cart contains items from ${switchMerchantAlert.previousMerchantName}. Creating a new order to add items from ${switchMerchantAlert.currentMerchantName} will clear your cart. Do you wish to continue?`}\n      </ConfirmationAlert>\n    </AppContext.Provider >\n  );\n};\n\nexport default AppContextProvider;\n","import React from \"react\";\nimport { darken, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { createMuiTheme } from \"@material-ui/core\";\n\nconst MUIThemeProvider = (props: {\n  children: React.ReactNode;\n}): React.ReactElement => {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: \"#E34D28\",\n        light: `rgba(138, 198, 208, 0.3)`,\n      },\n      secondary: {\n        main: \"#FF8E25\",\n        light: \"#9CA5A8\",\n      },\n      info: {\n        main: \"#FF8E25\",\n        light: \"#364245\",\n      },\n      background: {\n        paper: \"#fff\",\n        default: \"#f5faff\",\n      },\n      divider: \"rgba(0, 0, 0, 0.1)\",\n      action: {\n        disabledBackground: \"#e4e4e4\",\n      },\n    },\n    shape: {\n      borderRadius: 8,\n    },\n    components: {\n      MuiPaper: {\n        styleOverrides: {\n          root: {\n            boxShadow: \"0px 3px 12px rgba(0, 0, 0, 0.07)\",\n          }\n        }\n      },\n      MuiFab: {\n        variants: [\n          {\n            props: { variant: \"circular\" },\n            style: {\n              background: \"#fff\",\n              border: \"1px solid #E34D28\",\n              boxShadow: \"unset\",\n\n              \"&.Mui-disabled\": {\n                background: \"#9CA5A8\",\n                border: \"1px solid #9CA5A8\",\n                opacity: 0.4,\n\n                \"& .MuiSvgIcon-root\": {\n                  fill: \"#fff\",\n                },\n              },\n\n              \"&:hover\": {\n                borderColor: darken(\"#E34D28\", 0.2),\n                background: \"transparent\",\n\n                \"& .MuiSvgIcon-root\": {\n                  fill: darken(\"#E34D28\", 0.2),\n                },\n              },\n\n              \"& .MuiSvgIcon-root\": {\n                fill: \"#E34D28\",\n              },\n            },\n          },\n        ],\n      },\n    },\n    typography: {\n      \"fontFamily\": `\"Manrope\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n    }\n  });\n\n  return <MuiThemeProvider theme={theme}>{props.children}</MuiThemeProvider>;\n};\n\nexport default MUIThemeProvider;\n","import React, { useState, useEffect, useContext } from 'react';\nimport localforage from \"localforage\";\n\nimport { MerchandiseApiResponseType, Merchant, OrderType } from '../../services/models';\nimport { captureSwitchMerchantEvent } from '../../services/Tracking/EventsTracking';\nimport { AppContext } from '../AppContext';\nimport { isMerchantOnline } from '../../utils';\nimport { VisitedMerchantContext, VisitedMerchantDictionary } from './VisitedMerchantContext';\n\nconst VisitedMerchantContextProvider = (props: {\n  children: React.ReactNode,\n}): React.ReactElement => {\n  const [visitedMerchant, setVisitedMerchant] = useState<Merchant>();\n  const [visitedMenu, setVisitedMenu] = useState<MerchandiseApiResponseType>();\n  const [visitedMerchantList, setVisitedMerchantList] = useState<VisitedMerchantDictionary>({});\n  const [isMerchantOrderingAvailable, setMerchantOrdering] = useState<boolean>(true);\n  const { orderType, tableQrCodeObject, setOrderType } = useContext(AppContext);\n\n  useEffect(() => {\n    const doAsync = async () => {\n      try {\n        const visitedMerchants: VisitedMerchantDictionary | null = await localforage.getItem<VisitedMerchantDictionary>('visitedMerchantList');\n        if (!visitedMerchants) {\n          return null;\n        }\n\n        await setVisitedMerchantList(visitedMerchants || {});\n      } catch (ex) {\n        console.error(ex);\n      }\n    }\n\n    localforage.ready().then(() => {\n      doAsync();\n    });\n  }, []);\n\n  useEffect(() => {\n    setMerchantOrdering(isMerchantOnline(visitedMerchant, orderType))\n\n    // Change OrderType to Pickup when switching stores from the DineIn Mode\n    if (visitedMerchant && orderType === OrderType.DINEIN && tableQrCodeObject) {\n      const isValidTableId = visitedMerchant?.qrCodes?.find(i => i.id === tableQrCodeObject?.id)\n      if (!isValidTableId) {\n        setOrderType(OrderType.PICKUP)\n      }\n    }\n  }, [visitedMerchant, orderType])\n\n  useEffect(() => {\n    const doAsync = async () => {\n      try {\n        if (!visitedMerchant) {\n          return;\n        }\n\n        const visitedMerchants: VisitedMerchantDictionary | null = await localforage.getItem<VisitedMerchantDictionary>('visitedMerchantList');\n        const updatedVisitedMerchants: VisitedMerchantDictionary = {\n          ...visitedMerchants,\n          [visitedMerchant?.id]: {\n            lastVisitedAt: new Date(),\n            merchant: visitedMerchant,\n          },\n        }\n        captureSwitchMerchantEvent({ merchant: visitedMerchant })\n\n        await localforage.setItem<VisitedMerchantDictionary>('visitedMerchantList', updatedVisitedMerchants);\n        await setVisitedMerchantList(updatedVisitedMerchants);\n      }\n      catch (ex) {\n        console.error(ex);\n      }\n    };\n\n    doAsync();\n  }, [visitedMerchant]);\n\n  return (\n    <VisitedMerchantContext.Provider\n      value={{\n        visitedMerchant,\n        setVisitedMerchant,\n        visitedMenu,\n        setVisitedMenu,\n        isMerchantOrderingAvailable,\n        visitedMerchantList,\n      }}\n    >\n      {props.children}\n    </VisitedMerchantContext.Provider>\n  )\n}\n\nexport default VisitedMerchantContextProvider;\n","import { isProduction } from \"../../utils\"\nimport { Logger } from \"./loggerTypes\"\n\n/**\n * Logging module\n * This file provides the public API and logs to\n * the correct place based on the current environment\n */\nconst logger: Logger = isProduction() ? require(\"./sentry\").default : require(\"./console\").default\n\nexport default logger\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGhSURBVHgBhZM7SwNBEMdvL1r5rrTwUdgpWigoCCKIjY0WVtaKYK12fgdBEUGifgERrAQtLRTEyipIFGKTdL7ApJDzN3E2GTaJDvxu5mZ2/vu4WxfVsSRJRnBzIL5bUvAMT3DjnLsNe1wgIE2bKmDricbeF2ALwUKNECKDuB1osdp1xHz8CRuIZStCiPTgjqDVzNzIbF3EVhDLx5rYh05ogi/1QnPghRQUNZaebRGIWc0Mvs8M3IOTBiLNWtvVWJhAY1xWNBsMZKUujU+bFfh6Wms2JyzIY0hfvKWiX7VDZpJ4XfMHkjPnZHsm5WU4Cn6Dyqk6d4BY7GNTilXI9w347dhPGwdi+/Xm0L5Ie8tN+ah6oKlQqIH5rfmFPErTXZAsC7GlVej1ncR9kgu25snI4xSWzUyOBrkmwhrxktbOoJf3Lnwuqp6RbO3K/9nnuCktvEO72YYM/NBcYsa0af2FcxzzQv24a+gIzuGvqyL2BtMI5eylHcVdBGKhWfFXmEfkoWYUYgOQgRIUDSXjhUsZG/1nDFqEY7iHbyULR3o3a+wH2rnAMtFXE8QAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/1m-points.8fd8b13f.svg\";","export default __webpack_public_path__ + \"static/media/treasure-icon.4c163079.svg\";","export default \"data:image/png;base64,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\"","var _path, _path2, _path3, _path4, _path5;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLootBox(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.9462 1.0015H3.0522C2.72571 1.0013 2.41251 1.13075 2.18144 1.3614C1.95037 1.59205 1.82034 1.90501 1.81995 2.2315V6.79698H3.32878C3.56764 6.50293 3.91247 6.3145 4.28895 6.2723C4.35848 6.25361 4.42188 6.21698 4.47279 6.16606C4.5237 6.11515 4.56033 6.05175 4.57902 5.98222C4.91182 4.73798 5.6014 4.6158 6.5061 4.8579C6.57563 4.87606 6.64869 4.87579 6.71808 4.85713C6.78748 4.83847 6.85082 4.80205 6.90186 4.75147C7.80131 3.85202 8.41369 4.07013 9.09503 4.75147C9.14615 4.80218 9.20961 4.83867 9.27915 4.85734C9.34869 4.876 9.4219 4.8762 9.49154 4.8579C10.7095 4.53185 11.169 5.05129 11.4179 5.98222C11.4366 6.05175 11.4732 6.11515 11.5241 6.16606C11.575 6.21698 11.6384 6.25361 11.7079 6.2723C12.0844 6.3145 12.4292 6.50293 12.6681 6.79698H14.1769V2.2315C14.1765 1.90527 14.0467 1.59253 13.816 1.36193C13.5852 1.13132 13.2724 1.00169 12.9462 1.0015ZM5.82552 4.18931C5.78744 4.22743 5.74222 4.25767 5.69244 4.2783C5.64267 4.29894 5.58932 4.30956 5.53544 4.30956C5.48156 4.30956 5.42821 4.29894 5.37843 4.2783C5.32866 4.25767 5.28344 4.22743 5.24537 4.18931L4.40063 3.34157C4.36251 3.3035 4.33227 3.25828 4.31163 3.20851C4.291 3.15873 4.28038 3.10538 4.28038 3.0515C4.28038 2.99762 4.291 2.94427 4.31163 2.8945C4.33227 2.84472 4.36251 2.79951 4.40063 2.76143C4.48288 2.68428 4.59142 2.64134 4.70419 2.64134C4.81697 2.64134 4.92551 2.68428 5.00776 2.76143L5.82776 3.58143C5.90513 3.66372 5.9482 3.77242 5.9482 3.88537C5.9482 3.99832 5.90513 4.10702 5.82776 4.18931H5.82552ZM8.40845 3.0515C8.40845 3.16024 8.36525 3.26453 8.28836 3.34142C8.21147 3.41831 8.10718 3.4615 7.99845 3.4615C7.88971 3.4615 7.78542 3.41831 7.70853 3.34142C7.63164 3.26453 7.58844 3.16024 7.58844 3.0515V2.2315C7.58844 2.12276 7.63164 2.01847 7.70853 1.94158C7.78542 1.86469 7.88971 1.8215 7.99845 1.8215C8.10718 1.8215 8.21147 1.86469 8.28836 1.94158C8.36525 2.01847 8.40845 2.12276 8.40845 2.2315V3.0515ZM11.5963 3.34157L10.7763 4.18931C10.7368 4.2311 10.6894 4.26456 10.6368 4.28771C10.5842 4.31085 10.5276 4.3232 10.4701 4.32404C10.4127 4.32488 10.3556 4.31418 10.3024 4.29258C10.2491 4.27098 10.2008 4.23892 10.1601 4.19829C10.1195 4.15767 10.0875 4.1093 10.0659 4.05606C10.0443 4.00282 10.0336 3.94579 10.0344 3.88834C10.0352 3.83089 10.0476 3.77419 10.0707 3.7216C10.0939 3.66901 10.1273 3.6216 10.1691 3.58218L11.0169 2.76218C11.0938 2.68524 11.1981 2.64202 11.3069 2.64202C11.4157 2.64202 11.5201 2.68524 11.597 2.76218C11.6739 2.83911 11.7172 2.94345 11.7172 3.05225C11.7172 3.16105 11.6739 3.26539 11.597 3.34232L11.5963 3.34157Z\",\n    fill: \"rgb(19, 138, 159)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.41 12.5377C1.2723 12.5377 1.13493 12.5515 1 12.579L1 13.7677C1.0004 14.0938 1.13011 14.4065 1.3607 14.637C1.59128 14.8676 1.90391 14.9974 2.23 14.9978H3.41878C3.47958 14.6999 3.47338 14.3922 3.40061 14.0971C3.32784 13.8019 3.19034 13.5266 2.99806 13.2911C2.80578 13.0557 2.56354 12.8659 2.28887 12.7356C2.01421 12.6053 1.71401 12.5377 1.41 12.5377Z\",\n    fill: \"rgb(19, 138, 159)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5369 10.0777H10.008C9.91365 10.5409 9.66217 10.9573 9.2961 11.2563C8.93003 11.5554 8.47187 11.7187 7.99919 11.7187C7.5265 11.7187 7.06834 11.5554 6.70227 11.2563C6.3362 10.9573 6.08473 10.5409 5.99041 10.0777H3.46069V12.5857C3.77822 12.8933 4.01531 13.2742 4.1511 13.6949C4.2869 14.1157 4.31725 14.5633 4.23947 14.9985H11.7582C11.6804 14.5633 11.7107 14.1157 11.8465 13.6949C11.9823 13.2742 12.2194 12.8933 12.5369 12.5857V10.0777Z\",\n    fill: \"rgb(19, 138, 159)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.5862 12.5377C14.2822 12.5377 13.9819 12.6053 13.7072 12.7356C13.4324 12.866 13.1901 13.0558 12.9978 13.2914C12.8056 13.5269 12.6681 13.8023 12.5953 14.0976C12.5226 14.3928 12.5165 14.7006 12.5775 14.9985H13.7662C14.0923 14.9981 14.405 14.8684 14.6356 14.6378C14.8661 14.4072 14.9959 14.0946 14.9963 13.7685V12.5797C14.8614 12.552 14.724 12.5379 14.5862 12.5377Z\",\n    fill: \"rgb(19, 138, 159)\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.767 7.61699H2.23C1.90391 7.61739 1.59128 7.7471 1.3607 7.97768C1.13011 8.20827 1.0004 8.5209 1 8.847V11.759C1.13549 11.7353 1.27252 11.7215 1.41 11.7177C1.83642 11.72 2.25684 11.8184 2.64 12.0056V8.43699H3.46076V9.257H5.947V8.43699H6.7715V9.667C6.7715 9.99331 6.90112 10.3063 7.13187 10.537C7.36261 10.7677 7.67556 10.8974 8.00187 10.8974C8.32819 10.8974 8.64114 10.7677 8.87188 10.537C9.10262 10.3063 9.23225 9.99331 9.23225 9.667V8.43699H10.0523V9.257H12.54V8.43699H13.36V12.0056C13.864 11.7433 14.4411 11.6565 15 11.759V8.847C14.9998 8.68527 14.9678 8.52517 14.9057 8.37583C14.8436 8.2265 14.7527 8.09085 14.6382 7.97663C14.5237 7.86241 14.3879 7.77186 14.2384 7.71016C14.0889 7.64845 13.9287 7.61679 13.767 7.61699ZM7.9955 10.0852C7.91367 10.0852 7.83368 10.061 7.76564 10.0155C7.6976 9.97005 7.64456 9.90543 7.61325 9.82983C7.58193 9.75422 7.57374 9.67104 7.5897 9.59078C7.60567 9.51052 7.64507 9.43679 7.70294 9.37893C7.7608 9.32106 7.83453 9.28165 7.91478 9.26569C7.99504 9.24972 8.07823 9.25792 8.15384 9.28924C8.22944 9.32055 8.29406 9.37359 8.33952 9.44163C8.38499 9.50967 8.40925 9.58966 8.40925 9.67149C8.40846 9.78111 8.36452 9.886 8.28693 9.96345C8.20935 10.0409 8.10437 10.0847 7.99475 10.0852H7.9955Z\",\n    fill: \"rgb(19, 138, 159)\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLootBox);\nexport default __webpack_public_path__ + \"static/media/loot-box.93aaf604.svg\";\nexport { ForwardRef as ReactComponent };","\nimport React from 'react';\nimport OneMarketPointsSrc from '../../assets/icons/1m-points.svg'\nimport OneMarketPointsAlternateSrc from '../../assets/icons/1m-points-alternate.png'\nimport TreasureSrc from '../../assets/icons/treasure-icon.svg'\nimport LootboxSrc from '../../assets/icons/lootbox-icon.png'\nimport LootboxWithShineSrc from '../../assets/icons/lootbox-icon-with-shine.png'\nimport { ReactComponent as LootBoxIcon } from '../../assets/icons/loot-box.svg';\n\nexport const OneMarketPointsAlternateIcon = <img src={OneMarketPointsAlternateSrc} alt=\"1m-icon\" width={20} height={20} style={{ padding: 1 }} />;\nexport const OneMarketPointsAlternateIconSrc = OneMarketPointsAlternateSrc;\n\nexport const LootboxIconSrc = LootboxSrc\n\nexport const TreasureIcon = <img src={TreasureSrc} alt=\"treasure-icon\" width={20} height={20} style={{ padding: 1 }} />;\nexport const TreasureIconSrc = TreasureSrc\n\nexport const LootboxWithShineIcon = <img src={LootboxWithShineSrc} alt=\"lootbox-icon\" style={{ padding: 1 }} />;\nexport const LootboxWithShineIconSrc = LootboxWithShineSrc\nexport const OneMarketPointsIcon = <img src={OneMarketPointsSrc} alt=\"1m-icon\" width={20} height={20} style={{ padding: 1 }} />;\nexport const OneMarketPointsIconSrc = OneMarketPointsSrc;\nexport {\n  LootBoxIcon,\n};\n","import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .bold\": {\n        fontWeight: \"bold\"\n      },\n\n      \"& .MuiAppBar-root\": {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.common.white,\n\n        \"& .MuiSvgIcon-root\": {\n          color: theme.palette.common.white,\n        },\n\n        \"& .MuiAppBar-colorInherit\": {\n          backgroundColor: \"transparent\"\n        }\n      },\n\n      \"& .header-container\": {\n        color: theme.palette.common.white,\n      },\n\n      \"& .content-container\": {\n        paddingTop: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n      },\n\n      \"& .lootbox-featured-container\": {\n        backgroundColor: theme.palette.primary.light,\n        color: theme.palette.common.white,\n        overflow: \"auto\",\n\n        display: \"flex\",\n        alignItems: \"flex-end\",\n\n        padding: `${theme.spacing(3)} ${theme.spacing(2)}`,\n        paddingBottom: 0,\n      },\n\n      \"& .section-container\": {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n\n        \"& .section-header\": {\n          marginTop: theme.spacing(1),\n          marginBottom: theme.spacing(1),\n\n          \"& .section-title\": {\n            display: \"flex\",\n            alignItems: \"flex-start\",\n            justifyContent: \"space-between\"\n          }\n        },\n\n        \"& .section-content\": {\n          paddingTop: theme.spacing(1),\n          paddingBottom: theme.spacing(1),\n        },\n\n        \"& .section-footer\": {\n          '& .MuiFab-extended': {\n            width: '100%',\n            borderRadius: theme.spacing(1)\n          }\n        },\n      },\n\n      \"& .card-container\": {\n        marginBottom: theme.spacing(1.5),\n\n        '& .MuiCardHeader-root': {\n          paddingBottom: 0,\n        }\n      },\n\n      \"& .progress-indicator\": {\n        position: \"relative\",\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n\n        \"& .treasure-icon\": {\n          position: \"absolute\",\n          right: -20,\n          top: -27,\n\n          \"& img\": {\n            height: 50,\n            width: 50\n          }\n        }\n      }\n    }\n  })\n)\n\nexport default useStyles;","import React from 'react';\nimport { Card, Theme, makeStyles, createStyles, Typography, CardActionArea } from '@material-ui/core';\nimport { OneMarketPointsAlternateIcon } from '../common/OneMarketIcons';\nimport { isEmptyOrNil } from '../../utils';\nimport { If } from 'react-if';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.common.white,\n\n      borderRadius: theme.spacing(1),\n      borderBottomRightRadius: 0,\n      borderBottomLeftRadius: 0,\n\n      minHeight: '100px',\n      minWidth: '230px',\n\n      marginRight: theme.spacing(1),\n      padding: theme.spacing(2),\n\n      \"& .points-container\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: theme.spacing(1),\n      },\n\n      \"& .rewards-container\": {\n        backgroundColor: theme.palette.secondary.dark,\n        padding: theme.spacing(1),\n        borderRadius: theme.spacing(1),\n      }\n    }\n  })\n)\n\ntype FeaturedItemCardProps = {\n  title: string,\n  points: string,\n  earnedReward?: string\n  action?: () => void\n}\nconst FeaturedItemCard = (props: FeaturedItemCardProps) => {\n  const classes = useStyles();\n  const { title, points, earnedReward, action } = props\n\n  return (\n    <Card className={classes.root} elevation={0}>\n      <CardActionArea onClick={() => action && action()}>\n        <Typography className='bold' variant='subtitle1' component='div'>\n          {title}\n        </Typography>\n        <div className='points-container'>\n          {OneMarketPointsAlternateIcon}&nbsp;\n          <Typography className='bold' variant='h5' component='span'>\n            {points}\n          </Typography>&nbsp;\n          <Typography variant='subtitle1' component='span'>\n            equals to\n          </Typography>\n        </div>\n        <If condition={!isEmptyOrNil(earnedReward)}>\n          <span className='rewards-container'>\n            <Typography variant='subtitle1' component='span'>\n              {earnedReward}\n            </Typography>\n          </span>\n        </If>\n      </CardActionArea>\n    </Card>\n  )\n}\n\nexport default FeaturedItemCard;","import React from 'react';\nimport FeaturedItemCard from './FeaturedItemCard';\n\nconst LootboxFeaturedItems = () => {\n  return (\n    <div className='lootbox-featured-container'>\n      <FeaturedItemCard\n        title='Lootbox Earning Last Week'\n        points='1000'\n        earnedReward='01 Ramen Dinner'\n        />\n      <FeaturedItemCard\n        title='All Active Missions Worth'\n        points='1000'\n        earnedReward='01 Italian Dinner'\n      />\n      <FeaturedItemCard\n        title='Lootbox Earning Last Week'\n        points='1000'\n      />\n      <FeaturedItemCard\n        title='All Active Missions Worth'\n        points='1000'\n      />\n    </div>\n  )\n}\n\nexport default LootboxFeaturedItems;","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { If } from 'react-if';\n\nimport { isEmptyOrNil } from '../../utils';\n\nexport type SectionHeaderProps = {\n  title: string,\n  subtitle?: string,\n  CountComponent?: any\n}\n\nconst SectionHeader = (props: SectionHeaderProps) => {\n  const { title, subtitle, CountComponent } = props\n\n  return (\n    <div className='section-header'>\n      <Typography variant='h5' component='div' className='section-title'>\n        {title}&nbsp;{!isEmptyOrNil(CountComponent) && <CountComponent />}\n      </Typography>\n\n      <If condition={!isEmptyOrNil(subtitle)}>\n        <Typography variant='subtitle2' component=\"p\" color=\"textSecondary\">\n          {subtitle}\n        </Typography>\n      </If>\n    </div>\n  )\n}\n\nexport default SectionHeader;","import React from 'react';\nimport { Chip, createStyles, makeStyles, Theme } from '@material-ui/core';\nimport { OneMarketPointsAlternateIcon } from '../common/OneMarketIcons';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.primary.light,\n      color: theme.palette.common.white,\n\n      borderRadius: theme.spacing(1),\n\n      \"& .rewards-label\": {\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: '1rem'\n      }\n    }\n  })\n)\n\ntype RewardsTagProps = {\n  points: string | React.ReactNode\n}\nconst RewardsTag = (props: RewardsTagProps) => {\n  const classes = useStyles();\n  const { points } = props;\n\n  const RewardsLabel = () => (\n    <div className='rewards-label'>\n      {OneMarketPointsAlternateIcon}&nbsp;&#43;{points}\n    </div>\n  )\n  return (\n    <Chip\n      className={classes.root}\n      label={<RewardsLabel />}\n    />\n  )\n}\n\nexport default RewardsTag;","import { createStyles, makeStyles, Theme } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      background: theme.palette.secondary.light,\n      color: theme.palette.primary.light,\n\n      padding: '5px',\n      borderRadius: theme.spacing(1),\n      fontSize: '0.9rem'\n    }\n  })\n)\nexport type LootboxCounterProps = {\n  count: string | number,\n  suffix: string\n}\nconst LootboxCounter = (props: LootboxCounterProps) => {\n  const classes = useStyles()\n  const { count, suffix } = props\n\n  return (\n    <span className={`lootbox-counter ${classes.root}`}>\n      {count}&nbsp;{suffix}\n    </span>\n  )\n}\n\nexport default LootboxCounter;","import React from 'react';\nimport { LinearProgress, styled, linearProgressClasses } from '@material-ui/core';\nimport { LootboxWithShineIcon } from '../common/OneMarketIcons';\n\nconst CustomLinearProgress = styled(LinearProgress)(({ theme }) => ({\n  height: 10,\n  borderRadius: 5,\n  [`&.${linearProgressClasses.colorPrimary}`]: {\n    backgroundColor: theme.palette.grey[200],\n  },\n  [`& .${linearProgressClasses.bar}`]: {\n    borderRadius: 5,\n    backgroundColor: theme.palette.primary.light,\n  },\n}));\n\n\ntype ProgressIndicatorProps = {\n  progress: number\n}\nconst ProgressIndicator = (props: ProgressIndicatorProps) => {\n  return (\n    <div className='progress-indicator'>\n      <CustomLinearProgress\n        value={props.progress}\n        variant=\"determinate\"\n      />\n      <div className=\"treasure-icon\">\n        {LootboxWithShineIcon}\n      </div>\n    </div>\n  )\n}\n\nexport default ProgressIndicator;","import React from 'react';\nimport { Card, CardContent, CardHeader, Typography } from '@material-ui/core';\n\nimport SectionHeader from './SectionHeader';\nimport RewardsTag from './RewardsTag';\nimport LootboxCounter from './LootboxCounter';\nimport ProgressIndicator from './ProgressIndicator';\nimport OutlinedFab from '../../bos_common/src/components/OutlinedFab';\nimport { AssignmentOutlined } from '@material-ui/icons';\n\ntype Mission = {\n  title: string,\n  subtitle: string,\n  progress: number,\n  points: string,\n  description: string\n}\ntype MissionCardProps = {\n  mission: Mission\n}\n\nconst CardTitle = (props: MissionCardProps) => {\n  const { mission } = props\n\n  return (\n    <div className='card-header'>\n      <SectionHeader\n        title={mission.title}\n        subtitle={mission.subtitle}\n        CountComponent={() => <RewardsTag points={mission.points} />}\n      />\n    </div>\n  )\n}\n\nconst MissionCard = (props: MissionCardProps) => {\n  const { mission } = props\n\n  return (\n    <div className=\"card-container\">\n      <Card>\n        <CardHeader\n          title={<CardTitle mission={mission} />}\n        />\n        <CardContent>\n          <Typography variant='body2' component='p' color='textSecondary'>\n            {mission.description}\n          </Typography>\n          <ProgressIndicator progress={mission.progress} />\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nconst LootboxMissions = () => {\n  const mission = {\n    title: 'Order 5 times',\n    subtitle: 'Expires 01/11/21',\n    points: '100',\n    progress: 50,\n    description: 'Get 300 extra points when you order in eligible stores for 5 times. Foods & drink only.'\n  }\n\n  return (\n    <div className='section-container'>\n      <SectionHeader\n        title='Missions'\n        subtitle='Fill the progress and earn bouns points'\n        CountComponent={() => <LootboxCounter count={32} suffix='Active' />}\n      />\n      <div className='section-content'>\n        <MissionCard mission={mission} />\n        <MissionCard mission={mission} />\n        <MissionCard mission={mission} />\n      </div>\n      <div className='section-footer'>\n        <OutlinedFab variant='extended'>\n          <AssignmentOutlined/>&nbsp;See all missions\n        </OutlinedFab>\n      </div>\n    </div >\n  )\n}\n\nexport default LootboxMissions;","import React from \"react\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Chip,\n  Typography,\n  makeStyles,\n  createStyles,\n  Theme,\n  Fab,\n} from \"@material-ui/core\";\nimport { HowToVote } from \"@material-ui/icons\";\nimport { If } from \"react-if\";\nimport { Merchant } from \"../../bos_common/src/types/MerchantType\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    fs14: {\n      fontSize: \"0.875rem\",\n      fontWeight: 700,\n      lineHeight: \"1rem\",\n    },\n\n    fs12: {\n      fontSize: \"0.75rem\",\n      fontWeight: 400,\n      color: \"#9CA5A8\",\n      lineHeight: \"1rem\",\n    },\n\n    fs10: {\n      fontSize: \"0.625rem\",\n      fontWeight: \"bold\",\n      lineHeight: \"1rem\",\n    },\n\n    cardHeader: {\n      marginBottom: \"0.625rem\",\n    },\n\n    content: {\n      paddingTop: \"0.625rem\",\n    },\n\n    metric: {\n      borderRadius: \"3px\" /*theme.spacing(1)*/,\n      textTransform: \"uppercase\",\n      padding: \"2px 6px\",\n\n      \"& .vote-label\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: \"1rem\",\n      },\n\n      \"&>.MuiChip-label\": {\n        padding: 0,\n      },\n\n      \"&.voted\": {\n        backgroundColor: theme.palette.primary.light,\n        color: theme.palette.common.white,\n      },\n\n      \"&.zero-voted\": {\n        backgroundColor: \"rgba(0, 0, 0, 0.1)\",\n        color: \"#364245\",\n      },\n    },\n\n    metric0: {\n      borderRadius: theme.spacing(1),\n      textTransform: \"uppercase\",\n\n      \"& .vote-label\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: \"1rem\",\n      },\n    },\n\n    voteButton: {\n      float: \"right\",\n      clear: \"none\",\n      width: \"44px\",\n      // backgroundColor: theme.palette.primary.light,\n      // color: theme.palette.common.white,\n\n      // borderRadius: theme.spacing(1),\n      // textTransform: 'uppercase',\n      marginTop: \"-96px\",\n      marginRight: \"16px\",\n      backgroundColor: theme.palette.common.white,\n      color: theme.palette.primary.light,\n      border: `1px solid ${theme.palette.primary.main}`,\n\n      \"&:hover\": {\n        \"& .MuiFab-label\": { \n          color: theme.palette.common.white \n        },\n      },\n    },\n\n    voteButtonCaption: {\n      fontSize: \"0.675rem\",\n      color: theme.palette.primary.main,\n      lineHeight: \"0.875rem\",\n      fontWeight: \"bold\",\n      float: \"right\",\n      marginTop: \"-2.5rem\",\n      marginRight: \"1.5rem\",\n    },\n  })\n);\n\ninterface LootBoxVoteCardProps {\n  merchant: Merchant;\n  votable?: boolean;\n  voteCount?: number;\n  onVote?: (merchant: Merchant) => void;\n}\n\nconst CardTitle = (props: Readonly<LootBoxVoteCardProps>): JSX.Element => {\n  const { merchant } = props;\n  const classes = useStyles();\n\n  return (\n    <div className={`card-header`}>\n      <Typography variant=\"h5\" component=\"div\" className={classes.fs14}>\n        {merchant.officialName}\n      </Typography>\n\n      <Typography variant=\"subtitle2\" className={classes.fs12}>\n        {merchant.address}\n      </Typography>\n    </div>\n  );\n};\n\nexport const LootBoxVoteCard = (\n  props: Readonly<LootBoxVoteCardProps>\n): JSX.Element => {\n  const classes = useStyles();\n  const { votable, merchant, voteCount } = props;\n\n  const handleClickVote = (merchant: Merchant) => {\n    if (props.onVote) {\n      props.onVote(merchant);\n    }\n  };\n\n  return (\n    <div className=\"card-container\">\n      <Card>\n        <CardHeader title={<CardTitle merchant={merchant} />} />\n        <CardContent className={`${classes.content}`}>\n          {voteCount && voteCount > 0 ? (\n            <Chip\n              classes={[classes.metric, classes.fs10, \"voted\"]}\n              label={`${voteCount} ${voteCount === 1 ? \"user\" : \"users\"} voted`}\n            />\n          ) : (\n            <Chip\n              classes={[classes.metric, classes.fs10, \"zero-voted\"]}\n              label=\"Be the first to vote!\"\n            />\n          )}\n        </CardContent>\n        <If condition={votable}>\n          <>\n            <Fab\n              size=\"medium\"\n              color=\"secondary\"\n              aria-label=\"add\"\n              className={classes.voteButton}\n              onClick={() => handleClickVote(merchant)}\n            >\n              <HowToVote />\n            </Fab>\n            <span className={classes.voteButtonCaption}>Vote</span>\n          </>\n        </If>\n      </Card>\n    </div>\n  );\n};\n\nexport default LootBoxVoteCard;\n","import React from 'react';\nimport { useHistory } from 'react-router';\nimport { makeStyles, createStyles, Theme, } from '@material-ui/core';\nimport { HowToVote } from \"@material-ui/icons\";\nimport SectionHeader from './SectionHeader';\nimport OutlinedFab from '../../bos_common/src/components/OutlinedFab';\nimport { LootBoxVoteCard } from './LootboxVoteCard';\nimport { Merchant } from \"../../bos_common/src/types/MerchantType\";\nimport { If } from 'react-if';\nimport { isNullOrUndefined } from 'util';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      color: '#364245',\n\n      \"& .section-header\": {\n        marginTop: '22px',\n      },\n\n      \"& .section-title \": {\n        fontSize: '1.125rem',\n        fontWeight: 600,\n      },\n\n      \"& .MuiTypography-subtitle2\": {\n        fontSize: '0.75rem',\n        fontWeight: 400,\n        color: '#9CA5A8',\n        marginBottom: '14px',\n      },\n\n      \"& .lootbox-counter\": {\n        fontSize: '0.625rem',\n        fontWeight: 700,\n        padding: '2px 6px',\n        color: '#F7932E',\n        background: 'rgba(247, 147, 46, 0.15)',\n        borderRadius: '3px',\n      }\n    },\n    fs14: {\n      fontSize: '0.875rem',\n      fontWeight: 700,\n      lineHeight: '1rem',\n    },\n\n    fs12: {\n      fontSize: '0.75rem',\n      fontWeight: 400,\n      color: '#9CA5A8',\n      lineHeight: '1rem',\n    },\n\n    fs10: {\n      fontSize: '0.625rem',\n      fontWeight: 'bold',\n      lineHeight: '1rem',\n    },\n  })\n)\n\ninterface LootboxVotesProps {\n  title: string;\n  subtitle?:string;\n  totalVotes?:number;\n  votable?:boolean;\n  merchants: Merchant[];\n  countTable: {[key: string]: number};\n  onClickSeeVotes?: () => void;\n  onVote?: (merchant: Merchant) => void;\n}\n\nexport const LootboxVotes = (props: Readonly<LootboxVotesProps>): JSX.Element => {\n  const history = useHistory();\n  const classes = useStyles();\n  const { merchants, countTable, onClickSeeVotes } = props;\n\n  const handleClickHowToVote = () => {\n    if (onClickSeeVotes) {\n      onClickSeeVotes();\n    }\n    else {\n      history.push('/lootbox/votes');\n    }\n  }\n\n  const handleVote = (merchant: Merchant) => {\n    if (props.onVote) {\n      props.onVote(merchant);\n    }\n  }\n\n  const renderMerchants = (): JSX.Element[] => {\n    return merchants.map((item) => {\n      return <LootBoxVoteCard \n          key={item.id} \n          merchant={item} \n          votable={props.votable} \n          voteCount={countTable[item.id] || 0}\n          onVote={handleVote} \n        />\n    });\n  }\n\n  return (\n    <div className={`${classes.root} section-container`}>\n      <SectionHeader\n        title={props.title}\n        subtitle={props.subtitle}\n      />\n      <div className='section-content'>\n        {renderMerchants()}\n      </div>\n      <div className='section-footer'>\n        <If condition={onClickSeeVotes !== null && onClickSeeVotes !== undefined}>\n          <OutlinedFab variant='extended' onClick={handleClickHowToVote}>\n            <HowToVote/>&nbsp;See your votes and others stores to vote\n          </OutlinedFab>\n        </If>\n      </div>\n    </div>\n  )\n}\n\nexport default LootboxVotes;\n","import React from 'react';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core'\n\nexport const LootboxTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#de8428',\n      light: '#f7932e'\n    },\n    secondary: {\n      dark: '#e08f3c',\n      main: '#faa958',\n      light: '#feecdb'\n    }\n  }\n})\n\nexport const LootboxThemeContextProvider = (props: { children: React.ReactChild }): JSX.Element => {\n  return (\n    <ThemeProvider theme={LootboxTheme}>\n      {props.children}\n    </ThemeProvider>);\n}\n\nexport default LootboxThemeContextProvider;\n","import { Merchant } from \"../../../services/models\";\nimport { RootState } from \"../../store\";\n\nexport const getStoresToVote = (state: RootState): Merchant[] => {\n  const { vote, merchant } = state;\n\n  return vote.entities.storesToVoteIds.map((id) => merchant.entities.byId[id]) || [];\n}\n\nexport const getVotedStores = (state: RootState): Merchant[] => {\n  const { vote, merchant } = state;\n\n  return vote.entities.votedStoreIds.map((id) => merchant.entities.byId[id]);\n}\n\nexport const getStoreVoteCountById = (merchantId: string): (state: RootState) => number => {\n  return (state: RootState): number => {\n    const { vote } = state;\n    return vote.entities.voteCount[merchantId];\n  }\n}\n\nexport const getStoreVoteCount = (state: RootState): { [key: string]: number } => {\n  const { vote } = state;\n  return vote.entities.voteCount;\n}\n\nexport const getVotesRemaining = (state: RootState): number => {\n  const { vote } = state;\n  return vote.entities.voteRemaining;\n}\n","import React, { useEffect } from 'react'\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core'\n\nimport BackButton from '../components/common/BackButton'\nimport { TreasureIcon } from '../components/common/OneMarketIcons'\nimport PageHeader from '../components/common/PageHeader'\nimport useStyles from '../components/Lootbox/styles'\nimport LootboxFeaturedItems from '../components/Lootbox/LootboxFeaturedItems'\nimport LootboxMissions from '../components/Lootbox/LootboxMissions'\nimport LootboxVotes from '../components/Lootbox/LootboxVotes'\nimport LootboxThemeContextProvider from '../context/LootboxThemeContextProvider'\nimport { useAppDispatch, useAppSelector } from '../redux/hooks'\nimport { getUser } from '../redux/slice/auth/authSelector'\nimport { getStoresToVote, getStoreVoteCount } from '../redux/slice/vote/voteSelector'\nimport { fetchStoresToVote } from '../redux/slice/vote/voteAction'\n\nconst RenderMainComponent = () => {\n  const classes = useStyles()\n  const dispatch = useAppDispatch();\n  const user = useAppSelector(getUser);\n  const storesToVote = useAppSelector(getStoresToVote);\n  const voteStoreCount = useAppSelector(getStoreVoteCount);\n\n  useEffect(() => {\n    if (user) {\n      dispatch(fetchStoresToVote());\n    }\n  }, [user]);\n  \n\n  return (\n    <div className={classes.root}>\n      <div>\n        <LootboxFeaturedItems />\n      </div>\n      <div className='content-container'>\n        <LootboxMissions />\n        <LootboxVotes title=\"Vote Stores\" merchants={storesToVote} subtitle=\"Wording pending\" votable={true} totalVotes={10} countTable={voteStoreCount} />\n      </div>\n    </div>\n  )\n}\n\nconst LootboxTitle = () => {\n  return (\n    <>\n      {TreasureIcon}&nbsp;Lootbox\n    </>\n  )\n}\n\nconst LootboxPage = (): JSX.Element => {\n  return (\n    <LootboxThemeContextProvider>\n    <div className=\"container\">\n      <PageHeader\n        title={<LootboxTitle />}\n        leftChild={<BackButton />}\n      />\n        <RenderMainComponent />\n    </div>\n    </LootboxThemeContextProvider>\n  )\n}\n\nexport default LootboxPage;","import React from 'react';\nimport { Card, CardContent, SwipeableDrawer, SwipeableDrawerProps, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles({\n  content: {\n    paddingTop: '0.625rem',\n  },\n});\n\ninterface AllVotesDrawerProps extends Partial<SwipeableDrawerProps> {\n  anchor: \"bottom\" | \"left\" | \"right\" | \"top\" | undefined;\n  open: boolean;\n  onOpen: () => void;\n  onClose: () => void;\n}\n\nexport const AllVotesDrawer = (props: Readonly<AllVotesDrawerProps>): JSX.Element => {\n  const classes = useStyles();\n  return (\n    <SwipeableDrawer {...props} style={{borderRadius: '20px'}}>\n      <Card>\n        <CardContent className={`${classes.content}`}>\n          <TextField id=\"outlined-basic\" label=\"Search with name, city, postal code...\" variant=\"outlined\" fullWidth />\n        </CardContent>\n      </Card>\n    </SwipeableDrawer>\n  )\n}","\nimport React from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Typography } from '@material-ui/core';\nimport { Cancel, CheckCircle } from '@material-ui/icons';\nimport { styled } from '@material-ui/styles';\nimport { Merchant } from \"../../bos_common/src/types/MerchantType\";\nimport LootboxCounter from './LootboxCounter';\n\nexport const LootboxVotedCustomDialog = styled(Dialog)(({ theme }) => ({\n  \"& .MuiTypography-root\": {\n    fontSize: '0.875rem',\n    color: '#9CA5A8',\n  },\n  \"& .MuiDialogTitle-root\": {\n    textAlign: 'center',\n    \"& .MuiTypography-root\": {\n      fontWeight: 600,\n      fontSize: '1.125rem',\n      color: '#364245',\n    },\n  },\n  \"& .MuiSvgIcon-root\": {\n    color: '#F7932E',\n    marginBottom: '-8px',\n  },\n  \"& .MuiDialogActions-root\": {\n    justifyContent: 'center',\n    \"& .MuiButton-root\": {\n      width: '100%',\n      color: '#FFF',\n      fontSize: '0.875rem',\n    },\n  },\n  \"& .lootbox-counter\": {\n    fontSize: '0.625rem',\n    fontWeight: 'bold',\n    borderRadius: '3px',\n    marginLeft: '8px',\n  },\n}));\n\nexport interface SimpleDialogProps {\n  open: boolean;\n  votesRemaining: number;\n  storeVoteCount: number;\n  store: Merchant,\n  onClose: () => void;\n}\n\nexport const LootboxVotedDialog = (props: Readonly<SimpleDialogProps>): JSX.Element => {\n  const { onClose, open, votesRemaining, storeVoteCount, store } = props;\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleClickDone = () => {\n    onClose();\n  };\n\n  const renderTitle = () => {\n    if (votesRemaining <= 0) {\n      return (\n        <DialogTitle>\n          <Cancel />\n          <span>Out of Votes</span>\n        </DialogTitle>\n      );\n    }\n    else if (storeVoteCount <= 0) {\n      return (\n        <DialogTitle>\n          <CheckCircle />\n          <span>First Voter</span>\n          <LootboxCounter count={votesRemaining} suffix={`${votesRemaining === 1 ? 'vote' : 'votes'} remaining`} />\n        </DialogTitle>\n      );\n    }\n    else {\n      return(\n        <DialogTitle>\n          <CheckCircle />\n          <span>Voted</span>\n          <LootboxCounter count={votesRemaining} suffix={`${votesRemaining === 1 ? 'vote' : 'votes'} remaining`} />\n        </DialogTitle>\n      );\n    }\n  }\n\n  const renderMessage = () => {\n    if (votesRemaining <= 0) {\n      return (\n        <Typography>\n          We still appreciate your passion! We will give you another 10 votes on the first day of next month.\n        </Typography>\n      );\n    }\n    else if (storeVoteCount === 1) {\n      return (\n        <Typography>\n          Thanks for introducing {store.username} to us. You will get 150 reward points when they launch on One Market.\n        </Typography>\n      );\n    }\n    else {\n      return(\n        <Typography>\n          Thanks for introducing {store.username} to us. You will get 150 reward points when they launch on One Market.\n        </Typography>\n      );\n    }\n  }\n\n  return (\n    <LootboxVotedCustomDialog onClose={handleClose} open={open} maxWidth=\"sm\">\n      {renderTitle()}\n      <DialogContent>\n        <Typography>\n          {renderMessage()}\n        </Typography>\n        \n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" onClick={handleClickDone}>Done</Button>\n      </DialogActions>\n    </LootboxVotedCustomDialog>\n  );\n}\n\nexport default LootboxVotedDialog;\n","import React, { useEffect, useState } from 'react'\n\nimport BackButton from '../components/common/BackButton'\nimport { TreasureIcon } from '../components/common/OneMarketIcons'\nimport PageHeader from '../components/common/PageHeader'\nimport useStyles from '../components/Lootbox/styles'\nimport LootboxVotes from '../components/Lootbox/LootboxVotes'\nimport { AllVotesDrawer } from '../components/Lootbox/LootboxVoteDrawer'\nimport { LootboxVotedDialog } from '../components/Lootbox/LootboxVotedDialog'\nimport LootboxThemeContextProvider from '../context/LootboxThemeContextProvider'\nimport { useAppDispatch, useAppSelector } from '../redux/hooks'\nimport { createVote, fetchStoresToVote, fetchVotedStores, fetchVoteRemaining } from '../redux/slice/vote/voteAction'\nimport { getUser } from '../redux/slice/auth/authSelector'\nimport { getStoresToVote, getStoreVoteCount, getVotedStores, getVotesRemaining } from '../redux/slice/vote/voteSelector'\nimport { Merchant } from \"../bos_common/src/types/MerchantType\";\n\nconst RenderMainComponent = () => {\n  const [drawerShown, setDrawerShown] = useState<boolean>(false);\n  const [voteDone, setVoteDone] = useState<boolean>(false);\n  const [votedStore, setVotedStore] = useState<Merchant>();\n  const classes = useStyles();\n  const dispatch = useAppDispatch();\n  const user = useAppSelector(getUser);\n  const storesToVote = useAppSelector(getStoresToVote);\n  const votedStores = useAppSelector(getVotedStores);\n  const voteStoreCount = useAppSelector(getStoreVoteCount);\n  const votesRemaining = useAppSelector(getVotesRemaining);\n\n  useEffect(() => {\n    if (user) {\n      dispatch(fetchStoresToVote());\n      dispatch(fetchVotedStores());\n      dispatch(fetchVoteRemaining());\n    }\n  }, [user]);\n\n  const handleVote = (merchant: Merchant): void => {\n    if (!user) {\n      return;\n    }\n\n    setVotedStore(merchant);\n    dispatch(\n      createVote({\n        merchant: merchant.id,\n      })\n    );\n    setVoteDone(true);\n  }\n\n  const handleClickSeeVotes = (): void => {\n    setDrawerShown(!drawerShown);\n  }\n\n  const handleCloseVoted = (): void => {\n    setVoteDone(false);\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className='content-container'>\n        <LootboxVotes \n          votable={false} \n          title=\"Voted\" \n          merchants={votedStores} \n          subtitle=\"You will earn 150 points upon each launch\" \n          totalVotes={2} \n          countTable={voteStoreCount} \n        />\n        <LootboxVotes \n          votable={true} \n          title=\"Stores to Vote Nearby\" \n          merchants={storesToVote} \n          subtitle=\"You get 10 votes every month\" \n          totalVotes={10} \n          onClickSeeVotes={handleClickSeeVotes} \n          onVote={handleVote} \n          countTable={voteStoreCount} \n        />\n      </div>\n      <AllVotesDrawer open={drawerShown} onClose={() => setDrawerShown(false)} onOpen={() => setDrawerShown(true)} anchor=\"bottom\" />\n      {votedStore && \n        <LootboxVotedDialog \n          open={voteDone} \n          onClose={handleCloseVoted} \n          votesRemaining={votesRemaining} \n          store={votedStore} \n          storeVoteCount={voteStoreCount[votedStore.id]}\n        />}\n    </div>\n  )\n}\n\nconst LootboxTitle = () => {\n  return (\n    <>\n      {TreasureIcon}&nbsp;Votes\n    </>\n  )\n}\n\nconst LootboxPage = (): JSX.Element => {\n  return (\n    <LootboxThemeContextProvider>\n      <div className=\"container\">\n        <PageHeader\n          title={<LootboxTitle />}\n          leftChild={<BackButton />}\n        />\n          <RenderMainComponent />\n      </div>\n    </LootboxThemeContextProvider>\n  )\n}\n\nexport default LootboxPage;","export default __webpack_public_path__ + \"static/media/Map-Marker.0040215c.svg\";","export default __webpack_public_path__ + \"static/media/Map-Marker-with-store-icon.1b579176.svg\";","import React from 'react';\nimport { Loader } from '@googlemaps/js-api-loader';\nimport { useHistory } from 'react-router';\nimport { Cluster, ClusterStats, MarkerClusterer } from \"@googlemaps/markerclusterer\";\n\nimport { StructuredAddress } from '../types/AddressType';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core';\n\nimport MapMarker from '../assets/icons/Map-Marker.svg';\nimport MapMarkerStore from '../assets/icons/Map-Marker-with-store-icon.svg';\n\nexport interface EmbededMapProps {\n  storeLocations: StructuredAddress[];\n  height: string;\n}\n\ntype LatLng = google.maps.LatLng | null | undefined;\n\nconst MapStyleArray = [\n  {\n    \"featureType\": \"administrative\",\n    \"elementType\": \"labels.text.fill\",\n    \"stylers\": [\n      {\n        \"color\": \"#444444\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"administrative.country\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"administrative.country\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"administrative.country\",\n    \"elementType\": \"geometry.fill\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"administrative.country\",\n    \"elementType\": \"geometry.stroke\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"administrative.province\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"administrative.locality\",\n    \"elementType\": \"labels\",\n    \"stylers\": [\n      {\n        \"hue\": \"#ffe500\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"color\": \"#f2f2f2\"\n      },\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.landcover\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"geometry.fill\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"geometry.stroke\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"labels\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"labels.text\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"labels.text.fill\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"labels.text.stroke\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"landscape.natural.terrain\",\n    \"elementType\": \"labels.icon\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"poi.attraction\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"poi.business\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"poi.place_of_worship\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"poi.school\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"simplified\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"road\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"saturation\": -100\n      },\n      {\n        \"lightness\": 45\n      },\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"road.highway\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"simplified\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"road.highway\",\n    \"elementType\": \"geometry.fill\",\n    \"stylers\": [\n      {\n        \"color\": \"#dad5c4\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"road.arterial\",\n    \"elementType\": \"labels.icon\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"transit\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"off\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"transit.station\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"simplified\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"transit.station.airport\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  },\n  {\n    \"featureType\": \"water\",\n    \"elementType\": \"all\",\n    \"stylers\": [\n      {\n        \"color\": \"#9bdffb\"\n      },\n      {\n        \"visibility\": \"on\"\n      }\n    ]\n  }\n]\n\nconst CustomClusterRenderer = {\n  render: function ({ count, position }: Cluster, stats: ClusterStats) {\n    return new google.maps.Marker({\n      position,\n      icon: {\n        url: MapMarker,\n        labelOrigin: new google.maps.Point(25, 18),\n        scaledSize: new google.maps.Size(50, 50),\n      },\n      label: {\n        text: String(count),\n        color: \"rgba(255,255,255,0.9)\",\n        fontSize: \"14px\",\n      },\n      // adjust zIndex to be above other markers\n      zIndex: Number(google.maps.Marker.MAX_ZINDEX) + count,\n    });\n  },\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&#embeded_map': {\n        '& .marker-label': {\n          backgroundColor: 'white',\n          padding: 5,\n          borderRadius: theme.spacing(1),\n          fontSize: 10\n        }\n      }\n    }\n  }),\n);\n\nexport const EmbededMap = (props: EmbededMapProps): JSX.Element => {\n  const loader = new Loader({\n    apiKey: \"AIzaSyBgGQDhX_mo4htOJF8cINNECCW9Pf9_eCY\",\n  });\n  const classes = useStyles()\n  const history = useHistory()\n  const { storeLocations } = props;\n  const [map, setMap] = React.useState<google.maps.Map | null>(null);\n  const [markers, setMarkers] = React.useState<google.maps.Marker[]>([]);\n  const [markerclusterer, setMarkerClusterer] = React.useState<MarkerClusterer | null>(null);\n\n  React.useEffect(() => {\n    loader.load().then(initMap);\n  }, []);\n\n  React.useEffect(() => {\n    if (!map) return;\n    const markerList = updateMarkers(storeLocations);\n    setMarkers([...markerList]);\n\n    if (markerList.length > 0) {\n      const position: LatLng = markerList[0].getPosition();\n      map?.setCenter(position as google.maps.LatLng);\n    }\n\n    setMarkerClusterer(\n      new MarkerClusterer({\n        map,\n        markers: markerList,\n        renderer: CustomClusterRenderer\n      }))\n  }, [storeLocations, map]);\n\n  const initMap = (): void => {\n    const center = new google.maps.LatLng({ lat: 37.78444200981738, lng: -122.40296933567062 });\n    const zoom = 11;\n\n    const map = new google.maps.Map(document.getElementById(\"embeded_map\") as HTMLElement, {\n      center,\n      zoom,\n      styles: MapStyleArray,\n      mapTypeControl: false,\n      zoomControl: false,\n      streetViewControl: false,\n      minZoom: zoom - 7,\n      disableDoubleClickZoom: true,\n      gestureHandling: 'greedy',\n      restriction: {\n        latLngBounds: {\n          north: 50,\n          south: 23,\n          east: -66,\n          west: -155,\n        },\n      },\n    });\n\n    setMap(map);\n\n  }\n\n  const updateMarkers = (storeLocations: StructuredAddress[]): google.maps.Marker[] => {\n    let marker = null;\n    const markerList: google.maps.Marker[] = [];\n\n    for (let i = 0; i < markers.length; i++) {\n      markers[i].setMap(null);\n    }\n\n    markerclusterer?.clearMarkers();\n    setMarkers([]);\n\n    storeLocations.forEach((item) => {\n      marker = new google.maps.Marker({\n        position: new google.maps.LatLng(item.lat as number, item.lng as number),\n        icon: {\n          url: MapMarkerStore,\n          labelOrigin: new google.maps.Point(25, 55),\n          scaledSize: new google.maps.Size(50, 50),\n        },\n        ...(item.title && {\n          label: {\n            text: item.title,\n            color: 'black',\n            fontSize: '12px',\n            className: 'marker-label'\n          }\n        })\n      });\n\n      if (item.id) {\n        marker.addListener('click', () => {\n          history.push({ pathname: `/${item.id}`, state: { from: window.location.pathname } })\n        })\n      }\n\n      marker.setMap(map);\n      markerList.push(marker);\n    });\n\n    return markerList;\n  }\n\n  return (<div id=\"embeded_map\" className={classes.root} style={{ height: props.height }}></div>);\n}\n\nexport default EmbededMap;\n","import React, { ChangeEvent, useMemo } from 'react';\nimport { TextField, styled, InputAdornment } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport debounce from 'debounce'\n\nconst StyledTextField = styled(TextField)(({ theme }) => ({\n  backgroundColor: 'white',\n  borderRadius: 8,\n  paddingLeft: 8,\n  '& .MuiInputBase-input': {\n    paddingLeft: theme.spacing(2),\n    borderLeft: `1px solid ${grey[200]}`,\n  },\n  \"& .MuiOutlinedInput-input\": {\n    padding: 12,\n  },\n  \"& .MuiOutlinedInput-root\": {\n    paddingLeft: 10,\n  },\n}))\n\ninterface StoreSearchBoxProps {\n  onChangeQuery: (q: string) => void;\n  placeholder?: string,\n  defaultValue?: string,\n  rightChild?: React.ReactNode,\n  leftChild?: React.ReactNode,\n}\n\n// let timeoutId: NodeJS.Timeout | null = null;\n\nexport const StoreSearchBox = (props: StoreSearchBoxProps): JSX.Element => {\n  const { onChangeQuery, placeholder = 'Search stores...', defaultValue = '', rightChild, leftChild } = props;\n\n  React.useEffect(() => {\n    return () => {\n      debouncedHandler.clear();\n    }\n  }, []);\n\n  const debouncedHandler = useMemo(() => debounce(onChangeQuery, 800), []);\n\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.trim();\n    if (value.length > 2 || value.length === 0) {\n      debouncedHandler(e.target.value);\n    }\n  }\n\n  return (\n    <StyledTextField\n      fullWidth\n      id=\"outlined-basic\"\n      placeholder={placeholder}\n      variant=\"outlined\"\n      defaultValue={defaultValue}\n      InputProps={{\n        ...(leftChild && {\n          startAdornment: (\n            <InputAdornment position=\"start\" >\n              {leftChild}\n            </InputAdornment>\n          )\n        }),\n        ...(rightChild && {\n          endAdornment: (\n            <InputAdornment position=\"end\" >\n              {rightChild}\n            </InputAdornment>\n          )\n        })\n      }}\n      onChange={handleInputChange}\n    />\n  );\n}\n\nexport default StoreSearchBox;\n","import React, { useMemo } from 'react';\nimport { Box, CssBaseline, Divider, Drawer, Typography, styled, Theme, Grid, } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\n\n// src\nimport { Merchant } from '../../services/models';\nimport StoreSearchBox from './StoreSearchBox';\nimport MerchantCard from '../MerchantCard';\nimport OneMarketIcon from '../../assets/icons/OneMarketIcon';\nimport { getSortedMerchantsListBasedOnStatus } from '../../utils';\nimport StoresListDetailed from './StoresListDetailed';\n\nconst drawerBleeding = 56;\n\ntype MaterialThemeObject = { theme: Theme }\n\nconst Root = styled('div')(({ theme }: MaterialThemeObject) => ({\n  height: '100%',\n  backgroundColor:\n    theme.palette.mode === 'light' ? 'transparent' : theme.palette.background.default,\n}));\n\nconst StyledBox = styled(Box)(({ theme }: MaterialThemeObject) => ({\n  backgroundColor: theme.palette.mode === 'light' ? '#fff' : grey[800],\n}));\n\nconst StyledDrawer = styled(Drawer)(({ theme }: MaterialThemeObject) => ({\n  '&.MuiDrawer-root > .MuiPaper-root': {\n    height: `calc(60% - ${drawerBleeding}px)`,\n    position: 'relative',\n    overflow: 'visible',\n    paddingTop: theme.spacing(2),\n    borderRadius: theme.spacing(1),\n  }\n}))\n\ninterface StoreSearchDrawerProps {\n  stores: Merchant[];\n  onChangeQuery: (q: string) => void;\n}\n\nexport const StoreSearchDrawer = (props: Readonly<StoreSearchDrawerProps>): JSX.Element => {\n  const { stores, onChangeQuery } = props;\n  const container = document.body;\n\n  // Sort Merchant: Show online merchants at start\n  const filteredStoresList = useMemo(() => getSortedMerchantsListBasedOnStatus(stores || []), [stores]);\n\n  return (\n    <Root>\n      <CssBaseline />\n      <StyledDrawer\n        container={container}\n        anchor=\"bottom\"\n        open={true}\n        hideBackdrop\n        ModalProps={{\n          keepMounted: true,\n        }}\n        variant=\"permanent\"\n      >\n        <StyledBox\n          sx={{\n            px: 2,\n            pb: 2,\n            height: '100%',\n            overflow: 'auto',\n          }}\n        >\n          <StoreSearchBox onChangeQuery={onChangeQuery} leftChild={<OneMarketIcon sx={{ width: 24, height: 24 }} />} />\n\n          <Divider sx={{ margin: '1rem 0' }} />\n\n          <Typography sx={{ fontSize: '0.825rem', fontWeight: 'bold', }} gutterBottom>\n            {filteredStoresList.length} results\n          </Typography>\n\n          <StoresListDetailed merchants={filteredStoresList} />\n        </StyledBox>\n      </StyledDrawer>\n    </Root>\n  );\n}\n\nexport default StoreSearchDrawer;\n","import React, { SyntheticEvent } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { Box, createStyles, Fab } from '@material-ui/core';\nimport { useHistory } from 'react-router';\nimport { Filter } from '@material-ui/icons';\n\nimport { FullscreenPaper } from '../bos_common/src';\nimport { Merchant } from '../bos_common/src/types/MerchantType';\nimport { StructuredAddress } from '../bos_common/src/types/AddressType';\nimport { EmbededMap } from '../bos_common/src/components/EmbededMap';\nimport { FabContainer } from '../bos_common/src/components/FabContainers';\n\nimport PageHeader from '../components/common/PageHeader';\nimport BackButton from '../components/common/BackButton';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { searchMerchantByName, searchQueryUpdated } from '../redux/slice/merchant/action';\nimport { getFilteredMerchants, getMerchantLoadingState } from '../redux/slice/merchant/merchantSelector';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport StoreSearchDrawer from '../components/Stores/StoreSearchDrawer';\n\nconst useStyles = makeStyles(() => createStyles({\n  root: {\n    '& .fab': {\n      zIndex: 9999,\n    },\n  },\n}));\n\ninterface EllipsFABProps {\n  onClick?: (e: SyntheticEvent) => void\n}\n\nconst EllipsFAB = (props: Readonly<EllipsFABProps>): JSX.Element => {\n  const { onClick } = props;\n\n  return (\n    <FabContainer alignment='right'>\n      <Fab variant=\"extended\"\n        sx={{ backgroundColor: 'rgba(0,0,0,0.1)', color: '#FFF' }}\n        onClick={onClick}>\n        <Filter />&nbsp;Filters\n      </Fab>\n    </FabContainer>\n  );\n}\n\nconst MapSearchPageHeader = (): JSX.Element => {\n  const history = useHistory();\n\n  const handleBack = () => {\n    history.goBack();\n  }\n\n  return (\n    <PageHeader\n      title={\"Map Search\"}\n      leftChild={<BackButton onBack={handleBack} />}\n    />\n  );\n}\n\nexport const MapSearchPage = (): JSX.Element => {\n  const [storeLocations, setStoreLocations] = React.useState<StructuredAddress[]>();\n  const dispatch = useAppDispatch();\n  const stores: Merchant[] = useAppSelector(getFilteredMerchants);\n  const isFetchingMerchants: boolean = useAppSelector(getMerchantLoadingState);\n  const classes = useStyles();\n\n  React.useEffect(() => {\n    dispatch(searchMerchantByName(''));\n  }, [])\n\n  React.useEffect(() => {\n    if (isFetchingMerchants) return;\n    const storeLocations: StructuredAddress[] = stores\n      .filter((item) => item.structuredAddress && item.structuredAddress.lat && item.structuredAddress.lng && item.structuredAddress.country === 'US')\n      .map<StructuredAddress>((item) => ({ ...item.structuredAddress, title: item.officialName, subtitle: item.description, id: item.username } || {}));\n\n    setStoreLocations([...storeLocations]);\n  }, [stores, isFetchingMerchants]);\n\n  const handleChangeQuery = (query: string): void => {\n    dispatch(searchQueryUpdated(query));\n    dispatch(searchMerchantByName(query));\n  }\n\n  return (\n    <Box>\n      <FullscreenPaper className={classes.root}>\n        <MapSearchPageHeader />\n        <SimpleLoader loading={isFetchingMerchants} />\n        <EmbededMap storeLocations={storeLocations || []} height={\"400px\"} />\n        <StoreSearchDrawer stores={stores} onChangeQuery={handleChangeQuery} />\n        {/* <EllipsFAB /> */}\n      </FullscreenPaper>\n    </Box>\n  );\n}\n\nexport default MapSearchPage;\n","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction OpenNowIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 12, height: 16 }} viewBox=\"0 0 12 16\" {...props} >\n\n      <path d=\"M4.46661 15.0963C4.5533 15.1642 4.65434 15.2114 4.76202 15.2342C4.86971 15.2571 4.98119 15.2551 5.08797 15.2283L10.8883 13.7782C11.0453 13.7392 11.1847 13.6487 11.2843 13.5213C11.3839 13.3938 11.438 13.2367 11.4379 13.0749V2.92433C11.4379 2.7626 11.3837 2.60552 11.2842 2.47809C11.1846 2.35065 11.0452 2.26017 10.8883 2.22103L5.08797 0.770949C4.98115 0.744738 4.86977 0.743101 4.76222 0.766162C4.65467 0.789222 4.55375 0.836379 4.46706 0.904083C4.38037 0.971786 4.31017 1.05827 4.26174 1.15703C4.21332 1.25579 4.18792 1.36425 4.18747 1.47424V2.19928H1.2873C1.09501 2.19928 0.910588 2.27567 0.774616 2.41164C0.638644 2.54762 0.562256 2.73203 0.562256 2.92433V13.0749C0.562256 13.2672 0.638644 13.4516 0.774616 13.5876C0.910588 13.7236 1.09501 13.8 1.2873 13.8H4.18747V14.525C4.18747 14.7483 4.29043 14.9593 4.46661 15.0963ZM5.63755 2.40302L9.98781 3.49058V12.5087L5.63755 13.5962V2.40302ZM2.01234 12.3499V3.64937H4.18747V12.3499H2.01234Z\" />\n      <path d=\"M7.2633 8.83995C7.58666 8.75874 7.81288 8.46873 7.81288 8.13593V7.86259C7.81278 7.6703 7.7363 7.48592 7.60026 7.35001C7.46422 7.21411 7.27977 7.13781 7.08747 7.13791C6.89518 7.13801 6.7108 7.21449 6.5749 7.35053C6.43899 7.48657 6.3627 7.67102 6.36279 7.86332V8.13666C6.36282 8.24679 6.38794 8.35547 6.43624 8.45444C6.48455 8.55342 6.55476 8.64009 6.64156 8.70788C6.72835 8.77567 6.82945 8.82279 6.93718 8.84568C7.04491 8.86856 7.15644 8.8666 7.2633 8.83995Z\" />\n\n    </SvgIcon>\n  );\n}\n\nexport default OpenNowIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction AmericanIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M7.781 7.125h1.094a.437.437 0 000-.875H7.78a1.095 1.095 0 000 2.187h.437a.219.219 0 010 .438H7.125a.438.438 0 000 .875h1.093a1.095 1.095 0 000-2.188h-.437a.219.219 0 010-.437zM11.5 6.25c-.724 0-1.313.589-1.313 1.312v1.75a.438.438 0 00.876 0v-.437h.874v.437a.437.437 0 10.876 0v-1.75c0-.723-.59-1.312-1.313-1.312zM11.062 8v-.438a.438.438 0 01.876 0V8h-.876zM5.375 6.25a.438.438 0 00-.437.437v1.75a.438.438 0 01-.875 0v-1.75a.438.438 0 00-.875 0v1.75c0 .724.589 1.313 1.312 1.313.724 0 1.313-.589 1.313-1.313v-1.75a.437.437 0 00-.438-.437z\" />\n      <path d=\"M14.99 7.604a7 7 0 10-13.98.793 7 7 0 0013.98-.793zm-1.356 2.802H2.366a6.142 6.142 0 010-4.812h11.268a6.138 6.138 0 010 4.812zm-2.79 3.02a6.034 6.034 0 01-1.303.503c-.015.004-.01.208-.01-2.648h1.313v2.145zm-4.375.506a6.054 6.054 0 01-1.303-.501c-.014-.007-.01.155-.01-2.15H6.47v2.65zM8 1.875a6.168 6.168 0 015.172 2.844H2.828A6.168 6.168 0 018 1.875zM2.826 11.28h1.455v1.587a6.105 6.105 0 01-1.455-1.587zm4.518 2.808v-2.808h1.312v2.808a6.245 6.245 0 01-1.312 0zm4.375-1.221V11.28h1.455a6.104 6.104 0 01-1.455 1.587z\" />\n      <path d=\"M10.406 4.062a.437.437 0 100-.875.437.437 0 000 .875zM8 3.625a.437.437 0 100-.875.437.437 0 000 .875zM5.594 4.062a.437.437 0 100-.875.437.437 0 000 .875z\" />\n    </SvgIcon>\n  );\n}\n\nexport default AmericanIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ChineseIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M13.95 9.866l.003-.049a1.652 1.652 0 001.297-1.63c0-.453-.177-.874-.488-1.187a1.688 1.688 0 00-.812-2.231 1.688 1.688 0 00-1.526-1.82 1.688 1.688 0 00-2.057-1.187c-.546-.774-1.603-.928-2.39-.408a1.688 1.688 0 00-2.344.408A1.688 1.688 0 003.577 2.95 1.688 1.688 0 002.05 4.769 1.688 1.688 0 001.238 7a1.692 1.692 0 00-.15 2.203c.236.317.581.532.96.614l.002.05a1.688 1.688 0 00-.812 2.23 1.692 1.692 0 00-.15 2.204 1.627 1.627 0 001.75.585 18.587 18.587 0 0110.223-.029c.6.17 1.252-.022 1.663-.492.253-.29.526-.751.526-1.08 0-.453-.177-.874-.488-1.188a1.688 1.688 0 00-.812-2.23zM1.768 8.695a.843.843 0 01.247-1.233.425.425 0 00.112-.63.84.84 0 01.495-1.363.425.425 0 00.32-.555.84.84 0 01.933-1.11.425.425 0 00.49-.413.84.84 0 011.256-.725c.226.125.51.022.603-.219a.84.84 0 011.427-.252c.17.195.472.195.641 0 .38-.436 1.227-.418 1.485.252.092.241.377.344.602.22a.84.84 0 011.256.724.425.425 0 00.49.412.84.84 0 01.932 1.11.425.425 0 00.321.556.84.84 0 01.496 1.362c-.163.2-.11.499.111.632.26.156.415.427.415.724 0 .372-.24.713-.616.798a1.677 1.677 0 00-1.36-.938 1.688 1.688 0 00-2.057-1.187c-.546-.774-1.603-.928-2.39-.409a1.688 1.688 0 00-2.344.409 1.688 1.688 0 00-2.056 1.187 1.686 1.686 0 00-1.36.938.773.773 0 01-.449-.29zm12.316 5.111a.773.773 0 01-.79.234 19.287 19.287 0 00-5.35-.73 19.304 19.304 0 00-5.344.76.773.773 0 01-.832-.277.843.843 0 01.247-1.233.425.425 0 00.112-.631.842.842 0 01.495-1.363.425.425 0 00.321-.555.84.84 0 01.793-1.121c.14 0 .3.065.478-.083a.425.425 0 00.152-.318.84.84 0 011.255-.725c.226.125.51.021.603-.22a.84.84 0 011.427-.251c.17.195.472.194.641 0 .38-.436 1.227-.419 1.485.252.092.24.377.344.602.219a.84.84 0 011.256.725.425.425 0 00.49.412.84.84 0 01.932 1.11.425.425 0 00.321.556.84.84 0 01.496 1.362c-.163.2-.11.498.111.631.256.154.41.42.415.712-.015.072-.12.31-.316.534z\" />\n      <path d=\"M11.767 10.055A4.674 4.674 0 008 8.187a4.674 4.674 0 00-3.766 1.868.425.425 0 10.68.51A3.839 3.839 0 018 9.026c1.264 0 2.378.597 3.088 1.54a.425.425 0 00.679-.51zM11.767 4.958A4.674 4.674 0 008 3.09a4.674 4.674 0 00-3.766 1.868.425.425 0 10.68.51A3.839 3.839 0 018 3.928c1.266 0 2.38.599 3.088 1.54a.425.425 0 00.679-.51z\" />\n    </SvgIcon>\n  );\n}\n\nexport default ChineseIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction TacoIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M14.95 7.84c-.528-2.77-2.32-4.631-4.459-4.631-3.178 0-5.668 3.683-5.668 8.385 0 1.246-.769 1.814-1.483 1.814-.719 0-1.444-.553-1.444-1.786 0-3.397 1.04-5.919 2.927-7.102a.448.448 0 00-.476-.76C2.188 5.115 1 7.906 1 11.623c0 1.76 1.177 2.682 2.34 2.682 1.182 0 2.38-.931 2.38-2.71 0-4.2 2.095-7.49 4.771-7.49 1.696 0 3.133 1.57 3.578 3.904.102.532.03.954-.647 1.285-.614.3-7.157 3.39-7.223 3.421a.448.448 0 10.382.81c.27-.127 6.615-3.123 7.235-3.426.95-.464 1.33-1.224 1.133-2.257z\" />\n      <path d=\"M4.163 5.55c-.279.461-.129 1.016-.009 1.462.041.152.103.382.097.44-.043.128-.278.23-.506.33-.355.153-.84.364-.947.894-.109.548.243.995.526 1.354.126.16.336.426.323.522-.04.285-.39.495-.652.476a.448.448 0 10-.06.894c.032.002.064.004.096.004.73 0 1.407-.553 1.504-1.25.065-.475-.239-.86-.507-1.2-.169-.215-.38-.482-.35-.624.013-.07.27-.182.424-.248.35-.152.828-.36.998-.865.1-.293.012-.618-.08-.961-.068-.251-.17-.631-.09-.766.04-.064.164-.101.235-.117.85-.192 1.356-.743 1.387-1.51.012-.297.028-.703.178-.833.09-.078.286-.105.557-.078.431.045 1.083.114 1.546-.284.144-.124.247-.255.339-.37.162-.206.195-.227.262-.228.023-.002.088-.001.214.223a.449.449 0 00.78-.441c-.096-.17-.396-.685-1.005-.678-.51.007-.767.331-.955.568-.072.092-.14.179-.22.246-.17.147-.574.104-.875.073-.536-.057-.938.04-1.23.292-.443.383-.468 1.013-.487 1.473-.005.143-.02.522-.688.673-.374.084-.644.262-.805.529z\" />\n    </SvgIcon>\n  );\n}\n\nexport default TacoIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction OutlineHotpotIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M15.978 6.588a5.183 5.183 0 00-5.155-4.706H8a.471.471 0 010-.94h3.765V0H8c-.778 0-1.412.633-1.412 1.412 0 .778.634 1.412 1.412 1.412h.47a2.827 2.827 0 002.824 2.823c.614 0 1.137.394 1.33.941H0v2.353a5.182 5.182 0 005.176 5.177h.86a1.414 1.414 0 01-1.33.94h-.941V16h8.47v-.941h-.94a1.414 1.414 0 01-1.332-.941h.86A5.182 5.182 0 0016 8.94V6.588h-.022zM9.412 2.824c1.35.007 1.492-.018 1.882.026v1.856a1.884 1.884 0 01-1.882-1.882zm2.823 2.079V3.066c.664.235 1.251.63 1.716 1.14l-1.094 1.095a2.357 2.357 0 00-.622-.398zm1.19 1.16l1.086-1.085c.275.485.457 1.03.522 1.61H13.6a2.326 2.326 0 00-.175-.524zM9.413 15.06H6.587c.206-.274.354-.594.424-.941H8.99c.07.347.218.667.424.94zm1.41-1.882H5.176A4.241 4.241 0 01.967 9.412h14.066a4.241 4.241 0 01-4.21 3.764zM15.06 8.47H.94v-.942H15.06v.942z\" />\n      <path d=\"M2.845 4.685c.164.003 1.771.225 2.378-.382.483-.483.438-1.634.413-1.975l-.03-.404c-.256-.014-1.788-.209-2.38.382-.482.483-.437 1.633-.411 1.974l.03.405zm1.047-1.713c.089-.08.434-.137.814-.148-.01.378-.068.722-.148.813-.09.08-.434.137-.813.148.01-.38.068-.725.147-.813zM7.059 4.235H8v.942h-.941v-.942zM.941 1.412h.941v.94h-.94v-.94zM.941 4.706h.941v.941h-.94v-.941z\" />\n    </SvgIcon>\n  );\n}\n\nexport default OutlineHotpotIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction JapaneseFoodIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M12.257 12.52c.174-.274.275-.599.275-.947V7.882h-2.33v-1.15c0-.833-.362-1.599-.986-2.122.257-.429.395-.922.395-1.427V1H4.059v2.183c0 .505.138.998.395 1.427a2.752 2.752 0 00-.986 2.122v5.789h-1.73v.41c0 1.14.928 2.069 2.069 2.069h8.386c1.141 0 2.07-.928 2.07-2.07v-.41h-2.006zm-9.63.821h10.746c-.17.488-.635.839-1.18.839H3.807c-.545 0-1.01-.351-1.18-.839zM4.88 1.821h3.912v1.362c0 .4-.124.79-.35 1.116H5.23a1.957 1.957 0 01-.35-1.116V1.82zm.259 3.299h3.394c.534.365.85.96.85 1.612v1.15H6.95v3.69c0 .35.101.674.275.949H4.289V6.732c0-.652.315-1.247.849-1.612zm6.573 6.453c0 .483-.36.883-.825.948h-2.29a.958.958 0 01-.826-.948V8.702h3.941v2.87z\" />\n    </SvgIcon>\n  );\n}\n\nexport default JapaneseFoodIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction FishIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M10.375 2.813h-8.5a.939.939 0 010-1.876h7.063a.469.469 0 000-.937H1.875A1.877 1.877 0 000 1.875C0 2.909.841 3.75 1.875 3.75h.96c.029.32.088.633.176.938H1.406a.469.469 0 000 .937h1.98a5.25 5.25 0 004.645 2.813h1.954c.732 0 1.328.595 1.328 1.326 0 .806-.289 1.003-2.915 2.554-.302.178-.632.373-.991.587a2.347 2.347 0 00-2.22-1.592H4.25a.469.469 0 00-.469.468c0 .766.37 1.447.94 1.875-.57.428-.94 1.11-.94 1.875 0 .26.21.469.469.469h.938a2.348 2.348 0 002.296-1.875h.137c2.41 0 5.271-.103 6.979-1.809.929-.927 1.4-2.232 1.4-3.879a5.632 5.632 0 00-5.625-5.624zm-6.598.937H8.5c1.034 0 1.875.841 1.875 1.875A1.877 1.877 0 018.5 7.5h-.469c-2.2 0-4.017-1.644-4.254-3.75zm6.755 3.817a2.803 2.803 0 00.067-3.812 4.697 4.697 0 014.185 3.09A2.802 2.802 0 0111.791 8.4a2.27 2.27 0 00-1.259-.833zm.613 4.147c.295.386.662.71 1.077.955-1.056.363-2.281.473-3.431.505l.084-.049c1.048-.619 1.77-1.045 2.27-1.411zm-6.346.536h.388c.612 0 1.133.392 1.326.938h-.388a1.409 1.409 0 01-1.326-.938zm.388 2.813H4.8a1.41 1.41 0 011.326-.939h.388a1.41 1.41 0 01-1.325.938zm8.75-3.41a3.72 3.72 0 01-.602.484 2.817 2.817 0 01-1.495-1.06c.29-.368.41-.767.41-1.313 0-.133-.012-.263-.034-.39a3.736 3.736 0 002.836-1.253c.007.105.01.21.01.316 0 1.408-.368 2.46-1.125 3.216z\" />\n      <path d=\"M7.063 5.625a.469.469 0 100-.938.469.469 0 000 .938z\" />\n    </SvgIcon>\n  );\n}\n\nexport default FishIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction PizzaIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M14.996 10.434c0-2.454-.999-4.79-2.814-6.582C10.437 2.131 8.08 1.075 5.577 1a.409.409 0 00-.403.287L1.02 14.467a.41.41 0 00.492.52l13.176-3.335a.41.41 0 00.309-.377c.008-.17 0-.68 0-.841zM4.552 5.987a.82.82 0 11-.493 1.565l.493-1.565zm6.313 5.786l-1.495.379a.82.82 0 111.495-.379zm1.614-.409l-.796.202a1.642 1.642 0 00-1.634-1.515 1.642 1.642 0 00-1.498 2.308l-6.529 1.653 1.79-5.678A1.643 1.643 0 005.948 6.77c0-.734-.484-1.356-1.149-1.566l.549-1.74c3.943-.12 7.188 3.054 7.188 6.97 0 .463-.057.93-.057.93zm.845-.213c.417-4.561-3.168-8.486-7.717-8.51l.254-.806c4.613.295 8.315 4.09 8.315 8.599l.004.5-.857.217z\" />\n      <path d=\"M8.408 5.128c-.904 0-1.64.736-1.64 1.64 0 .904.736 1.64 1.64 1.64.905 0 1.64-.736 1.64-1.64 0-.904-.735-1.64-1.64-1.64zm0 2.46a.821.821 0 010-1.64.821.821 0 010 1.64zM5.948 9.228c-.905 0-1.64.736-1.64 1.64 0 .905.735 1.64 1.64 1.64.904 0 1.64-.735 1.64-1.64 0-.904-.736-1.64-1.64-1.64zm0 2.46a.821.821 0 010-1.64.821.821 0 010 1.64z\" />\n    </SvgIcon>\n  );\n}\n\nexport default PizzaIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction SteakIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      {/* <path d=\"M4.93336 0.333313C2.33336 0.333313 0.266689 2.59998 0.333356 5.19998C0.400022 6.93331 1.40002 8.39998 2.80002 9.13331C3.73336 9.59998 4.33336 10.5333 4.33336 11.5333V11.6666C4.33336 12.8 5.20002 13.6666 6.33336 13.6666C9.00002 13.6666 9.66669 10.3333 9.66669 4.99998C9.66669 4.99998 9.66669 0.333313 4.93336 0.333313ZM6.33336 12.3333C5.93336 12.3333 5.66669 12.0666 5.66669 11.6666V11.5333C5.66669 10.0666 4.80002 8.66665 3.46669 7.93331C2.40002 7.39998 1.73336 6.33331 1.66669 5.13331C1.66669 4.26665 2.00002 3.33331 2.60002 2.66665C3.20002 1.99998 4.06669 1.66665 4.86669 1.66665C8.13336 1.66665 8.33336 4.46665 8.33336 4.99998C8.33336 11.6 7.20002 12.3333 6.33336 12.3333ZM7.53336 4.06665L2.53336 5.86665C2.40002 5.66665 2.33336 5.39998 2.33336 5.06665C2.33336 4.59998 2.46669 4.19998 2.66669 3.73331L6.13336 2.46665C6.93336 2.86665 7.33336 3.46665 7.53336 4.06665ZM5.60002 9.06665L7.46669 8.39998C7.40002 9.39998 7.20002 10.1333 7.06669 10.6L6.20002 10.9333C6.20002 10.2666 6.00002 9.66665 5.60002 9.06665ZM7.66669 5.13331C7.66669 5.93331 7.66669 6.66665 7.60002 7.26665L4.93336 8.26665C4.60002 7.93331 4.20002 7.59998 3.73336 7.39998C3.46669 7.26665 3.20002 7.06665 3.00002 6.86665L7.66669 5.13331Z\" /> */}\n      <g clipPath=\"url(#clip0_8881_45195)\">\n        <path d=\"M14.142 5.41a.473.473 0 00-.473-.473H2.332a.473.473 0 00-.474.474 6.148 6.148 0 003.427 5.508l-.865 4.519a.473.473 0 10.93.178l.406-2.122h4.488l.406 2.122a.473.473 0 10.93-.178l-.866-4.52a6.149 6.149 0 003.428-5.507zm-8.205 7.137l.243-1.27a6.121 6.121 0 001.82.275c.633 0 1.244-.096 1.82-.275l.243 1.27H5.937zM8 10.606a5.202 5.202 0 01-5.174-4.722h10.348A5.202 5.202 0 018 10.606zM6.183 2.444c.111-.114.38-.427.474-.868.078-.363.058-.908-.48-1.44a.473.473 0 10-.665.674c.253.25.247.443.22.567a.917.917 0 01-.227.407c-.111.114-.38.427-.474.867-.078.364-.058.909.48 1.44a.472.472 0 00.67-.005.473.473 0 00-.005-.669c-.253-.25-.247-.443-.22-.567a.918.918 0 01.227-.406zM8.34 2.444c.11-.114.379-.427.473-.868.078-.363.058-.908-.48-1.44a.473.473 0 10-.665.674c.253.25.247.443.22.567a.917.917 0 01-.227.407c-.111.114-.38.427-.474.867-.078.364-.058.909.48 1.44a.472.472 0 00.67-.005.473.473 0 00-.005-.669c-.253-.25-.247-.443-.22-.567a.918.918 0 01.227-.406zM10.495 2.444c.111-.114.38-.427.474-.868.079-.363.059-.908-.48-1.44a.473.473 0 10-.665.674c.253.25.247.443.22.567a.917.917 0 01-.227.407c-.111.114-.38.427-.474.867-.078.364-.058.909.48 1.44a.472.472 0 00.67-.005.473.473 0 00-.005-.669c-.253-.25-.247-.443-.22-.567a.917.917 0 01.227-.406z\" />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_8881_45195\">\n          <path fill=\"#fff\" d=\"M0 0h16v16H0z\" />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default SteakIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction BowlIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M12.146 9.332c.079-.179.145-.363.198-.553l.119-.425-1.32-.367a3.98 3.98 0 001.508-3.223l-.013-.44-2.316.065 2.427-3.005-.685-.554-2.901 3.592-.905.025L9.73.832 8.914.5 7.3 4.465l.02.009-4.37.122.012.44c.008.297.049.588.121.87l-.076.272a3.973 3.973 0 00.442 3.154v.44a3.972 3.972 0 002.643 3.739V15.5h4.406v-1.99a3.972 3.972 0 002.644-3.738v-.44h-.995zM11.75 5.23a3.096 3.096 0 01-1.752 2.438l-5.962-1.66a3.059 3.059 0 01-.15-.556l7.864-.222zM3.768 6.848l7.58 2.11a3.033 3.033 0 01-.196.373H4.557a3.095 3.095 0 01-.79-2.483zm5.848 7.77H6.972v-.905c.145.016.292.025.441.025h1.762c.15 0 .296-.009.441-.025v.906zm-.44-1.762H7.412a3.09 3.09 0 01-3.053-2.643h7.868a3.09 3.09 0 01-3.053 2.643z\" />\n    </SvgIcon>\n  );\n}\n\nexport default BowlIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction RiceBowlIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M14.59 6.742h-.452a2.054 2.054 0 00-.591-1.069c.155-.533.09-1.11-.192-1.597a2.049 2.049 0 00-1.287-.964 2.05 2.05 0 00-.964-1.288 2.05 2.05 0 00-1.598-.19A2.049 2.049 0 008.027 1c-.57 0-1.14.242-1.53.634a2.05 2.05 0 00-1.6.19 2.05 2.05 0 00-.965 1.288 2.05 2.05 0 00-1.287.964 2.05 2.05 0 00-.192 1.597 2.054 2.054 0 00-.59 1.07H1.41a.41.41 0 00-.41.41 6.984 6.984 0 003.281 5.913v.704c0 .678.552 1.23 1.23 1.23h4.977c.679 0 1.23-.552 1.23-1.23v-.704A6.984 6.984 0 0015 7.152a.41.41 0 00-.41-.41zm-11.416-.6a.41.41 0 00.137-.513 1.232 1.232 0 01.044-1.143c.201-.348.563-.576.967-.609a.41.41 0 00.375-.375c.034-.405.261-.766.61-.967a1.232 1.232 0 011.142-.044.41.41 0 00.512-.138c.221-.318.65-.533 1.066-.533.402 0 .78.2 1.012.533a.41.41 0 00.512.138 1.232 1.232 0 011.142.044c.348.2.576.562.61.967a.41.41 0 00.375.375c.404.033.766.261.967.61.201.348.217.775.044 1.142a.41.41 0 00.137.512c.216.15.376.362.462.601H2.712c.086-.24.245-.451.462-.6zm7.724 7.628a.41.41 0 01-.41.41H5.512a.41.41 0 01-.41-.41v-.465h5.796v.465zm.194-1.286H4.907a6.175 6.175 0 01-3.073-4.927h12.332a6.175 6.175 0 01-3.074 4.927z\" />\n      <path d=\"M9.668 5.102a.41.41 0 100-.82.41.41 0 000 .82zM11.309 5.922a.41.41 0 100-.82.41.41 0 000 .82zM4.691 5.102a.41.41 0 100-.82.41.41 0 000 .82z\" />\n    </SvgIcon>\n  );\n}\n\nexport default RiceBowlIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CocktailIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M8 11.691a.41.41 0 01-.338-.177L3.287 5.17a.41.41 0 01.338-.643h8.75a.41.41 0 01.338.643l-4.375 6.344a.41.41 0 01-.338.177zM4.406 5.348L8 10.558l3.594-5.21H4.406z\" />\n      <path d=\"M8 15a.41.41 0 01-.41-.41V11.28a.41.41 0 01.82 0v3.309A.41.41 0 018 15z\" />\n      <path d=\"M11.063 15H4.936a.41.41 0 110-.82h6.125a.41.41 0 110 .82zM8 8.848a.41.41 0 01-.367-.593l3.5-7.028a.41.41 0 11.734.366l-3.5 7.027A.41.41 0 018 8.848z\" />\n      <path d=\"M10.583 7.945a.408.408 0 01-.227-.069l-.615-.41a.77.77 0 00-.857 0 1.589 1.589 0 01-1.768 0 .77.77 0 00-.857 0l-.615.41a.41.41 0 11-.455-.682l.615-.41a1.589 1.589 0 011.767 0 .77.77 0 00.858 0 1.589 1.589 0 011.767 0l.615.41a.41.41 0 01-.228.751z\" />\n    </SvgIcon>\n  );\n}\n\nexport default CocktailIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction BurgerIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M12.897 2.782c-1.111-.656-2.58-1.017-4.132-1.017h-1.28c-1.553 0-3.02.36-4.132 1.017C2.158 3.486 1.5 4.452 1.5 5.5V6h13.25v-.5c0-1.048-.658-2.014-1.853-2.718zM2.587 5c.443-1.254 2.506-2.235 4.898-2.235h1.28c2.392 0 4.455.981 4.898 2.235H2.588zM1.5 9.5h13.25v1H1.5v-1zM12.1 7.001c-.775 0-1.18.192-1.538.36-.314.148-.562.265-1.112.265s-.798-.117-1.112-.264c-.358-.17-.764-.36-1.538-.36-.775 0-1.18.19-1.538.36-.314.147-.562.264-1.112.264s-.798-.117-1.112-.264c-.358-.17-.763-.36-1.538-.36v1c.55 0 .798.116 1.112.264.358.169.763.36 1.538.36.774 0 1.18-.191 1.538-.36C6.002 8.118 6.25 8 6.8 8c.55 0 .798.117 1.112.265.358.169.763.36 1.538.36.774 0 1.18-.191 1.538-.36C11.302 8.118 11.55 8 12.1 8c.55 0 .798.117 1.112.265.358.169.764.36 1.538.36v-1c-.55 0-.798-.117-1.112-.264-.358-.17-.764-.36-1.538-.36zM1.5 14a.751.751 0 00.75.75H14a.75.75 0 00.75-.75v-2.5H1.5V14zm1-1.5h11.25v1.25H2.5V12.5z\" />\n    </SvgIcon>\n  );\n}\n\nexport default BurgerIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction BurritoIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M8.384 1.196l-.143.083a3.978 3.978 0 00-1.5-.268c-1.692.02-3.054 1.031-3.899 1.876C1.31 4.422.994 5.843 1 6.765c.004.668.173 1.181.296 1.467l-.079.136 8.7 6.62.17-.233c.843-.145 1.932-.808 2.902-1.779.97-.97 1.633-2.06 1.777-2.903L15 9.902 8.384 1.196zM1.951 7.292a3.083 3.083 0 01-.05-.583c.01-1.075.542-2.147 1.579-3.185 1.04-1.04 2.123-1.582 3.221-1.61.217-.007.414.01.585.036a6.544 6.544 0 00-.587.572c-.194-.019-.389.032-.54.071-.074.02-.144.038-.204.048-.027.003-.106-.007-.158-.013-.204-.024-.484-.058-.763.086-.22.113-.342.307-.441.464a.96.96 0 01-.136.186 1.06 1.06 0 01-.18.06c-.183.052-.412.116-.597.301-.186.186-.25.414-.3.597-.018.061-.044.154-.06.179a.938.938 0 01-.188.137c-.156.099-.35.222-.464.441-.143.28-.11.559-.085.763.006.053.016.132.013.156-.01.062-.029.132-.048.207-.039.15-.09.342-.072.536-.204.19-.38.379-.525.551zm4.008-3.75c-.208.37-.383.786-.49 1.247a4.442 4.442 0 00-.095.567 4.617 4.617 0 00-1.877.62c0-.085-.01-.166-.02-.241a.99.99 0 01-.01-.234c.027-.026.098-.07.146-.101.133-.084.299-.188.425-.355.118-.156.168-.335.209-.48a1 1 0 01.07-.203c.031-.022.134-.05.203-.07.144-.04.324-.09.48-.209.167-.126.271-.292.355-.425.03-.048.075-.118.1-.147.046-.011.167.003.234.012.084.01.175.02.27.019zm3.747 10.155L2.42 8.15c.426-.568 1.447-1.697 2.956-1.888.09.898.444 1.818 1.06 2.749.898 1.355 2.038 2.165 3.39 2.407.24.043.477.066.71.073-.163.94-.565 1.75-.829 2.205zm2.646-1.358a7.003 7.003 0 01-1.538 1.189 7.27 7.27 0 00.64-2.086 7.233 7.233 0 002.085-.641 7.008 7.008 0 01-1.188 1.538zm-2.368-1.807c-1.1-.197-2.041-.875-2.797-2.017-.815-1.23-1.098-2.413-.843-3.513.303-1.308 1.3-2.208 1.823-2.603l5.542 7.293c-.685.4-2.183 1.116-3.725.84z\" />\n    </SvgIcon>\n  );\n}\n\nexport default BurritoIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CoffeeCupIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M13.183 8.4h-.968l.051-1.073a.445.445 0 00-.444-.466h-9.79a.445.445 0 00-.445.466l.197 4.146a2.625 2.625 0 001.558 2.277H1.445a.445.445 0 000 .89h11.026a.445.445 0 000-.89h-1.96a2.627 2.627 0 001.47-1.715h1.202A1.82 1.82 0 0015 10.217 1.82 1.82 0 0013.183 8.4zm-3.74 4.687H4.41c-.93 0-1.693-.728-1.738-1.657l-.175-3.679h8.857l-.175 3.68a1.737 1.737 0 01-1.737 1.656zm3.74-1.942h-1.098l.088-1.856.02.001h.99a.928.928 0 010 1.855zM5.619 6.132a.443.443 0 00.61-.157.445.445 0 00-.157-.61c-.248-.146-.419-.416-.47-.74-.052-.337.036-.673.236-.899a.219.219 0 00.006-.006l.144-.167c.412-.473.838-.962.96-1.673a.445.445 0 10-.877-.15c-.08.465-.392.823-.754 1.238l-.147.17c-.373.422-.54 1.029-.447 1.625.092.588.419 1.087.896 1.369zM7 5.127c.147.378.41.725.738.976a.443.443 0 00.624-.085.445.445 0 00-.084-.623 1.404 1.404 0 01-.448-.59c-.174-.447-.01-.892.55-1.49.396-.422.649-.92.732-1.44a.445.445 0 00-.88-.14c-.055.348-.224.675-.502.973-.292.311-1.18 1.26-.73 2.419z\" />\n    </SvgIcon>\n  );\n}\n\nexport default CoffeeCupIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CoffeeBeanIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M8.004 8.818c1.607-.002 2.866-1.622 2.866-3.69 0-2.065-1.257-3.684-2.862-3.689H8c-1.609 0-2.87 1.62-2.87 3.69 0 2.067 1.259 3.686 2.866 3.69h.008zm2.046-3.69c0 1.58-.838 2.675-1.775 2.846C8.153 7.628 8 7.112 8 6.769c0-.458.274-1.227.38-1.485.045-.11.44-1.094.44-1.795 0-.344-.095-.755-.197-1.098.968.421 1.427 1.651 1.427 2.738zm-4.1 0c0-1.578.838-2.673 1.776-2.844.121.346.274.862.274 1.205 0 .457-.274 1.227-.379 1.484-.045.11-.44 1.095-.44 1.796 0 .343.094.755.197 1.098-.761-.331-1.427-1.335-1.427-2.738zM14.29 8.632c-.002 0-.005-.004-.005-.004-1.138-1.138-3.175-.883-4.638.58-1.384 1.383-1.78 3.43-.586 4.632a.98.98 0 00.006.006c1.048 1.048 3.06.998 4.638-.58 1.33-1.33 1.82-3.392.584-4.634zm-4.064 1.155c.994-.993 2.383-1.367 3.267-.756-.16.331-.416.804-.658 1.046-.323.324-1.06.674-1.317.782-.11.045-1.086.462-1.581.958-.243.242-.467.6-.637.915-.302-.77-.07-1.949.926-2.945zm3.927.98c-.096.67-.461 1.353-1.028 1.92-1.122 1.122-2.488 1.293-3.267.755.16-.33.416-.803.658-1.046.324-.323 1.061-.673 1.318-.781.11-.046 1.085-.462 1.581-.958.243-.243.466-.6.637-.915.118.3.154.65.1 1.025zM6.354 9.208c-1.463-1.463-3.5-1.718-4.638-.58h-.001a.304.304 0 00-.005.005c-1.242 1.25-.732 3.315.586 4.633 1.336 1.336 3.401 1.816 4.638.58l.005-.006c1.24-1.247.738-3.31-.585-4.632zm-.58.58c.996.995 1.23 2.172.927 2.944-.17-.315-.394-.673-.637-.915-.496-.496-1.471-.913-1.58-.958-.258-.108-.996-.459-1.319-.782-.242-.242-.498-.715-.658-1.046.802-.554 2.173-.338 3.267.756zm-2.899 2.898c-.995-.995-1.23-2.173-.926-2.944.17.314.394.672.636.915.496.496 1.472.912 1.582.958.256.107.993.457 1.317.781.242.242.499.715.658 1.046-.791.547-2.16.351-3.267-.756z\" />\n    </SvgIcon>\n  );\n}\n\nexport default CoffeeBeanIcon ","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CakeIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M13.348 4.186c-.869-.41-2.054-.715-3.364-.867C9.77 2.309 9.03 1 8 1S6.23 2.31 6.016 3.32c-1.31.152-2.495.457-3.364.867C1.287 4.832 1 5.571 1 6.078v6.59c0 .96.978 1.781 2.753 2.315a.412.412 0 00.264-.01l.006-.002L8 13.391l3.977 1.58a.41.41 0 00.291.004C14.03 14.442 15 13.623 15 12.668v-6.59c0-.507-.287-1.246-1.652-1.892zM8 1.82c.606 0 1.23 1.372 1.23 2.079 0 .372-.083.418-1.01.41a21.545 21.545 0 00-.44 0c-.905.008-1.01-.029-1.01-.41 0-.794.667-2.079 1.23-2.079zM3.46 14.018c-1.011-.385-1.64-.892-1.64-1.35V9.943c.406.312.957.587 1.64.817v3.258zm0-4.13C2.45 9.503 1.82 8.996 1.82 8.54V7.482c.406.312.957.587 1.64.817v1.59zm4.13 2.783L4.28 13.986V11.56l3.309-1.315v2.426zm0-3.309L4.28 10.677V8.279L7.59 6.964v2.398zm4.13 4.623l-3.31-1.314v-2.426l3.311 1.315v2.425zm.002-3.308L8.41 9.362V6.964l3.312 1.315v2.398zm2.458 1.991c0 .458-.629.965-1.64 1.35V10.76c.683-.23 1.234-.505 1.64-.817v2.725zm0-4.129c0 .458-.629.964-1.64 1.35v-1.59c.683-.23 1.234-.505 1.64-.817V8.54zm-2.035-.974L8.16 5.982c-.13-.048-.19-.041-.32 0L3.855 7.565C2.615 7.17 1.82 6.592 1.82 6.078c0-.715 1.542-1.602 4.147-1.927.038.258.137.468.297.626.365.362.927.355 1.522.35.34-.002.423.001.626.001.52 0 1-.03 1.324-.351.16-.158.259-.368.297-.626 2.605.325 4.147 1.212 4.147 1.927 0 .514-.794 1.091-2.035 1.487z\" />\n    </SvgIcon>\n  );\n}\n\nexport default CakeIcon\n","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction FusionIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M10.333 3.333c-.85 0-1.646.232-2.333.63a4.637 4.637 0 00-2.333-.63 4.667 4.667 0 000 9.334c.85 0 1.646-.232 2.333-.63.687.398 1.482.63 2.333.63a4.666 4.666 0 100-9.334zM5.667 11.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5c.465 0 .908.093 1.314.258a4.651 4.651 0 000 6.484c-.406.165-.85.258-1.314.258zM8 10.601A3.488 3.488 0 016.833 8c0-1.033.453-1.96 1.167-2.602A3.488 3.488 0 019.167 8c0 1.033-.453 1.96-1.167 2.601zm2.333.899c-.465 0-.908-.093-1.313-.258A4.649 4.649 0 0010.333 8c0-1.26-.501-2.402-1.314-3.242.406-.165.85-.258 1.314-.258 1.93 0 3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5z\" />\n    </SvgIcon>\n  );\n}\n\nexport default FusionIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction LaddooIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M15.531 11.313h-.68c.499-.532.805-1.247.805-2.032V8.97a.469.469 0 00-.469-.469h-.312c-.485 0-.944.117-1.349.325a27.987 27.987 0 01-.042-.172c-.133-.55-.285-1.174-.733-1.623-.448-.448-1.072-.599-1.622-.732-.278-.067-.54-.13-.765-.223-.211-.088-.432-.225-.666-.37-.486-.3-1.037-.643-1.698-.643s-1.212.342-1.699.644c-.233.144-.454.281-.665.369-.225.093-.487.156-.765.223-.55.133-1.173.284-1.622.732-.448.449-.599 1.072-.732 1.622-.067.278-.13.54-.224.765-.05.12-.114.24-.178.35a2.35 2.35 0 00-1.1 1.546H.47a.469.469 0 000 .937h.287l.787 2.361A2.029 2.029 0 003.47 16h9.06c.876 0 1.65-.558 1.927-1.389l.787-2.361h.287a.469.469 0 000-.938zM3.43 8.873c.113-.472.221-.918.483-1.18.262-.262.708-.37 1.18-.483.3-.073.61-.148.903-.27.282-.116.545-.28.8-.438C7.212 6.244 7.605 6 8 6c.394 0 .788.244 1.205.502.255.159.519.322.8.439.293.121.603.196.904.269.471.114.917.221 1.179.483.262.263.37.708.485 1.18.044.184.09.371.146.557a2.987 2.987 0 00-.344.44 2.97 2.97 0 00-2.5-1.37h-.313a.469.469 0 00-.468.469v.312c0 .785.306 1.5.806 2.031H5.61a2.348 2.348 0 00-2.298-1.874H3.28c.057-.188.103-.379.149-.565zm8.47 2.433a2.035 2.035 0 01-1.861-1.862c.99.079 1.783.871 1.862 1.862zm-8.586-.931c.61 0 1.132.392 1.325.938H1.987a1.408 1.408 0 011.325-.938zm10.255 3.94c-.15.447-.566.748-1.038.748H3.47c-.472 0-.889-.301-1.038-.748l-.688-2.065h12.512l-.688 2.065zm-.718-3.009a2.035 2.035 0 011.862-1.862 2.035 2.035 0 01-1.862 1.862zM8 3.438c.259 0 .469-.21.469-.47v-2.5a.469.469 0 00-.938 0v2.5c0 .26.21.47.469.47zM9.875 3.438c.259 0 .469-.21.469-.47v-2.5a.469.469 0 00-.938 0v2.5c0 .26.21.47.469.47zM6.125 3.438c.259 0 .469-.21.469-.47v-2.5a.469.469 0 00-.938 0v2.5c0 .26.21.47.469.47z\" />\n    </SvgIcon>\n  );\n}\n\nexport default LaddooIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction NoodlesIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M14.998 6.222A5.359 5.359 0 009.648 1 5.34 5.34 0 005.67 2.775a3.71 3.71 0 00-4.667 3.447H1v.957a6.96 6.96 0 001.225 3.957 6.996 6.996 0 002.89 2.423V15h5.77v-1.441a6.996 6.996 0 002.89-2.423A6.96 6.96 0 0015 7.179v-.957h-.002zm-.818.957c0 .23-.013.458-.038.684H1.858a6.252 6.252 0 01-.038-.684v-.137h12.36v.137zM2.005 8.684h11.99c-.07.28-.16.554-.268.821H2.273a6.111 6.111 0 01-.268-.821zm2.292-2.462h-.822c.056-.53.447-.96.957-1.076a5.34 5.34 0 00-.135 1.076zm7.404 0a2.06 2.06 0 00-2.054-1.927 2.06 2.06 0 00-2.053 1.927h-.828a2.888 2.888 0 012.881-2.754 2.888 2.888 0 012.882 2.754H11.7zm-.823 0h-2.46a1.24 1.24 0 011.23-1.107c.637 0 1.164.486 1.23 1.107zM9.648 1.82a4.538 4.538 0 014.53 4.402h-.828a3.71 3.71 0 00-3.703-3.575 3.71 3.71 0 00-3.702 3.575h-.828a4.538 4.538 0 014.53-4.402zM4.704 3.468c.14 0 .28.01.417.03-.16.252-.3.519-.416.797a2.06 2.06 0 00-2.054 1.927h-.829a2.888 2.888 0 012.882-2.754zm5.615 9.44l-.256.104v1.168H5.936v-1.168l-.256-.104a6.177 6.177 0 01-3-2.582h10.64a6.177 6.177 0 01-3 2.582z\" />\n    </SvgIcon>\n  );\n}\n\nexport default NoodlesIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ChickenWingsIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 13\" {...props} >\n      <path d=\"M4.69 5.789a.41.41 0 10-.58.58.41.41 0 00.58-.58zM4.11 7.53a.41.41 0 10-.581.58.41.41 0 00.58-.58zM5.85 8.11a.41.41 0 10-.58.58.41.41 0 00.58-.58z\" />\n      <path d=\"M11.9 2.555c-1.26-1.26-3.414-.751-3.977.939L7.024 6.19l-.233-.607a2.985 2.985 0 00-2.175-1.855 2.986 2.986 0 00-2.74.812 3 3 0 000 4.237l4.718 4.718a2.232 2.232 0 003.794-1.338l.629-5.86a2.876 2.876 0 003.863-.182.41.41 0 000-.58l-2.98-2.98zm-.501 2.98l-.907-.907a.41.41 0 00-.58.58l.358.359-.113 1.048-.246-.246a.41.41 0 10-.58.58l.714.714-.113 1.048-.6-.602a.41.41 0 00-.581.58L9.82 9.76l-.248 2.31a1.411 1.411 0 01-2.398.846L2.456 8.197A2.162 2.162 0 011.82 6.66c0-.581.226-1.127.637-1.538a2.168 2.168 0 011.99-.59 2.168 2.168 0 011.579 1.347l1.473 3.83a.41.41 0 00.766-.295l-.776-2.018L8.7 3.753a1.583 1.583 0 012.619-.618l2.66 2.661a2.055 2.055 0 01-2.581-.26z\" />\n    </SvgIcon>\n  );\n}\n\nexport default ChickenWingsIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction HotpotIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M4.281 7.59h.82v.82h-.82v-.82zM10.898 7.59h.82v.82h-.82v-.82zM9.258 5.95h.82v.82h-.82v-.82z\" />\n      <path d=\"M11.79 4.21a5.365 5.365 0 00-7.58 0 5.365 5.365 0 000 7.58 5.365 5.365 0 007.58 0 5.365 5.365 0 000-7.58zm-.58.58a4.547 4.547 0 01.835 5.268c-1.797-.09-2.74-1.177-3.735-2.327-.544-.627-1.106-1.276-1.818-1.77a4.624 4.624 0 00-2.037-.796 4.544 4.544 0 016.754-.375zm-6.42 6.42a4.547 4.547 0 01-.836-5.268c1.798.089 2.74 1.177 3.736 2.326.544.628 1.106 1.277 1.818 1.77.622.431 1.293.694 2.037.797a4.544 4.544 0 01-6.754.375z\" />\n      <path d=\"M14.184 4.713c.725-.805.7-2.049-.074-2.823a2.053 2.053 0 00-2.822-.074A6.965 6.965 0 008 1c-1.87 0-3.628.728-4.95 2.05A6.954 6.954 0 001 8c0 1.165.283 2.287.816 3.287-.725.804-.7 2.049.074 2.823a2.053 2.053 0 002.823.074c1 .533 2.122.816 3.287.816 1.87 0 3.628-.728 4.95-2.05A6.954 6.954 0 0015 8a6.965 6.965 0 00-.816-3.287zM13.53 2.47c.404.404.468 1.022.19 1.493a7.095 7.095 0 00-1.683-1.684 1.233 1.233 0 011.493.191zM2.47 13.53a1.233 1.233 0 01-.19-1.493 7.086 7.086 0 001.683 1.684 1.233 1.233 0 01-1.493-.191zm5.53.65A6.187 6.187 0 011.82 8a6.16 6.16 0 011.812-4.368A6.161 6.161 0 018 1.82 6.187 6.187 0 0114.18 8 6.187 6.187 0 018 14.18z\" />\n    </SvgIcon>\n  );\n}\n\nexport default HotpotIcon ","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction PastaIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 13 }} viewBox=\"0 0 16 13\" {...props} >\n      <path d=\"M14.392 9.633a.4.4 0 01.062-.556l.074-.061a1.332 1.332 0 000-2.037 8.942 8.942 0 00-.073-.061.4.4 0 01-.063-.557l.057-.075c.485-.644.285-1.6-.524-2.002-.224-.112-.317-.347-.221-.56.473-1.055-.573-2.055-2.337-1.042-.904.518-1.903 1.476-2.97 2.847A.5.5 0 018 5.722a.5.5 0 01-.397-.193C6.536 4.16 5.537 3.2 4.633 2.682c-1.76-1.01-2.812-.016-2.337 1.042.088.196.026.436-.24.569-.76.381-1.005 1.328-.505 1.994l.057.074a.4.4 0 01-.063.556l-.073.062a1.334 1.334 0 000 2.036l.073.062a.4.4 0 01.063.556l-.057.075c-.482.641-.29 1.596.524 2.003.224.112.317.347.22.56l-.029.067c-.208.471-.055.98.374 1.236.282.168.915.358 1.993-.261.904-.519 1.903-1.477 2.97-2.848A.5.5 0 018 10.274a.5.5 0 01.397.193c1.067 1.37 2.066 2.328 2.97 2.847.563.324 1.006.426 1.34.426.893 0 1.32-.737 1.026-1.402l-.03-.066c-.088-.197-.025-.436.24-.569.765-.383 1.003-1.332.506-1.994l-.057-.075zm-.457-1.316a9.552 9.552 0 01-.067.057 1.32 1.32 0 00-.206 1.812l.055.073c.147.195.087.489-.2.633a1.346 1.346 0 00-.649 1.754c.043.096.057.12.021.142a.353.353 0 01-.173.034c-.46 0-1.675-.45-3.596-2.919A1.41 1.41 0 008 9.357c-.442 0-.85.199-1.12.546-2.266 2.912-3.55 3.016-3.77 2.884-.036-.02-.021-.045.021-.14.283-.629.045-1.409-.664-1.764-.241-.12-.345-.41-.184-.624l.055-.073a1.32 1.32 0 00-.207-1.812 8.29 8.29 0 01-.066-.057.418.418 0 010-.64l.067-.056a1.32 1.32 0 00.206-1.812l-.055-.073c-.145-.193-.09-.488.2-.633.608-.303.973-1.023.62-1.817-.025-.06-.009-.07.007-.079.22-.131 1.504-.027 3.77 2.885.27.347.678.546 1.12.546.442 0 .85-.2 1.12-.546 2.266-2.912 3.55-3.016 3.77-2.885.016.01.032.02.006.08-.331.745-.04 1.486.637 1.824.243.122.344.412.184.625l-.055.072a1.32 1.32 0 00.206 1.813l.067.056c.13.11.15.248.15.32 0 .073-.02.21-.15.32z\" />\n      <path d=\"M10.823 8.455c-.672 0-.967-.217-1.349-.458.382-.24.677-.458 1.349-.458a.458.458 0 100-.915c-.894 0-1.376.306-1.764.552-.332.211-.572.363-1.059.363s-.727-.152-1.059-.363c-.388-.246-.87-.552-1.764-.552a.458.458 0 000 .915c.672 0 .967.218 1.349.458-.382.24-.677.458-1.349.458a.458.458 0 000 .916c.894 0 1.376-.306 1.764-.553.332-.21.572-.363 1.059-.363s.727.153 1.059.363c.388.247.87.553 1.764.553a.458.458 0 100-.916z\" />\n    </SvgIcon>\n  );\n}\n\nexport default PastaIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction RamenIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M5.129 14.59c0 .226.184.41.41.41h4.922a.41.41 0 00.41-.41c0-1.162 4.129-1.583 4.129-5.742a.41.41 0 00-.41-.41h-.46a3.697 3.697 0 00-3.67-3.282c-.912 0-1.788.34-2.461.942a3.718 3.718 0 00-.41-.318V3.46h7a.41.41 0 100-.82h-7v-.82h7a.41.41 0 100-.82H3.08a.41.41 0 000 .82h.41v.82h-.41a.41.41 0 000 .82h.41v2.32A3.695 3.695 0 001.87 8.437h-.46a.41.41 0 00-.411.41c0 4.16 4.129 4.58 4.129 5.743zm8.174-6.153h-.833a2.054 2.054 0 00-2.01-1.64c-.593 0-1.128.253-1.503.658a3.689 3.689 0 00-.411-.746 2.873 2.873 0 011.915-.733 2.875 2.875 0 012.842 2.461zm-1.682 0H9.3c.17-.477.625-.82 1.16-.82.535 0 .99.343 1.16.82zM6.77 5.367a3.663 3.663 0 00-.82-.188V1.82h.82v3.547zM4.309 1.82h.82V5.18a3.661 3.661 0 00-.82.188V1.82zm1.23 4.156a2.876 2.876 0 012.842 2.461h-.832a2.054 2.054 0 00-2.01-1.64c-.99 0-1.819.705-2.01 1.64h-.832a2.876 2.876 0 012.842-2.46zm1.16 2.461h-2.32c.17-.477.625-.82 1.16-.82.535 0 .99.343 1.16.82zm7.465.82c-.251 3.257-3.538 3.335-4.05 4.923H5.886c-.512-1.589-3.799-1.666-4.05-4.922h12.328z\" />\n    </SvgIcon>\n  );\n}\n\nexport default RamenIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction SaladIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M7.037 12.032c2.365.4 3.74-.479 4.02-1.463a1.274 1.274 0 00-.082-.946c1.274-.507 2.261-1.566 2.215-2.5-.013-.27-.138-.822-.885-1.137.598-.612.783-1.21.82-1.647.058-.69-.209-1.355-.737-1.86-.519-.542-1.184-.81-1.874-.75-.438.036-1.035.22-1.648.818C8.552 1.8 8 1.675 7.73 1.662c-.939-.052-1.992.941-2.499 2.215a1.274 1.274 0 00-.946-.082c-.985.28-1.863 1.657-1.464 4.02.396 2.335-1.62 4.018-1.654 4.046a.448.448 0 00.564.697c.1-.082 2.46-2.025 1.974-4.892-.326-1.929.333-2.869.824-3.009.199-.056.36.014.463.196.042.367.388.403.404.405a.458.458 0 00.493-.43.435.435 0 00.005-.065c.269-1.244 1.239-2.207 1.771-2.207a.58.58 0 01.021 0c.375.02.477.715.503 1.014a.447.447 0 00.817.21c.481-.711 1.03-1.113 1.584-1.16.414-.035.823.135 1.165.492.343.328.513.736.478 1.15-.047.556-.449 1.104-1.161 1.585a.448.448 0 00.212.817c.298.027.994.128 1.013.503.026.528-.947 1.521-2.208 1.793a.42.42 0 00-.06.004.457.457 0 00-.433.496c.002.015.039.36.405.402.182.102.252.264.195.462-.139.492-1.08 1.15-3.009.824-2.867-.484-4.81 1.875-4.891 1.976a.447.447 0 00.696.563c.017-.02 1.702-2.051 4.046-1.655z\" />\n      <path d=\"M4.893 9.486a.448.448 0 00.492.749 9.807 9.807 0 001.332-1.048A12.244 12.244 0 008.248 7.43c.359-.014.86.099 1.201.283a.447.447 0 10.424-.79 3.556 3.556 0 00-1.038-.343c.564-.809 1.092-1.28 1.734-1.56a.448.448 0 10-.356-.821C9.12 4.67 8.43 5.56 7.953 6.282a14.73 14.73 0 01-1.056 1.422c-.093-.46-.296-.871-.543-1.124a.448.448 0 10-.64.627c.23.235.441.885.29 1.421-.35.317-.716.599-1.11.858zM13.608 5.465a.447.447 0 10-.438.782c.68.381.992.856.926 1.411-.098.818-.997 1.713-2.004 1.995a.447.447 0 00-.23.71c.262.33.336.692.22 1.072-.182.593-.786 1.116-1.575 1.366-1.153.365-2.11.219-3.034.078-1.172-.18-2.385-.364-3.673.663a.448.448 0 10.559.7c.982-.782 1.863-.648 2.979-.478.977.149 2.087.318 3.44-.11 1.065-.336 1.893-1.086 2.16-1.956a1.988 1.988 0 00-.066-1.379c1.12-.505 1.991-1.529 2.114-2.555.063-.534-.03-1.544-1.378-2.299z\" />\n    </SvgIcon>\n  );\n}\n\nexport default SaladIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction SoupIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <g clipPath=\"url(#clip0_8881_45366)\">\n        <path d=\"M15.52 2.577c-.61-.61-1.57-.643-2.14-.073L9.866 6.02H.52A.521.521 0 000 6.542v2.433A4.701 4.701 0 003.129 13.4v.79c0 .862.701 1.564 1.564 1.564h4.172c.862 0 1.564-.702 1.564-1.564v-.79a4.7 4.7 0 003.129-4.425V6.752l2.035-2.035c.57-.57.537-1.53-.073-2.14zM9.386 14.19a.522.522 0 01-.521.521H4.693a.522.522 0 01-.521-.521v-.55c.17.018.345.028.521.028h4.172c.176 0 .35-.01.521-.029v.55zm3.129-5.215a3.654 3.654 0 01-3.65 3.65H4.693a3.654 3.654 0 01-3.65-3.65V7.063h11.472v1.912zm2.34-4.996l-2.04 2.041h-1.476l2.78-2.778c.16-.16.464-.128.664.072s.233.505.072.665z\" />\n        <path d=\"M6.844 2.199c-.323-.187-.324-.793 0-.98A.521.521 0 006.32.316c-1.016.588-1.016 2.197 0 2.785.323.187.324.793 0 .98a.521.521 0 00.523.903c1.016-.588 1.016-2.197 0-2.785z\" />\n        <path d=\"M4.758 2.199c-.323-.187-.323-.793 0-.98a.521.521 0 00-.522-.903c-1.017.588-1.017 2.197 0 2.785.322.187.323.793 0 .98a.521.521 0 00.522.903c1.016-.588 1.017-2.197 0-2.785zM8.93 2.199c-.323-.187-.324-.793 0-.98a.521.521 0 00-.523-.903c-1.016.588-1.016 2.197 0 2.785.323.187.323.793 0 .98a.521.521 0 10.522.903c1.017-.588 1.017-2.197 0-2.785zM4.693 10.54a1.566 1.566 0 01-1.564-1.565.521.521 0 00-1.043 0 2.61 2.61 0 002.607 2.607.521.521 0 100-1.043z\" />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_8881_45366\">\n          <path fill=\"#fff\" d=\"M0 0h16v16H0z\" />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default SoupIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction BeverageIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M11.752 6.391c-.087-.923-.465-1.752-1.088-2.367a3.621 3.621 0 00-1.112-.75l.14-1.34.877.241a.41.41 0 00.218-.791l-1.345-.37a.41.41 0 00-.517.354L8.753 3.03A4.025 4.025 0 008 2.96c-1.024 0-1.97.378-2.664 1.064-.623.615-1.001 1.444-1.087 2.367a.627.627 0 00-.622.627v.848c0 .346.281.627.627.627h.011l.724 6.058a.51.51 0 00.506.449h5.01a.51.51 0 00.505-.449l.725-6.058h.011a.627.627 0 00.627-.627v-.848a.627.627 0 00-.621-.627zM4.447 7.672v-.46H11.552v.46H4.448zm6.479-1.28H9.229l.233-2.252c.804.438 1.348 1.246 1.465 2.251zM8 3.78c.232 0 .455.024.668.069L8.404 6.39h-3.33C5.25 4.856 6.426 3.781 8 3.781zm2.229 10.4H5.77l-.68-5.687h5.818l-.68 5.687z\" />\n\n    </SvgIcon>\n  );\n}\n\nexport default BeverageIcon","\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction BrazilianIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M5.884 6.524c-.482-.82-.883-1.363-1.178-1.777-.323.453-.697.959-1.179 1.777-.592 1.008-.88 1.736-.88 2.226 0 1.193.866 2.059 2.059 2.059s2.059-.866 2.059-2.06c0-.49-.288-1.217-.88-2.225zm-1.178 3.46c-.739 0-1.235-.495-1.235-1.234 0-.516.662-1.692 1.235-2.564.573.871 1.235 2.048 1.235 2.564 0 .739-.496 1.235-1.235 1.235z\" />\n      <path d=\"M4.294 8.338h.824v.823h-.824v-.823zM10.882 5.044h.824v.823h-.824v-.823zM10.882 8.338h.824v.823h-.824v-.823zM10.059 6.69h.823v.824h-.823v-.823zM11.706 6.69h.824v.824h-.824v-.823zM12.53 8.338h.823v.823h-.824v-.823zM10.882 9.985h.824v.824h-.824v-.824zM9.235 8.338h.824v.823h-.824v-.823z\" />\n      <path d=\"M15 8.75c0-2.18-3.704-6.85-3.706-6.853C11.292 1.9 8.968 4.831 8 7.137c-.713-1.698-2.173-3.779-3.294-5.24C4.704 1.9 1 6.572 1 8.75c0 1.176.522 2.208 1.351 2.882H1v.824c0 .908.739 1.647 1.647 1.647h10.706c.908 0 1.647-.74 1.647-1.647v-.824h-1.351A3.682 3.682 0 0015 8.75zm-3.706-5.49c1.03 1.41 2.883 4.207 2.883 5.49a2.852 2.852 0 01-2.883 2.882A2.852 2.852 0 018.412 8.75c0-1.283 1.852-4.08 2.882-5.49zM8.94 11.633H7.06c.388-.315.709-.708.94-1.158.231.45.552.843.94 1.158zM1.824 8.75c0-1.283 1.852-4.08 2.882-5.49 1.03 1.41 2.882 4.207 2.882 5.49a2.852 2.852 0 01-2.882 2.882A2.852 2.852 0 011.824 8.75zm12.353 3.706c0 .454-.37.823-.824.823H2.647a.825.825 0 01-.823-.823h12.353z\" />\n    </SvgIcon>\n  );\n}\n\nexport default BrazilianIcon","\n\n\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction BreakfastIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M15.752 1.024a.469.469 0 00-.48.023 6.773 6.773 0 00-2.525 3.095A6.16 6.16 0 008 1.906a6.154 6.154 0 00-3.313.96V1.438a.469.469 0 00-.937 0V3.78h-.938V1.438a.469.469 0 00-.937 0V3.78H.937V1.438a.469.469 0 00-.937 0V4.25c0 .765.369 1.446.938 1.874v7.501c0 .775.63 1.406 1.406 1.406.775 0 1.406-.63 1.406-1.406v-1.233a6.155 6.155 0 009.438-1.145v2.378c0 .775.63 1.406 1.406 1.406.775 0 1.406-.63 1.406-1.406V1.438a.469.469 0 00-.248-.414zM2.812 13.625a.47.47 0 01-.937 0V6.547a2.346 2.346 0 00.938 0v7.078zm-.468-7.969a1.409 1.409 0 01-1.326-.937H3.67a1.409 1.409 0 01-1.326.937zM8 13.156a5.18 5.18 0 01-4.25-2.191V6.124a2.342 2.342 0 00.938-1.874v-.227A5.195 5.195 0 018 2.843c1.791 0 3.461.923 4.402 2.42a6.81 6.81 0 00-.152 1.43v3.182c0 .228.163.418.38.46A5.198 5.198 0 018 13.156zm7.063.469a.47.47 0 01-.938 0v-3.281h.938v3.281zm0-4.219h-1.876V6.693c0-1.638.683-3.19 1.876-4.292v7.005z\" />\n      <path d=\"M8 6.594c-.775 0-1.406.63-1.406 1.406 0 .775.63 1.406 1.406 1.406.775 0 1.406-.63 1.406-1.406 0-.775-.63-1.406-1.406-1.406zm0 1.875a.47.47 0 11.001-.939A.47.47 0 018 8.47z\" />\n      <path d=\"M11.392 6.98a.507.507 0 01-.146-.311l-.052-.56a1.445 1.445 0 00-1.302-1.303l-.56-.052a.507.507 0 01-.311-.146A1.434 1.434 0 008 4.185c-.386 0-.749.15-1.021.423a.507.507 0 01-.31.146l-.561.052a1.445 1.445 0 00-1.303 1.302l-.052.561a.507.507 0 01-.146.31c-.297.297-.454.65-.454 1.021 0 .37.157.724.454 1.02a.507.507 0 01.146.311l.052.56c.065.69.613 1.238 1.303 1.303l.56.052a.507.507 0 01.31.146c.273.273.636.423 1.021.423.386 0 .748-.15 1.02-.423a.507.507 0 01.311-.146l.56-.052a1.444 1.444 0 001.303-1.302l.052-.561a.507.507 0 01.146-.31 1.445 1.445 0 000-2.042zm-.662 1.378a1.447 1.447 0 00-.417.885l-.053.561a.506.506 0 01-.456.456l-.56.053c-.334.031-.649.18-.886.416a.503.503 0 01-.716 0 1.446 1.446 0 00-.885-.416l-.56-.053a.506.506 0 01-.457-.456l-.053-.56a1.446 1.446 0 00-.416-.886c-.241-.241-.241-.475 0-.716.237-.237.385-.551.416-.885l.053-.561a.506.506 0 01.456-.456l.56-.053c.335-.031.65-.18.886-.416a.503.503 0 01.716 0c.237.237.552.385.886.416l.56.053a.506.506 0 01.457.456l.052.56c.031.335.18.65.417.886a.507.507 0 010 .716z\" />\n    </SvgIcon>\n  );\n}\n\nexport default BreakfastIcon","\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ItalianIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <g clipPath=\"url(#clip0_8881_45281)\">\n        <path d=\"M14.607 10.53a6.598 6.598 0 00-1.979-4.106 6.615 6.615 0 00-2.588-1.56c.308-.316.501-.775.559-1.329.04-.391.002-.698-.003-.732l-.047-.354-.354-.048a3.336 3.336 0 00-.733-.003c-.536.056-.983.24-1.297.53a2.417 2.417 0 00-.489-.724C7.251 1.778 6.62 1.51 5.85 1.43c-.555-.058-.998 0-1.016.003l-.354.048-.048.354c-.003.019-.06.461-.003 1.016.08.77.347 1.401.772 1.826.117.117.25.222.397.314a6.625 6.625 0 00-2.226 1.432 6.599 6.599 0 00-1.979 4.106H0v1.744c0 1.28 1.041 2.32 2.32 2.32h11.36c1.279 0 2.32-1.04 2.32-2.32V10.53h-1.393zm-6.11-2.792a6.572 6.572 0 00-.306.564 2.878 2.878 0 00-2.158.768 2.883 2.883 0 00-.847 1.46H4.23a3.81 3.81 0 011.12-2.104 3.807 3.807 0 013.352-1.004c-.07.104-.14.209-.205.316zM7.824 9.24c-.128.419-.215.85-.258 1.289H6.162c.253-.704.9-1.22 1.662-1.29zm1.474-1.016a5.743 5.743 0 011.79-1.836c.28.181.545.388.793.619a4.777 4.777 0 00-2.427 3.522H8.51a5.69 5.69 0 01.79-2.305zm3.236-.498c.194.252.364.519.511.797a2.904 2.904 0 00-1.686 2.006h-.956a3.819 3.819 0 012.131-2.803zm.88 1.66c.121.368.205.751.25 1.143h-1.33c.184-.512.576-.93 1.08-1.143zM9.676 3.32c-.018.301-.093.674-.313.894-.22.22-.59.295-.89.313v-.055c.023-.29.102-.632.309-.84.22-.22.593-.295.894-.312zm-4.332-.977c.46 0 1.22.075 1.668.522.424.424.515 1.122.523 1.585l-.004.087c-.46 0-1.22-.076-1.668-.523-.451-.45-.524-1.213-.523-1.67h.004zm-1.32 4.752A5.671 5.671 0 018 5.483c.749 0 1.477.144 2.151.419a6.69 6.69 0 00-.795.715A4.742 4.742 0 008 6.42a4.74 4.74 0 00-3.299 1.33 4.741 4.741 0 00-1.42 2.78h-.945a5.666 5.666 0 011.69-3.434zm11.037 5.177c0 .763-.62 1.384-1.383 1.384H2.321c-.763 0-1.384-.62-1.384-1.384v-.806h14.126v.806z\" />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_8881_45281\">\n          <path fill=\"#fff\" d=\"M0 0h16v16H0z\" />\n        </clipPath>\n      </defs>    </SvgIcon>\n  );\n}\n\nexport default ItalianIcon","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction JuiceIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M13.74 3.488h-1.828l.153-1.668h1.677a.41.41 0 100-.82H11.69a.41.41 0 00-.408.373l-.194 2.115H8.001a.41.41 0 00-.41.41v4.537c-.51-.128-1.06-.038-1.577.246.189-1.238.747-1.808.941-1.972a.41.41 0 00-.529-.627c-.089.075-.22.2-.367.383-.164-.317-.41-.648-.775-.858-.866-.5-1.99-.084-2.037-.066a.41.41 0 00-.26.45c.008.05.21 1.231 1.076 1.731.305.176.721.283 1.266.233a5.54 5.54 0 00-.152.79c-1.168-.71-2.436-.365-3.017.822-.741 1.513-.113 3.843 1.355 4.918.659.482 1.376.631 2.025.423.716.23 1.445.01 2.05-.443v.123c0 .227.184.41.41.41h5.74a.41.41 0 00.41-.41V3.898a.41.41 0 00-.41-.41zm-.41.82v2.415a3.509 3.509 0 01-1.735.232l.242-2.647h1.492zm-2.317 0l-.224 2.453a4.977 4.977 0 00-2.378-.107V4.308h2.602zM3.896 6.216c.806-.14 1.266.11 1.555.897-.816.142-1.27-.119-1.555-.897zm3.184 7.607c-.407.298-.914.468-1.38.27-.182-.077-.314.002-.395.029-.396.134-.86.027-1.305-.3-1.147-.839-1.67-2.736-1.103-3.894.496-1.013 1.54-.904 2.351-.08a.41.41 0 00.586-.002c.806-.83 1.857-.924 2.35.082.566 1.158.043 3.055-1.104 3.895zm1.33.355c0-.633.002-.526 0-.57 1.04-1.485 1.144-3.691 0-4.732V7.493a4.167 4.167 0 012.272.094 4.253 4.253 0 002.647.007v6.584H8.411z\" />\n    </SvgIcon>\n  );\n}\n\nexport default JuiceIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction KimchiIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M14.299 6.522a.98.98 0 01-.021-.697 2.435 2.435 0 00-.914-2.776 2.435 2.435 0 00-2.916.114 1.007 1.007 0 01-.668.225 2.568 2.568 0 00-.626.057 2.588 2.588 0 00-.483-.395.98.98 0 01-.414-.56A2.434 2.434 0 005.924.728a2.435 2.435 0 00-2.331 1.755 1.006 1.006 0 01-.421.565c-.741.482-1.166 1.283-1.166 2.198 0 .23.032.456.095.674a.887.887 0 01-.144.767 2.422 2.422 0 00-.129 2.634.916.916 0 01.1.729 2.431 2.431 0 002.48 3.142c-.005.184-.008.369-.008.554 0 .84.684 1.524 1.524 1.524.728 0 1.338-.513 1.488-1.196a2.412 2.412 0 001.606.61 2.424 2.424 0 002.318-1.698.915.915 0 01.497-.542 2.422 2.422 0 001.395-2.238.887.887 0 01.318-.712c.177-.144.332-.312.463-.5.533-.769.636-1.647.29-2.473zm-8.375 7.897a.673.673 0 01-.672-.672c0-1.685.226-3.354.672-4.975.446 1.62.672 3.29.672 4.975 0 .37-.301.672-.672.672zm1.473-2.088a19.552 19.552 0 00-.37-2.626l1.293-1.03-.265-.334-.265-.333-.98.78c-.089-.341-.188-.68-.295-1.017L7.78 6.763l-.53-.666-.9.716V4.667h-.852v2.146l-.9-.716-.53.666 1.265 1.008c-.107.337-.206.676-.295 1.017l-.98-.78-.53.666 1.293 1.03a19.55 19.55 0 00-.37 2.627 1.578 1.578 0 01-1.71-2.027 1.769 1.769 0 00-.177-1.41 1.57 1.57 0 01.084-1.708c.32-.444.42-.991.272-1.501a1.574 1.574 0 01-.062-.438c0-.621.284-1.162.778-1.483.377-.245.653-.616.776-1.045a1.58 1.58 0 011.512-1.138c.7 0 1.322.47 1.513 1.141.124.435.4.806.776 1.046.516.329.777.826.777 1.48 0 .148-.02.295-.062.437A1.733 1.733 0 009.2 7.186a1.57 1.57 0 01.083 1.707c-.255.438-.319.953-.176 1.412a1.571 1.571 0 01-1.502 2.04c-.068 0-.11 0-.208-.014zm5.912-3.822a1.574 1.574 0 01-.3.325 1.733 1.733 0 00-.633 1.389 1.57 1.57 0 01-.904 1.45c-.46.215-.805.6-.949 1.06a1.577 1.577 0 01-2.769.46 2.431 2.431 0 002.266-2.197l.786-.052-.057-.85-.8.053c-.111-.457.132-.935.16-.992l1.342-.089-.057-.85-1.053.07c.003-.046.005-.093.006-.139L11.47 6.53l-.7-.486-.678.977a2.43 2.43 0 00-.2-.332.887.887 0 01-.145-.767c.063-.218.095-.445.095-.674 0-.362-.062-.7-.182-1.007.45.013.982-.135 1.327-.417a1.58 1.58 0 011.891-.073c.575.398.82 1.139.593 1.8-.146.427-.13.89.042 1.302.236.563.168 1.121-.204 1.657z\" />\n    </SvgIcon>\n  );\n}\n\nexport default KimchiIcon","\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction GuacamoleIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M15.055 10.214a.486.486 0 00-.566.387 6.588 6.588 0 01-2.366 3.93H3.878a6.548 6.548 0 01-2.464-4.674H15.087a.484.484 0 100-.97h-.977l.227-1.047c.125-.576-.003-1.09-.352-1.411-.35-.321-.873-.406-1.436-.233l-2.189.67a.485.485 0 00.284.927l2.19-.67c.222-.069.407-.061.495.02.087.08.11.264.06.491l-.27 1.254h-2.09l-1.315-1.22a.486.486 0 00-.66.711l.549.509H5.636l-.26-2.877c-.022-.252.027-.367.028-.378.025-.006.145.01.342.15l1.061.752c.014.467.179.755.329.92.203.223.49.347.806.347.286 0 .589-.096.901-.285L12.53 5.28c.529-.32.834-.794.838-1.3.004-.506-.294-.984-.817-1.313L9.575.8C9.258.6 8.938.5 8.623.5c-.75 0-1.309.584-1.393 1.453L6.897 5.41l-.59-.418c-.675-.479-1.152-.333-1.377-.204-.226.13-.594.473-.518 1.308l.251 2.79H2.384l-.364-.895c-.054-.132-.064-.25-.025-.3.041-.054.18-.098.398-.073l1.366.16a.484.484 0 10.113-.962l-1.365-.16c-.55-.067-1.017.098-1.283.449-.253.332-.29.788-.102 1.251l.216.53H.912a.484.484 0 00-.484.485 7.519 7.519 0 002.99 6.029.484.484 0 00.293.099h8.579c.106 0 .209-.036.293-.1a7.557 7.557 0 002.858-4.62.485.485 0 00-.386-.566zM8.623 1.47c.128 0 .28.053.436.151l2.975 1.868c.233.146.365.323.364.485-.001.162-.137.336-.371.479L8.34 6.687c-.208.126-.34.145-.4.145-.061 0-.078-.019-.088-.029-.048-.053-.096-.207-.07-.466l.412-4.291c.017-.174.092-.577.428-.577z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GuacamoleIcon","\n\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction VietnameseFoodIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <g clipPath=\"url(#clip0_7792_41691)\">\n        <path d=\"M3.605 11.984a.44.44 0 100-.88.44.44 0 000 .88z\" />\n        <path d=\"M15.061 12.863h-.91c.277-.368.442-.824.442-1.319a2.2 2.2 0 00-2.198-2.197h-.001a2.2 2.2 0 00-1.757-3.516H6.242a2.2 2.2 0 00-2.198 2.197c0 .495.165.951.441 1.319h-.88a2.2 2.2 0 00-2.198 2.197c0 .495.165.951.441 1.319h-.91a.44.44 0 000 .879h.637l.515 1.03c.225.449.677.728 1.18.728h9.46c.503 0 .955-.28 1.18-.729l.515-1.029h.636a.44.44 0 000-.88zM8 6.71h2.638a1.32 1.32 0 011.319 1.318 1.32 1.32 0 01-1.319 1.319H8h-.001c.276-.368.44-.824.44-1.319 0-.494-.164-.95-.44-1.318zm.88 3.516a1.32 1.32 0 011.319 1.318 1.32 1.32 0 01-1.319 1.319 1.32 1.32 0 01-1.319-1.319 1.32 1.32 0 011.319-1.318zM6.242 6.71A1.32 1.32 0 017.56 8.028a1.32 1.32 0 01-1.318 1.319 1.32 1.32 0 01-1.319-1.319A1.32 1.32 0 016.242 6.71zm.88 6.153h-1.76c.276-.368.44-.824.44-1.319 0-.494-.164-.95-.44-1.318h1.76c-.276.367-.44.824-.44 1.318 0 .495.164.951.44 1.319zm-4.836-1.319a1.32 1.32 0 011.319-1.318 1.32 1.32 0 011.318 1.318 1.32 1.32 0 01-1.318 1.319 1.32 1.32 0 01-1.319-1.319zm10.838 2.834a.437.437 0 01-.393.243H3.269a.437.437 0 01-.393-.243l-.318-.636h10.884l-.318.636zm-.729-1.515h-1.76c.277-.368.441-.824.441-1.319 0-.494-.164-.95-.44-1.318h1.759a1.32 1.32 0 011.319 1.318 1.32 1.32 0 01-1.319 1.319zM6.068 3.093c.417-.279.666-.75.666-1.26S6.485.852 6.068.573a.44.44 0 10-.487.732.621.621 0 01.274.528c0 .22-.1.412-.274.528a1.52 1.52 0 00-.666 1.274c0 .52.249.996.666 1.274a.44.44 0 10.487-.731.644.644 0 01-.274-.543c0-.225.102-.428.274-.542zM8.266 3.093c.417-.279.666-.75.666-1.26s-.25-.981-.666-1.26a.44.44 0 10-.488.732.622.622 0 01.275.528c0 .22-.1.412-.275.528a1.52 1.52 0 00-.666 1.274c0 .52.25.996.666 1.274a.44.44 0 10.488-.731.644.644 0 01-.275-.543c0-.225.103-.428.275-.542zM10.463 3.093c.417-.279.667-.75.667-1.26s-.25-.981-.667-1.26a.44.44 0 10-.487.732.621.621 0 01.274.528c0 .22-.1.412-.274.528a1.52 1.52 0 00-.666 1.274c0 .52.249.996.666 1.274a.44.44 0 10.487-.731.644.644 0 01-.274-.543c0-.225.102-.428.274-.542z\" />\n        <path d=\"M6.242 8.468a.44.44 0 100-.88.44.44 0 000 .88zM8.879 11.984a.44.44 0 100-.88.44.44 0 000 .88z\" />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_7792_41691\">\n          <path fill=\"#fff\" d=\"M0 0h16v15.998H0z\" transform=\"translate(0 .001)\" />\n        </clipPath>\n      </defs>\n\n    </SvgIcon>\n  );\n}\n\nexport default VietnameseFoodIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction SandwichIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M15.063 9.173V7.452 7.45c.546-.194.937-.714.937-1.325a3.285 3.285 0 00-3.281-3.281H3.28A3.285 3.285 0 000 6.125a1.408 1.408 0 00.938 1.327v1.721c0 .001 0 .002-.002.002A1.408 1.408 0 000 10.5a2.66 2.66 0 002.656 2.656h10.688A2.66 2.66 0 0016 10.5a1.408 1.408 0 00-.938-1.327zm-4.366-.082l1.56-1.56h1.866l.002.002v1.56H10.698c-.001 0-.002 0-.001-.002zm-6.953-1.56l1.56 1.56a.002.002 0 01-.002.003H1.877l-.002-.002v-1.56h1.868zm1.329 0h5.854c.001 0 .002.002.001.003L8.001 10.46H8L5.072 7.534a.002.002 0 01.001-.003zM3.156 3.786V4.86c0 .253.195.472.448.483a.469.469 0 00.49-.468V3.783l.001-.002h1.247l.002.002V4.86c0 .254.194.472.447.483a.469.469 0 00.49-.468V3.783l.002-.002H7.53l.001.002V4.86c0 .254.195.472.448.483a.469.469 0 00.49-.468V3.783l.001-.002h1.247l.002.002V4.86c0 .254.194.472.447.483a.469.469 0 00.49-.468V3.783l.002-.002h1.247l.001.002V4.86c0 .254.195.472.448.483a.469.469 0 00.49-.468V3.786l.001-.001a2.347 2.347 0 012.217 2.345.468.468 0 01-.47.464H1.408a.468.468 0 01-.47-.464 2.347 2.347 0 012.218-2.344zm10.188 8.433H2.656a1.72 1.72 0 01-1.719-1.722.47.47 0 01.47-.466h4.836l1.426 1.425a.467.467 0 00.662 0l1.425-1.424h4.836a.47.47 0 01.47.465 1.72 1.72 0 01-1.718 1.722z\" />\n    </SvgIcon>\n  );\n}\n\nexport default SandwichIcon","\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction SushiIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <path d=\"M4.25 13.156h7.5c1.826 0 3.313-1.472 3.313-3.281V8.388c.545-.193.937-.714.937-1.325 0-2.356-2.87-4.22-5.188-4.22H5.189C2.885 2.844 0 4.696 0 7.064c0 .61.392 1.132.938 1.325v1.487c0 1.81 1.486 3.281 3.312 3.281zm9.875-3.281c0 1.292-1.065 2.344-2.375 2.344h-7.5c-1.31 0-2.375-1.052-2.375-2.344V8.462c1.404-.04 2.192-.264 2.956-.48.82-.232 1.593-.45 3.169-.45s2.35.218 3.17.45c.763.216 1.55.44 2.955.48v1.413zm-9.432-6.06L3.374 5.575a.469.469 0 10.75.563L5.891 3.78h1.64l-.864 1.152a.469.469 0 10.75.563L8.703 3.78h1.64l-.92 1.229a.469.469 0 00.75.562l1.298-1.731c.438.076.89.222 1.321.426l-.97 1.293a.469.469 0 10.75.562l1.035-1.38c.77.549 1.456 1.383 1.456 2.32a.47.47 0 01-.47.47c-1.575 0-2.349-.22-3.168-.452-.846-.239-1.72-.486-3.425-.486-1.706 0-2.58.247-3.425.486-.82.232-1.593.451-3.169.451a.47.47 0 01-.468-.468c0-1.64 2.033-3.016 3.755-3.247z\" />\n      <path d=\"M10.813 10.344a.469.469 0 100-.938.469.469 0 000 .938zM5.188 10.344a.469.469 0 100-.938.469.469 0 000 .938zM8 11.281a.469.469 0 100-.937.469.469 0 000 .937z\" />\n    </SvgIcon>\n  );\n}\n\nexport default SushiIcon","\n\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction EcoFriendlyIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" {...props} >\n      <g clipPath=\"url(#clip0_7792_41744)\">\n        <path d=\"M14.684 6.778l-.058-.319-.32-.058c-.97-.188-2.675-.112-3.629.357C12.25 3.6 9.137.747 8.266.185L7.999 0l-.267.185c-.907.593-3.979 3.428-2.407 6.59-.954-.49-2.654-.562-3.632-.374l-.32.058-.057.32c-.418 2.33.155 6.836 5.407 6.775.318 0 .594-.017.808-.037V16h.937v-2.483c5.645.514 6.717-3.798 6.216-6.739zM7.999 1.162c2.388 1.963 3.129 4.556.469 7.073V4.908H7.53v3.327C4.864 5.712 5.62 3.118 8 1.162zM6.723 12.616c-3.973.049-4.78-2.853-4.528-5.336 3.778-.353 5.417 1.644 5.333 4.67L5.175 9.599l-.663.663 2.355 2.354-.144.001zm5.968-1.151c-.488.534-1.752 1.21-3.558 1.15l2.354-2.354-.663-.663-2.354 2.354c-.004-.217 0-.461.02-.72.278-3.096 2.167-4.178 5.314-3.952.08.815.146 2.926-1.113 4.185z\" />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_7792_41744\">\n          <path fill=\"#fff\" d=\"M0 0h16v16H0z\" />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default EcoFriendlyIcon","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction OneMarketVerticalLogo(props: any) {\n  return (\n    <SvgIcon\n      width=\"141\"\n      height=\"138\"\n      viewBox=\"0 0 141 138\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        d=\"M9.19075 137.075C7.30513 137.075 5.66912 136.662 4.28276 135.835C2.90382 135 1.79963 133.78 1.10662 132.324C0.369974 130.811 0.00111695 129.064 2.51769e-06 127.084C-0.00111192 125.103 0.367745 123.357 1.10662 121.845C1.79481 120.386 2.90013 119.165 4.28276 118.334C5.67023 117.498 7.30624 117.081 9.19075 117.081C11.0753 117.081 12.7107 117.498 14.0971 118.334C15.4847 119.161 16.594 120.384 17.2832 121.845C18.0199 123.356 18.3888 125.102 18.3899 127.084C18.391 129.065 18.0221 130.812 17.2832 132.324C16.5892 133.782 15.481 135.003 14.0971 135.835C12.7185 136.663 11.0831 137.076 9.19075 137.075ZM9.26931 134.048C10.5141 134.048 11.5634 133.764 12.4171 133.195C13.2946 132.597 13.9688 131.746 14.3495 130.755C14.7984 129.582 15.0158 128.333 14.9897 127.077C14.9897 125.654 14.7668 124.423 14.321 123.384C13.9313 122.39 13.2419 121.542 12.3485 120.957C11.4681 120.389 10.3882 120.105 9.10884 120.105C7.8551 120.105 6.80142 120.398 5.94776 120.984C5.07631 121.585 4.40724 122.436 4.02866 123.425C3.61075 124.473 3.40179 125.704 3.40179 127.117C3.40179 128.53 3.61969 129.756 4.05544 130.795C4.45453 131.78 5.14213 132.621 6.028 133.209C6.91063 133.769 7.99106 134.049 9.26931 134.048ZM28.5903 121.862C30.1984 121.862 31.4204 122.27 32.2562 123.088C33.0442 123.818 33.6084 124.757 33.8827 125.795C34.1229 126.723 34.2481 127.678 34.2555 128.637V136.677H31.0025V129.743C31.0025 126.511 29.8825 124.896 27.6424 124.896C27.1925 124.884 26.7451 124.967 26.3294 125.14C25.9138 125.313 25.5393 125.571 25.2303 125.899C24.5906 126.557 24.2707 127.686 24.2707 129.285V136.686H21.016V122.286H23.8829V123.886C24.428 123.244 25.1147 122.738 25.8889 122.406C26.7403 122.035 27.6613 121.849 28.5903 121.862ZM40.1414 130.369C40.2651 131.561 40.6429 132.476 41.2748 133.115C41.9067 133.754 42.7687 134.069 43.8608 134.061C44.5756 134.079 45.2815 133.9 45.9003 133.541C46.4897 133.176 46.9557 132.642 47.2376 132.008L50.4137 132.968C50.0633 133.802 49.5462 134.555 48.8942 135.181C48.2564 135.793 47.5044 136.274 46.6809 136.595C45.8429 136.917 44.9523 137.08 44.0548 137.075C42.7184 137.101 41.3986 136.775 40.2283 136.129C39.1301 135.511 38.2286 134.595 37.6273 133.488C37.0013 132.304 36.685 130.982 36.7079 129.643C36.7079 128.088 37.0054 126.729 37.6005 125.564C38.1662 124.433 39.0461 123.489 40.1347 122.844C41.2686 122.191 42.559 121.859 43.8675 121.883C45.255 121.883 46.4552 122.19 47.4683 122.804C48.4934 123.426 49.3087 124.341 49.8086 125.431C50.3524 126.559 50.6238 127.888 50.6227 129.417C50.6227 129.718 50.6093 130.039 50.5826 130.377L40.1414 130.369ZM43.9946 124.685C41.8615 124.685 40.6039 125.769 40.2216 127.938H47.3145C47.1718 126.818 46.8297 125.996 46.2881 125.472C45.7465 124.949 44.982 124.687 43.9946 124.688V124.685ZM56.5554 136.672H53.5464V117.472H56.44L63.0798 131.072L69.7197 117.472H72.6133V136.672H69.6043V124.366L63.7117 136.672H62.4312L56.552 124.366L56.5554 136.672ZM87.6999 124.553C87.9277 125.004 88.0765 125.491 88.1396 125.992C88.2187 126.602 88.2544 127.216 88.2466 127.831V136.671H85.4332V134.737C84.8806 135.496 84.1475 136.105 83.3002 136.51C82.3786 136.906 81.3823 137.097 80.3798 137.07C79.4752 137.094 78.5784 136.897 77.767 136.497C77.0806 136.136 76.5082 135.591 76.1137 134.924C75.7372 134.252 75.544 133.494 75.5537 132.724C75.5537 131.666 75.8162 130.782 76.3411 130.071C76.866 129.36 77.6968 128.809 78.8335 128.418C79.5445 128.193 80.2708 128.019 81.0067 127.898C81.8347 127.746 83.0126 127.555 84.5405 127.325L85.1005 127.244C85.037 126.408 84.7701 125.795 84.2998 125.405C83.8295 125.015 83.1141 124.82 82.1534 124.819C81.473 124.812 80.8025 124.982 80.2076 125.312C79.6265 125.645 79.1965 126.189 79.0073 126.831L76.0736 125.912C76.3952 124.71 77.1327 123.662 78.1548 122.953C79.1768 122.233 80.5096 121.873 82.1534 121.872C83.4907 121.872 84.633 122.089 85.5803 122.525C86.5059 122.929 87.2573 123.649 87.6999 124.556V124.553ZM84.7411 132.125C84.935 131.654 85.0415 130.907 85.0604 129.885C83.6652 130.108 82.6622 130.276 82.0515 130.387C81.5087 130.479 80.9739 130.612 80.4517 130.786C79.9648 130.945 79.5191 131.21 79.1461 131.56C79.0015 131.708 78.888 131.883 78.8125 132.076C78.7369 132.268 78.7009 132.474 78.7065 132.68C78.699 132.931 78.749 133.181 78.8527 133.409C78.9564 133.638 79.1111 133.84 79.3049 133.999C79.715 134.334 80.2884 134.501 81.025 134.501C81.6444 134.514 82.2591 134.391 82.8254 134.14C83.3061 133.923 83.7373 133.61 84.0925 133.22C84.3815 132.905 84.6023 132.533 84.7411 132.129V132.125ZM95.9981 123.032C96.4127 122.75 96.8731 122.542 97.3588 122.418C97.8666 122.277 98.3913 122.206 98.9184 122.206C99.2216 122.208 99.5243 122.23 99.8244 122.273V125.272C99.485 125.183 99.1355 125.139 98.7847 125.14C98.1086 125.123 97.4406 125.289 96.8506 125.619C96.2272 125.949 95.7236 126.467 95.4113 127.099C95.0863 127.805 94.9268 128.575 94.9449 129.352V136.672H91.727V122.273H94.5688V124.58C94.9105 123.955 95.4015 123.424 95.9981 123.035V123.032ZM105.622 136.672H102.342L102.369 117.472H105.622V129.205L110.887 122.273H114.899L109.313 129.473L115.379 136.672H111.126L105.62 129.738L105.622 136.672ZM119.097 130.365C119.221 131.558 119.598 132.473 120.23 133.112C120.862 133.75 121.724 134.066 122.816 134.058C123.531 134.076 124.237 133.896 124.856 133.538C125.445 133.173 125.911 132.639 126.193 132.005L129.369 132.965C129.019 133.798 128.502 134.551 127.85 135.178C127.212 135.79 126.46 136.271 125.636 136.592C124.798 136.914 123.908 137.076 123.01 137.072C121.674 137.098 120.354 136.772 119.184 136.126C118.085 135.508 117.184 134.592 116.583 133.484C115.957 132.301 115.641 130.978 115.663 129.64C115.663 128.085 115.961 126.725 116.556 125.561C117.122 124.43 118.002 123.485 119.09 122.841C120.224 122.188 121.515 121.855 122.823 121.88C124.209 121.88 125.409 122.187 126.422 122.801C127.448 123.422 128.263 124.337 128.762 125.427C129.304 126.556 129.575 127.885 129.577 129.414C129.577 129.715 129.563 130.036 129.536 130.374L119.097 130.365ZM122.95 124.682C120.817 124.682 119.559 125.766 119.177 127.935H126.27C126.127 126.815 125.785 125.993 125.244 125.469C124.702 124.945 123.937 124.685 122.95 124.688V124.682ZM136.711 124.789V131.362C136.706 131.736 136.724 132.109 136.763 132.481C136.788 132.733 136.87 132.974 137.004 133.189C137.199 133.518 137.499 133.772 137.856 133.909C138.298 134.062 138.763 134.134 139.23 134.121C139.802 134.115 140.373 134.067 140.937 133.976V136.669C140.133 136.831 139.316 136.915 138.496 136.921C137.572 136.94 136.652 136.777 135.79 136.442C135.051 136.142 134.438 135.596 134.057 134.895C133.832 134.494 133.678 134.056 133.604 133.602C133.527 133.076 133.491 132.546 133.497 132.015L133.51 130.788V124.789H130.897V122.269H133.518V118.269H136.72V122.269H140.945V124.789H136.711Z\"\n        fill=\"#000\"\n      />\n      <path\n        d=\"M22 20.1852C21.9998 17.5344 22.5218 14.9095 23.5362 12.4605C24.5505 10.0114 26.0374 7.78616 27.9118 5.91176C29.7862 4.03736 32.0114 2.55053 34.4605 1.53618C36.9095 0.521838 39.5344 -0.000159358 42.1852 3.64928e-08L97.9349 3.64928e-08C103.288 3.64928e-08 108.423 2.12665 112.208 5.91211C115.993 9.69758 118.12 14.8318 118.12 20.1852V75.9349C118.12 81.2882 115.993 86.4222 112.208 90.2076C108.422 93.993 103.288 96.1198 97.9349 96.1201H42.1852C36.8318 96.1201 31.6976 93.9934 27.9121 90.208C24.1266 86.4225 22 81.2883 22 75.9349V20.1852Z\"\n        fill=\"#E34D28\"\n      />\n      <path\n        d=\"M56.884 26.2486L55.7771 27.3578L54.6703 28.4659L53.5647 29.5751L52.4579 30.6844L51.351 31.7973L50.2454 32.9066L49.1386 34.0158L48.0317 35.1239L46.9261 36.2332L45.8193 37.3424L44.7124 38.448L43.6068 39.5573L42.5 40.6666L41.3931 41.7758L40.2863 42.8839L39.1807 43.9931L38.0738 45.1024L37.6588 45.5187C37.4587 45.7083 37.3122 45.9473 37.234 46.2117C37.2061 46.3121 37.1919 46.4158 37.1915 46.5199C37.1571 46.7865 37.1648 47.0568 37.2146 47.3209C37.2724 47.6481 37.4271 47.9505 37.6588 48.1887C37.7398 48.2815 37.8329 48.3632 37.9355 48.4314C38.3797 48.7239 38.9209 48.7239 39.194 48.7239C40.7293 48.7239 44.869 48.7239 50.544 48.6572C50.8474 48.6546 51.1457 48.7356 51.4062 48.8912C51.6667 49.0468 51.8794 49.2711 52.0209 49.5395C52.1476 49.7822 52.2135 50.0521 52.2127 50.3259V60.3408C52.2127 60.4379 52.2127 60.535 52.2224 60.6309C52.247 61.0083 52.3196 61.3811 52.4384 61.7402C52.733 62.6156 53.2948 63.3765 54.0446 63.9158C54.7945 64.4551 55.6946 64.7456 56.6182 64.7463H67.0336C67.3186 64.7485 67.5993 64.677 67.8485 64.5388C68.0977 64.4006 68.3069 64.2004 68.456 63.9575C68.6166 63.6922 68.7007 63.3877 68.6987 63.0776V18.3478C68.701 18.1279 68.6594 17.9099 68.5764 17.7063C68.4933 17.5028 68.3705 17.3178 68.2151 17.1623C68.0597 17.0068 67.8749 16.8838 67.6714 16.8007C67.4679 16.7175 67.2498 16.6757 67.03 16.6778C66.6295 16.6778 66.161 16.8113 65.894 17.2118L59.0977 24.03L57.992 25.1393L56.884 26.2486Z\"\n        fill=\"white\"\n      />\n      <path\n        d=\"M71.097 49.5385C70.9576 49.893 70.8757 50.2675 70.8543 50.6478C70.8446 50.7813 70.8385 50.9172 70.8385 51.0604V53.9731C70.8385 54.3421 70.8385 54.7118 70.8385 55.0824V58.409C70.8385 58.7787 70.8385 59.1485 70.8385 59.5182C70.8385 59.8884 70.8385 60.2573 70.8385 60.6275C70.8385 60.9977 70.8385 61.3666 70.8385 61.7368C70.8385 62.1069 70.8385 62.4759 70.8385 62.846C70.8385 63.2162 70.8385 63.5851 70.8385 63.9541C70.8385 64.323 70.8385 64.6944 70.8385 65.0633V66.1726C70.8385 66.5367 70.8385 66.9117 70.8385 67.2819V68.3911V69.5004C70.8385 69.8645 70.8385 70.2395 70.8385 70.6097C70.8385 70.9798 70.8385 71.3488 70.8385 71.7177C70.8385 72.0867 70.8385 72.4568 70.8324 72.827C70.8264 73.1971 70.8324 73.5661 70.8324 73.9362C70.8324 74.3064 70.8324 74.6753 70.8264 75.0455L70.8191 76.1548C70.8191 76.5189 70.8191 76.8939 70.8191 77.264C70.8191 77.5626 70.8191 77.8636 70.8191 78.1621C70.8194 78.2323 70.8234 78.3024 70.8312 78.3721C70.8757 78.7924 71.0644 79.1844 71.3652 79.4814C71.5429 79.6618 71.7545 79.8054 71.9878 79.904C72.2211 80.0025 72.4716 80.0539 72.7249 80.0554C72.9781 80.0569 73.2292 80.0083 73.4636 79.9125C73.6981 79.8167 73.9113 79.6755 74.0911 79.4971L74.1056 79.4814L75.21 78.3721L76.3132 77.264L77.4176 76.1548L78.522 75.0455L79.6252 73.9362L80.7296 72.827L81.8329 71.7177L82.9372 70.6097L84.0405 69.5004L85.1448 68.3911L86.2481 67.2819L87.3525 66.1726L88.4569 65.0633L89.5601 63.9541L90.6645 62.846L91.7677 61.7368L92.8721 60.6275L93.9753 59.5182L95.0797 58.409L96.1841 57.2997L97.2873 56.1917L98.3917 55.0824L99.4949 53.9731L100.599 52.8639L101.703 51.7546L102.397 51.058C102.514 50.9362 102.612 50.797 102.687 50.6453C102.73 50.5629 102.767 50.4773 102.797 50.3893C102.87 50.112 102.884 49.8228 102.84 49.5397C102.816 49.4199 102.78 49.3031 102.73 49.1914C102.588 48.8768 102.354 48.6122 102.059 48.4317C101.778 48.2571 101.459 48.1515 101.128 48.1234C86.3743 48.1234 75.4928 48.0566 73.5558 48.0566C73.2718 48.0566 72.5983 48.0566 72.0339 48.4317C71.9331 48.4973 71.8392 48.5729 71.7536 48.6574C71.4679 48.8948 71.2428 49.1969 71.097 49.5385Z\"\n        fill=\"white\"\n      />\n    </SvgIcon>\n  );\n}\n\nexport default OneMarketVerticalLogo;\n","import { pickAll } from 'ramda';\nimport RP from 'react-facebook-pixel';\n\nimport config from '../../config/config';\nimport { isEmptyOrNil, isProduction } from '../../utils';\nimport { CapturedEventData } from './types';\n\nexport enum PIXEL_EVENTS_TYPE {\n  visitedSanMateoMP = 'visited_san_mateo_marketplace',\n  visitedSanMateoMPDiscovery =`visited_san_mateo_marketplace_discovery`\n}\n\nconst advancedMatching = {}; // optional, more info: https://developers.facebook.com/docs/facebook-pixel/advanced/advanced-matching\nconst options = {\n  autoConfig: true, // set pixel's autoConfig. More info: https://developers.facebook.com/docs/facebook-pixel/advanced/\n  debug: true, // enable logs\n};\n\nconst isPixelEnabled = () => isProduction() && !isEmptyOrNil(config.appConfig.pixelId)\n\nexport const initializeFbPixel = () => {\n  if (!isPixelEnabled()) return\n  RP.init(config.appConfig.pixelId, undefined, options)\n  RP.pageView()\n}\n\nexport const trackRPEvent = (title: PIXEL_EVENTS_TYPE, data: CapturedEventData = {}) => {\n  if (!isPixelEnabled()) return\n\n  const { user = {} } = data\n  const _data = {\n    user: pickAll(['id', 'email', 'phoneNumber', 'displayName'], user)\n  }\n\n  RP.trackCustom(title, _data)\n}","import React from \"react\";\nimport { Theme, useMediaQuery } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { footerData } from \"../../config/constants\";\nimport OneMarketVerticalLogo from \"../../assets/icons/OneMarketVerticalLogo\";\nimport { Link } from \"react-router-dom\";\nimport SignupForm from \"./SignupForm\";\nimport { If } from \"react-if\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    background: theme.palette.background.paper,\n    padding: \"50px 15px 40px\",\n    margin: 0,\n\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingTop: theme.spacing(2),\n    },\n\n    \"& a\": {\n      color: theme.palette.info.light,\n      textDecoration: \"none\",\n    },\n\n    \"& .footerWrapper\": {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      maxWidth: \"1270px\",\n      margin: \"auto\",\n\n      [theme.breakpoints.down(\"sm\")]: {\n        flexDirection: \"column\",\n        gap: \"20px\",\n        alignItems: \"center\",\n      },\n\n      '& .logo': {\n        width: 96,\n        height: 'auto'\n      }\n    },\n\n    \"& .linksWrapper\": {\n      display: \"flex\",\n      gridRowGap: \"50px\",\n\n      [theme.breakpoints.down(\"sm\")]: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        paddingTop: theme.spacing(3),\n        borderTop: `1px solid ${theme.palette.divider}`,\n        gridRowGap: \"20px\",\n      },\n    },\n\n    \"& .footerBottomLinks\": {\n      textAlign: \"center\",\n      marginTop: theme.spacing(4),\n\n      \"& .bottomLink\": {\n        fontSize: '14px',\n        padding: \"0 10px\",\n        borderRight: `1px solid ${theme.palette.divider}`,\n        color: theme.palette.info.light,\n        letterSpacing: \"1.2px\",\n\n        \"&:last-child\": {\n          borderRight: 0,\n        },\n      },\n    },\n  },\n\n  urlsList: {\n    marginRight: theme.spacing(3),\n\n    \"& .heading\": {\n      fontSize: \"14px\",\n      color: theme.palette.secondary.light,\n      margin: 0,\n      marginBottom: \"13px\",\n    },\n\n    \"& .link\": {\n      margin: 0,\n      marginBottom: \"10px\",\n\n      \"& a\": {\n        transition: \"all 200ms linear\",\n\n        \"&:hover\": {\n          color: \"#b3b3b3\",\n        },\n      },\n    },\n  },\n}));\n\ntype LinkProps = {\n  name: string;\n  url: string;\n  target?: string;\n};\n\ntype UrlsListProps = {\n  heading: string;\n  links: LinkProps[];\n};\n\nconst UrlsList = (props: UrlsListProps) => {\n  const { heading, links } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.urlsList}>\n      <h5 className=\"heading\">{heading}</h5>\n\n      {links.map((data, index: number) => {\n        const { name, url, target=\"\" } = data;\n\n        return (\n          <p className=\"link\" key={`link-${index}`}>\n            <a href={url} target={target}>\n              {name}\n            </a>\n          </p>\n        );\n      })}\n    </div>\n  );\n};\n\nconst AppFooter = () => {\n  const { urlsList, bottomLinks } = footerData;\n\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const classes = useStyles();\n\n  return (\n    <footer className={classes.root}>\n      <div className=\"footerWrapper\">\n        <Link to=\"/\">\n          <OneMarketVerticalLogo className=\"logo\" width=\"141\" height=\"138\" />\n        </Link>\n\n        <div className=\"linksWrapper\">\n          {urlsList.map((data, index) => {\n            return <UrlsList key={`list-${index}`} {...data} />;\n          })}\n        </div>\n        <If condition={!isMobile}>\n          <div />\n        </If>\n      </div>\n\n      <div className=\"footerBottomLinks\">\n        {bottomLinks.map((data, index) => {\n          const { name, url, target } = data;\n\n          return (\n            <a href={url} key={`link-${index}`} className=\"bottomLink\" target={target}>\n              {name}\n            </a>\n          );\n        })}\n      </div>\n    </footer>\n  );\n};\n\nexport default AppFooter;\n","export default __webpack_public_path__ + \"static/media/1m-logo.017681ea.svg\";","import React from \"react\";\nimport {\n  createStyles,\n  CardHeader,\n  makeStyles,\n  Stack,\n  Theme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { MenuDrawer } from \"./MenuDrawer\";\nimport AppLogo from \"../../assets/icons/1m-logo.svg\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: theme.spacing(2),\n      justifyContent: 'space-between',\n      \"& .MuiCardHeader-root\": {\n        padding: theme.spacing(1),\n        paddingLeft: 0,\n        textDecoration: \"none\",\n        \"& .MuiCardHeader-avatar\": {\n          mr: 1,\n        },\n      },\n      \"& .drawerButton\": {\n        background: \"transparent\",\n        padding: 0,\n        marginLeft: theme.spacing(2),\n        boxShadow: \"unset\",\n        '&:hover': {\n          background: 'transparent',\n        },\n        \"& svg\": {\n          fill: theme.palette.primary.main,\n        },\n      },\n\n    },\n  })\n);\n\ntype NavbarProps = {\n  children: React.ReactElement;\n};\n\nconst Navbar = ({ children }: NavbarProps) => {\n  const classes = useStyles();\n\n  return (\n    <Stack\n      direction={\"row\"}\n      alignItems={\"center\"}\n      className={classes.root}>\n      <CardHeader\n        component={Link}\n        to={\"/\"}\n        avatar={<img alt={\"One Market\"} src={AppLogo} />}\n      />\n\n      {children}\n\n      <MenuDrawer menuButtonProps={{ color: \"primary\", variant: \"contained\" }} />\n    </Stack>\n  );\n};\n\nexport default Navbar;\n","import React, { useState, useEffect, useMemo, useContext } from \"react\";\nimport { darken, rgba } from \"polished\";\nimport useAxios from \"axios-hooks\";\nimport {\n  Box,\n  CardContent,\n  Chip,\n  createStyles,\n  FormControl,\n  Grid,\n  IconButton,\n  makeStyles,\n  MenuItem,\n  Select,\n  Stack,\n  styled,\n  Theme,\n  Typography,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { NavigateBefore } from \"@material-ui/icons\";\nimport { If } from \"react-if\";\nimport classNames from \"classnames\";\n\n// src\nimport { ColoredPaper } from \"../bos_common/src/components/Papers\";\nimport EmbededMap from \"../bos_common/src/components/EmbededMap\";\nimport { StructuredAddress } from \"../bos_common/src/types/AddressType\";\nimport { Merchant } from \"../services/models\";\nimport { FabContainer } from \"../bos_common/src/components/FabContainers\";\nimport { MenuDrawer } from \"../components/common/MenuDrawer\";\nimport StoreSearchBox from \"../components/Stores/StoreSearchBox\";\nimport {\n  isEmptyOrNil,\n  isMerchantOnline,\n  scrollToTop,\n} from \"../utils\";\nimport SimpleLoader from \"../bos_common/src/components/SimpleLoader\";\nimport { MERCHANT_EXPENSE_LEVELS } from \"../bos_common/src/constants\";\n\n// assets\nimport OpenNowIcon from \"../assets/icons/OpenNowIcon\";\nimport {\n  AmericanIcon,\n  BowlIcon,\n  BrazilianIcon,\n  BurgerIcon,\n  BurritoIcon,\n  CakeIcon,\n  ChickenWingsIcon,\n  ChineseIcon,\n  CocktailIcon,\n  CoffeeBeanIcon,\n  CoffeeCupIcon,\n  EcoFriendlyIcon,\n  GuacamoleIcon,\n  OutlineHotpotIcon,\n  JapaneseFoodIcon,\n  KimchiIcon,\n  LaddooIcon,\n  FusionIcon,\n  NoodlesIcon,\n  PizzaIcon,\n  RiceBowlIcon,\n  SteakIcon,\n  SushiIcon,\n  TacoIcon,\n  VietnameseFoodIcon,\n  HotpotIcon,\n  PastaIcon,\n  SaladIcon,\n  RamenIcon,\n  SandwichIcon,\n  SoupIcon,\n  FishIcon,\n  BeverageIcon,\n  BreakfastIcon,\n  ItalianIcon,\n  JuiceIcon,\n} from \"../assets/icons/categories\";\nimport { useWindowStorage } from \"../bos_common/src\";\nimport { LOCALSTORAGE_MARKETPLACE_APP_KEYS } from \"../services/localStorage\";\nimport StoresListDetailed from \"../components/Stores/StoresListDetailed\";\nimport CustomizedChip from \"../components/common/CustomizedChip\";\nimport AppFooter from \"../components/common/AppFooter\";\nimport Navbar from \"../components/common/Navbar\";\nimport { PIXEL_EVENTS_TYPE, trackRPEvent } from \"../services/Tracking/FbPixelTracking\";\nimport { UserContext } from \"../bos_common/src/context/UserContext\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: \"relative\",\n\n      \"& .filterDropdown\": {\n        \"& .MuiSelect-root\": {\n          display: \"flex\",\n          fontSize: 14,\n          paddingTop: 5,\n          paddingBottom: 7,\n        },\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          border: 0,\n          background: rgba(theme.palette.info.light, 0.1),\n          borderRadius: 20,\n        },\n\n        \"& .MuiSelect-outlined\": {\n          background: \"transparent\",\n        },\n      },\n\n      \"& .openNowChip\": {\n        background: theme.palette.grey[200],\n        color: theme.palette.grey[900],\n        borderRadius: \"20px !important\",\n        padding: `${theme.spacing(1.2)} ${theme.spacing(2)}`,\n        gap: theme.spacing(1.5),\n        \"& .MuiSvgIcon-root\": {\n          color: theme.palette.grey[900],\n        },\n        \"&:hover\": {\n          background: darken(0.2, theme.palette.grey[200]),\n        },\n        \"&.active\": {\n          background: theme.palette.primary.main,\n          color: \"white\",\n          \"& .MuiSvgIcon-root\": {\n            color: \"white\",\n          },\n\n          \"&:hover\": {\n            background: darken(0.2, theme.palette.primary.main),\n          },\n        },\n      },\n\n      \"& .search-box\": {\n        [theme.breakpoints.up(\"sm\")]: {\n          maxWidth: 650,\n          width: \"100%\",\n        },\n      },\n\n      \"& .mapContainer\": {\n        [theme.breakpoints.up('md')]: {\n          position: \"sticky\",\n          top: 0,\n        },\n      },\n\n      \"& .banner\": {\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& #embeded_map\": {\n          width: \"100%\",\n\n          [theme.breakpoints.down('md')]: {\n            width: \"100vw\",\n          },\n\n          \"& .gm-fullscreen-control\": {\n            top: \"unset !important\",\n            bottom: \"0 !important\",\n          },\n        },\n\n        \"& .search-box\": {\n          position: \"fixed\",\n          padding: theme.spacing(2),\n          left: 0,\n          top: 0,\n          right: 0,\n          zIndex: 20,\n\n          \"& .MuiOutlinedInput-input\": {\n            fontSize: 14,\n          },\n        },\n      },\n      \"& .content\": {\n        position: \"relative\",\n        zIndex: 10,\n\n        [theme.breakpoints.up('md')]: {\n          minHeight: '100vh',\n        }\n      },\n    },\n  })\n);\n\nconst StyledChip = styled(Chip)(({ theme }) => ({\n  \"&.MuiChip-root\": {\n    borderRadius: 8,\n    cursor: \"pointer\",\n    border: \"1px solid grey\",\n    fontSize: 14,\n\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    height: 50,\n    minWidth: 80,\n    marginBottom: 4,\n\n    \"&.MuiChip-filledPrimary\": {\n      backgroundColor: rgba(theme.palette.primary.main, 0.25),\n      color: theme.palette.primary.main,\n      borderColor: theme.palette.primary.main,\n    },\n\n    \"& .MuiChip-icon\": {\n      margin: 0,\n      height: 24,\n    },\n\n    \"&.filters-chip\": {\n      \"&.MuiChip-filledDefault\": {\n        backgroundColor: \"transparent\",\n        border: 0,\n      },\n    },\n  },\n}));\n\ntype CategoryFilter = {\n  value: string;\n  label: string;\n  icon: any;\n  selectedIcon?: any;\n};\n\nconst MERCHANTS_CATEGORIES_LIST: CategoryFilter[] = [\n  {\n    value: \"american\",\n    label: \"American\",\n    icon: <AmericanIcon />,\n  },\n  {\n    value: \"asian\",\n    label: \"Asian\",\n    icon: <BowlIcon />,\n  },\n  {\n    value: \"asian fusion\",\n    label: \"Asian Fusion\",\n    icon: <RiceBowlIcon />,\n  },\n  // {\n  //   value: 'bakery',\n  //   label: 'Bakery',\n  //   icon: <BreadIcon />\n  // },\n  {\n    value: \"bar\",\n    label: \"Bar\",\n    icon: <CocktailIcon />,\n  },\n  {\n    value: \"bbq\",\n    label: \"BBQ\",\n    icon: <SteakIcon />,\n  },\n  {\n    value: \"beverage\",\n    label: \"Beverage\",\n    icon: <BeverageIcon />,\n  },\n  {\n    value: \"brazilian\",\n    label: \"Brazilian\",\n    icon: <BrazilianIcon />,\n  },\n  {\n    value: \"breakfast\",\n    label: \"Breakfast\",\n    icon: <BreakfastIcon />,\n  },\n  {\n    value: \"burger\",\n    label: \"Burger\",\n    icon: <BurgerIcon />,\n  },\n  {\n    value: \"burrito\",\n    label: \"Burrito\",\n    icon: <BurritoIcon />,\n  },\n  {\n    value: \"cafe\",\n    label: \"Café\",\n    icon: <CoffeeCupIcon />,\n  },\n  {\n    value: \"chinese\",\n    label: \"Chinese\",\n    icon: <ChineseIcon />,\n  },\n  {\n    value: \"coffee\",\n    label: \"Coffee\",\n    icon: <CoffeeBeanIcon />,\n  },\n  {\n    value: \"desserts\",\n    label: \"Desserts\",\n    icon: <CakeIcon />,\n  },\n  {\n    value: \"fusion\",\n    label: \"Fusion\",\n    icon: <FusionIcon />,\n  },\n  {\n    value: \"hot pot\",\n    label: \"Hot Pot\",\n    icon: <HotpotIcon />,\n  },\n  {\n    value: \"indian\",\n    label: \"Indian\",\n    icon: <LaddooIcon />,\n  },\n  {\n    value: \"italian\",\n    label: \"Italian\",\n    icon: <ItalianIcon />,\n  },\n  {\n    value: \"japanese\",\n    label: \"Japanese\",\n    icon: <JapaneseFoodIcon />,\n  },\n  {\n    value: \"juice\",\n    label: \"Juice\",\n    icon: <JuiceIcon />,\n  },\n  {\n    value: \"korean\",\n    label: \"Korean\",\n    icon: <KimchiIcon />,\n  },\n  {\n    value: \"mexican\",\n    label: \"Mexican\",\n    icon: <GuacamoleIcon />,\n  },\n  {\n    value: \"noodles\",\n    label: \"Noodles\",\n    icon: <NoodlesIcon />,\n  },\n  {\n    value: \"pasta\",\n    label: \"Pasta\",\n    icon: <PastaIcon />,\n  },\n  {\n    value: \"pizza\",\n    label: \"Pizza\",\n    icon: <PizzaIcon />,\n  },\n  {\n    value: \"ramen\",\n    label: \"Ramen\",\n    icon: <RamenIcon />,\n  },\n  {\n    value: \"salad\",\n    label: \"Salad\",\n    icon: <SaladIcon />,\n  },\n  {\n    value: \"sandwich\",\n    label: \"Sandwich\",\n    icon: <SandwichIcon />,\n  },\n  {\n    value: \"soup\",\n    label: \"Soup\",\n    icon: <SoupIcon />,\n  },\n  {\n    value: \"seafood\",\n    label: \"Seafood\",\n    icon: <FishIcon />,\n  },\n  {\n    value: \"sushi\",\n    label: \"Sushi\",\n    icon: <SushiIcon />,\n  },\n  {\n    value: \"tacos\",\n    label: \"Tacos\",\n    icon: <TacoIcon />,\n  },\n  {\n    value: \"thai\",\n    label: \"Thai\",\n    icon: <OutlineHotpotIcon />,\n  },\n  {\n    value: \"vietnamese\",\n    label: \"Vietnamese\",\n    icon: <VietnameseFoodIcon />,\n  },\n  {\n    value: \"vegetarian\",\n    label: \"Vegetarian\",\n    icon: <EcoFriendlyIcon />,\n  },\n  {\n    value: \"wings\",\n    label: \"Wings\",\n    icon: <ChickenWingsIcon />,\n  },\n];\n\ninterface SearchStateType {\n  sortBy: string;\n  price: number | undefined;\n  name: string;\n  selectedCategory: string;\n}\n\nconst MerchantDiscoveryPage = (): React.ReactElement => {\n  const classes = useStyles();\n  const { user } = useContext(UserContext);\n\n  const [searchState, setSearchState] = useWindowStorage<SearchStateType>(\n    LOCALSTORAGE_MARKETPLACE_APP_KEYS.MARKETPLACE_DISCOVERY_SEARCH_STATE,\n    {\n      sortBy: \"\",\n      price: -1,\n      name: \"\",\n      selectedCategory: \"\",\n    },\n    \"sessionStorage\"\n  );\n\n  const [storeLocations, setStoreLocations] = useState<StructuredAddress[]>();\n  const [showOnlineOnlyMerchants, setShowOnlineOnlyMerchants] = useState<boolean>(false);\n\n  const isMobile = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down(\"sm\")\n  );\n\n  const isTabletView = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down(\"md\")\n  );\n\n  const [{ data: merchantsList, loading: isFetchingMerchants }, executeCall] =\n    useAxios<Merchant[]>(\n      { url: `/merchants/search`, method: \"GET\" },\n      { manual: true }\n    );\n\n  useEffect(() => {\n    scrollToTop();\n\n    trackRPEvent(\n      PIXEL_EVENTS_TYPE.visitedSanMateoMPDiscovery,\n      { user }\n    )\n  }, [])\n\n  // execute Search Call where search state is updated\n  useEffect(() => {\n    executeCall({\n      params: {\n        limit: 100, // provided limit 1000 because a param with null value is not sent in the request\n        zipcode: \"94401,94404\",\n        ...(!isEmptyOrNil(searchState.name) && { name: searchState.name }),\n        ...(!isEmptyOrNil(searchState.selectedCategory) && {\n          category: searchState.selectedCategory,\n        }),\n        ...(searchState.price && searchState.price > 0 && {\n          expenseLevel: searchState.price,\n        }),\n      },\n    });\n  }, [searchState]);\n\n  const filteredMerchantsList = useMemo(\n    () =>\n      merchantsList?.filter((i) => {\n        return showOnlineOnlyMerchants ? isMerchantOnline(i) : true;\n      }) || [],\n    [merchantsList, showOnlineOnlyMerchants]\n  );\n\n  useEffect(() => {\n    if (!filteredMerchantsList) return;\n    const storeLocations: StructuredAddress[] = filteredMerchantsList\n      .filter(\n        (item) =>\n          item.structuredAddress &&\n          item.structuredAddress.lat &&\n          item.structuredAddress.lng\n      )\n      .map<StructuredAddress>(\n        (item) =>\n        ({\n          ...item.structuredAddress,\n          id: item.username,\n          title: item.officialName,\n          subtitle: item.description,\n        } || {})\n      );\n\n    setStoreLocations([...storeLocations]);\n  }, [filteredMerchantsList]);\n\n  const handleChange = (key: string, value: any) => {\n    setSearchState((s) => ({\n      ...s,\n      [key]: value,\n    }));\n  };\n\n  const onChangeQuery = (query: string): void => {\n    handleChange(\"name\", query);\n    scrollToTop(\"marketplace-page\");\n  };\n\n  return (\n    <div className={classes.root} id=\"marketplace-page\">\n      <If condition={!isMobile}>\n        <Navbar>\n          <div className=\"search-box\">\n            <StoreSearchBox\n              onChangeQuery={onChangeQuery}\n              placeholder=\"Search in San Mateo...\"\n              defaultValue={searchState.name}\n              leftChild={\n                <IconButton sx={{ p: 0 }} component={Link} to={\"/sanmateo\"}>\n                  <NavigateBefore fontSize=\"large\" color=\"primary\" />\n                </IconButton>\n              }\n            />\n          </div>\n        </Navbar>\n      </If>\n\n      <Grid container direction={isTabletView ? 'column-reverse' : 'row'} alignItems=\"flex-start\">\n        <Grid item sm={12} xs={12} md={6} sx={{ width: \"100%\" }} >\n          <ColoredPaper variant=\"outlined\" className=\"content\">\n            <SimpleLoader loading={isFetchingMerchants} />\n            <CardContent>\n              <Stack\n                direction=\"row\"\n                alignItems=\"center\"\n                spacing={2}\n                overflow=\"auto\"\n                sx={{ marginBottom: 2 }}\n              >\n                {MERCHANTS_CATEGORIES_LIST.map((category) => {\n                  const isCategorySelected =\n                    searchState.selectedCategory === category.value;\n                  return (\n                    <StyledChip\n                      key={category.value}\n                      label={category.label}\n                      icon={\n                        isCategorySelected && category.selectedIcon\n                          ? category.selectedIcon\n                          : category.icon\n                      }\n                      variant={\"filled\"}\n                      className=\"filters-chip\"\n                      color={isCategorySelected ? \"primary\" : \"default\"}\n                      onClick={() =>\n                        handleChange(\n                          \"selectedCategory\",\n                          isCategorySelected ? \"\" : category.value\n                        )\n                      }\n                    />\n                  );\n                })}\n              </Stack>\n              <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n                <CustomizedChip\n                  variant=\"filled\"\n                  color=\"default\"\n                  className={classNames({\n                    openNowChip: true,\n                    active: showOnlineOnlyMerchants,\n                  })}\n                  icon={<OpenNowIcon />}\n                  label=\"Open Now\"\n                  onClick={() =>\n                    setShowOnlineOnlyMerchants(!showOnlineOnlyMerchants)\n                  }\n                />\n\n                <Box sx={{ minWidth: 130 }}>\n                  <FormControl\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    className=\"filterDropdown\"\n                  >\n                    <Select\n                      labelId=\"expense-level\"\n                      value={searchState.price}\n                      onChange={(e) => handleChange(\"price\", e.target.value)}\n                      placeholder=\"Price Range\"\n                      displayEmpty\n                    >\n                      <MenuItem value={-1}>\n                        Price Range\n                      </MenuItem>\n                      {MERCHANT_EXPENSE_LEVELS.map((option) => (\n                        <MenuItem key={option.value} value={option.value}>\n                          {option.label}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </Box>\n              </Stack>\n            </CardContent>\n\n            <CardContent>\n              <Typography variant=\"subtitle1\" component={\"div\"} gutterBottom>\n                Filtered\n                <Typography\n                  component={\"span\"}\n                  color=\"primary\"\n                >\n                  &nbsp;\n                  {filteredMerchantsList.length}&nbsp;\n                </Typography>\n                local&nbsp;\n                {searchState.selectedCategory && <Typography\n                  component={\"span\"}\n                  color=\"primary\">\n                  {searchState.selectedCategory}&nbsp;\n                </Typography>}\n                merchants\n              </Typography>\n\n              <StoresListDetailed merchants={filteredMerchantsList} capToMD={true} />\n            </CardContent>\n\n            <If condition={isMobile}>\n              <FabContainer\n                alignment=\"right\"\n                fabStyle={{ padding: \"24px 16px 16px\" }}\n                fadeTop={isMobile}\n              >\n                <MenuDrawer\n                  menuButtonProps={{ color: \"primary\", variant: \"contained\" }}\n                />\n              </FabContainer>\n            </If>\n          </ColoredPaper>\n        </Grid>\n\n        <Grid item sm={12} xs={12} md={6} className=\"mapContainer\">\n          <div className=\"banner\">\n            <If condition={isMobile}>\n              <div className=\"search-box\">\n                <StoreSearchBox\n                  onChangeQuery={onChangeQuery}\n                  placeholder=\"Search in San Mateo...\"\n                  defaultValue={searchState.name}\n                  leftChild={\n                    <IconButton sx={{ p: 0 }} component={Link} to={\"/sanmateo\"}>\n                      <NavigateBefore fontSize=\"large\" color=\"primary\" />\n                    </IconButton>\n                  }\n                />\n              </div>\n            </If>\n            <EmbededMap storeLocations={storeLocations || []} height={isTabletView ? \"250px\" : \"100vh\"} />\n          </div>\n        </Grid>\n      </Grid>\n\n      <AppFooter />\n    </div>\n  );\n};\n\nexport default MerchantDiscoveryPage;\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport { rgba } from \"polished\";\n\nexport const useCardStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: \"220px\",\n      width: \"210px\",\n      display: 'flex',\n      flexDirection: 'column',\n      borderRadius: `${theme.spacing(2)} !important`,\n\n      '& .card-action-container': {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        alignItems: 'start',\n        height: 'inherit',\n        flex: 1,\n        position: 'relative',\n\n        '& .card-background-img': {\n          position: 'absolute',\n          width: 'calc(100% - 2px);',\n          height: 'calc(100% - 2px);',\n          top: 1,\n          left: 1,\n          objectFit: \"cover\",\n          borderRadius: theme.spacing(2.5)\n        },\n\n        '& .overlay': {\n          position: 'absolute',\n          bottom: 1,\n          left: 1,\n          background: 'linear-gradient(180deg, rgba(0, 0, 0, 0) 18.75%, rgba(0, 0, 0, 0.6) 54.69%)',\n          width: 'calc(100% - 2px);',\n          height: '75%',\n          borderRadius: theme.spacing(2.5)\n        },\n\n        '& .card-highlight-text-container': {\n          zIndex: 0,\n          padding: `${theme.spacing(1.5)} ${theme.spacing(1.25)}`,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          gridGap: theme.spacing(2),\n\n          '& .ellipsized-text-container': {\n            display: 'grid',\n            gridTemplateColumns: '15px 1fr',\n            gridColumnGap: '5px',\n\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n        },\n\n        '& .card-content': {\n          zIndex: 0,\n          padding: `${theme.spacing(2)} ${theme.spacing(1.75)}`,\n          width: 'fill-available',\n\n          '& .card-title': {\n            fontWeight: 700,\n            color: theme.palette.background.paper,\n            fontSize: 14,\n\n            textOverflow: 'ellipsis',\n            width: 'auto',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n          },\n\n          '& .card-subtitle': {\n            fontSize: \"12px\",\n            fontWeight: 500,\n            color: 'white',\n            textOverflow: 'ellipsis',\n            width: '170px',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n\n            [theme.breakpoints.up('sm')]: {\n              width: \"100%\"\n            }\n          },\n\n          '& .merchandise-title-container': {\n            background: theme.palette.common.white,\n            position: 'absolute',\n            right: 0,\n            bottom: 0,\n            left: 0,\n            padding: \"12px 10px 14px 14px\",\n\n            '& .card-title': {\n              color: theme.palette.info.light,\n              fontSize: 14,\n            },\n\n            '& .card-subtitle': {\n              color: theme.palette.secondary.light,\n              fontWeight: 600,\n              fontSize: 12,\n            },\n          },\n\n          '& .card-info-container': {\n            display: 'flex',\n            alignItems: 'center',\n            flexWrap: \"wrap\",\n            justifyContent: 'start',\n            gap: \"3px\",\n            fontSize: 12,\n            fontWeight: 700,\n            color: theme.palette.info.light,\n          },\n        },\n\n      },\n\n      '&.show-all-card-container': {\n        maxWidth: '125px',\n        border: 0,\n        background: rgba(theme.palette.primary.main, 0.15),\n\n        '& .show-all-card-action-container': {\n          display: 'flex',\n          flexDirection: \"column\",\n          justifyContent: 'center',\n          alignItems: 'center',\n          flex: '1 1 auto',\n          color: theme.palette.primary.main,\n\n          '& .show-all-card-content': {\n            zIndex: 0,\n            padding: theme.spacing(2),\n            width: `calc(100% - ${theme.spacing(4)})`\n          }\n        },\n      }\n    }\n  })\n)","import React from 'react';\nimport { CardContent, Typography, Card, CardActionArea, Box, Button, Stack } from '@material-ui/core';\nimport { ChevronRight } from '@material-ui/icons';\nimport classNames from 'classnames';\n\n// src\nimport { useCardStyles } from './styles';\n\ninterface ClassifiedShowAllCardProps {\n  onCardClick: () => void\n}\n\nconst ClassifiedShowAllCard = ({ onCardClick }: ClassifiedShowAllCardProps) => {\n  const classes = useCardStyles();\n\n  const seeAllStyles = classNames([classes.root, 'show-all-card-container'])\n  return (\n    <Card elevation={3} className={seeAllStyles} onClick={onCardClick}>\n      <CardActionArea className=\"show-all-card-action-container\">\n        <CardContent className=\"show-all-card-content\">\n          <Typography textAlign={'center'} sx={{display: \"flex\"}} justifyContent=\"center\">View All <ChevronRight /></Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card >\n  )\n}\n\nexport default ClassifiedShowAllCard","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ArrowDownFilledIcon(props: any) {\n  return (\n    <SvgIcon sx={{ width: 12, height: 12, color: \"white\" }} viewBox=\"0 0 12 12\" fill=\"none\" {...props} >\n        <path d=\"M11.25 6C11.25 8.9002 8.9002 11.25 6 11.25C3.0998 11.25 0.75 8.9002 0.75 6C0.75 3.0998 3.0998 0.75 6 0.75C8.9002 0.75 11.25 3.0998 11.25 6ZM5.06855 3.54435V6H3.56764C3.34113 6 3.22681 6.2752 3.3877 6.43397L5.82006 8.85363C5.91956 8.95312 6.07833 8.95312 6.17782 8.85363L8.61018 6.43397C8.77107 6.27308 8.65675 6 8.43024 6H6.93145V3.54435C6.93145 3.40464 6.81714 3.29032 6.67742 3.29032H5.32258C5.18286 3.29032 5.06855 3.40464 5.06855 3.54435Z\" fill=\"white\"/>\n    </SvgIcon>\n  );\n}\n\nexport default ArrowDownFilledIcon\n\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { If, Then } from 'react-if';\nimport { pipe, propOr, split, without, slice, take } from 'ramda';\nimport { CardContent, Typography, Card, CardActionArea, Box } from '@material-ui/core';\n\n// src\nimport { Merchant } from '../../services/models';\nimport PlaceholderImage from \"../../assets/images/merchant-placeholder.png\";\n\nimport { isEmptyOrNil, withFallbackPath } from '../../utils';\nimport { EllipsizedText, StyledExpenseChip, StyledGreenChip } from './styledComponents';\nimport { ClassifiedEntry } from '../../bos_common/src/types/ClassifiedType';\nimport { getBigSavingsValue, isBigSavingsClassified } from './utils';\nimport { useCardStyles } from './styles';\nimport MerchantCategoriesList from '../common/MerchantCategoriesList';\nimport renderMerchantRewards from \"../common/MerchantRewards\";\nimport ArrowDownFilledIcon from '../../assets/icons/ArrowDownFilledIcon';\nimport { MERCHANT_EXPENSE_LEVELS } from '../../bos_common/src/constants';\nimport MerchantOrderAheadChip from '../common/MerchantOrderAheadChip';\n\nconst getCardSubtitles = (merchant: Merchant) => {\n  const subtitles = [];\n  const points = renderMerchantRewards(merchant);\n  if (points) {\n    subtitles.push(points)\n  }\n  return subtitles;\n}\n\nconst getCardBackgroundSrc = (merchant: Merchant) => {\n  if (!isEmptyOrNil(merchant.heroPhoto)) return merchant.heroPhoto\n  return PlaceholderImage\n}\n\nconst ClassifiedMerchantCard = ({ entry }: { entry: ClassifiedEntry }): JSX.Element => {\n  const classes = useCardStyles();\n\n  const merchant = entry.merchant!;\n  const subtitles = getCardSubtitles(merchant)\n  const categoriesList: string[] = useMemo(() => {\n    return pipe(propOr('', 'category'), split(','), slice(0, 3), without([' ', '']), take(1))(merchant)\n  }, [merchant]);\n  const cardBackgroundSrc = getCardBackgroundSrc(merchant)\n  const chipText = isBigSavingsClassified(entry) ? `Up to ${getBigSavingsValue(entry)} Exclusive Saving` : ''\n\n  const BackgroundImage = (props: any) => (\n    <img\n      className=\"card-background-img\"\n      src={cardBackgroundSrc + \"_medium\"}\n      onError={props.onError}\n    />\n  );\n  const EnhancedBackgroundImage = withFallbackPath(BackgroundImage, cardBackgroundSrc)\n\n  const expenseLevel = MERCHANT_EXPENSE_LEVELS?.find((item: any) => item.value === merchant?.expenseLevel)\n\n  return (\n    <Card elevation={3} className={classes.root}>\n      <CardActionArea\n        className=\"card-action-container\"\n        component={Link}\n        to={{\n          pathname: `/${merchant.username}`,\n          state: { from: window.location.pathname },\n        }}\n      >\n        <EnhancedBackgroundImage />\n        <div className='overlay' />\n\n        <Box className=\"card-highlight-text-container\">\n          <If condition={!isEmptyOrNil(chipText)}>\n            <StyledGreenChip\n              size=\"small\"\n              icon={<ArrowDownFilledIcon sx={{ width: 18, height: 18 }} />}\n              label={<EllipsizedText>{chipText}</EllipsizedText>} variant=\"filled\"\n            />\n          </If>\n\n          {/* <MerchantOrderAheadChip merchant={merchant} /> */}\n        </Box>\n\n        <CardContent className=\"card-content\">\n          <Typography className=\"card-title\" title={merchant.officialName} component=\"div\" variant=\"h6\">\n            {merchant.officialName}\n          </Typography>\n\n          <div className=\"card-info-container\">\n            <If condition={!isEmptyOrNil(subtitles)}>\n              {subtitles.map<React.ReactNode>((t, index) => <React.Fragment key={`${index}-${Math.random() * 100}`}>{t}</React.Fragment>)}\n            </If>\n          </div>\n\n          <Box sx={{ pr: 2, mt: 1, display: \"flex\", alignItems: \"flex-end\" }}>\n            <If condition={!isEmptyOrNil(merchant?.expenseLevel) && !isEmptyOrNil(expenseLevel)}>\n              <Then>\n                <StyledExpenseChip\n                  label={expenseLevel?.label || \"\"}\n                  variant=\"filled\"\n                  size=\"small\"\n                  sx={{ marginRight: 1 }}\n                />\n              </Then>\n            </If>\n            <If condition={!isEmptyOrNil(categoriesList)}>\n              <Then>\n                <MerchantCategoriesList categoriesList={categoriesList} />\n              </Then>\n            </If>\n          </Box>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  )\n}\n\nexport default ClassifiedMerchantCard","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { If, Then } from 'react-if';\nimport { CardContent, Typography, Card, CardActionArea, Box } from '@material-ui/core';\nimport { format } from 'date-fns';\nimport { pipe, propOr, slice, split, take, without } from 'ramda';\n\n// src\nimport { Merchant } from '../../services/models';\nimport { MerchantPromotion } from '../../bos_common/src/types/MerchantPromotionType';\nimport { isValidExpiryDate } from '../../bos_common/src/services/CouponUtils';\nimport { MERCHANT_EXPENSE_LEVELS } from '../../bos_common/src/constants';\n\nimport PlaceholderImage from \"../../assets/images/merchant-placeholder.png\";\nimport { isEmptyOrNil, withFallbackPath } from '../../utils';\nimport renderMerchantRewards from '../common/MerchantRewards';\nimport MerchantCategoriesList from '../common/MerchantCategoriesList';\nimport MerchantPromotionChip from '../common/MerchantPromotionChip';\nimport { useCardStyles } from './styles';\nimport { StyledExpenseChip } from './styledComponents';\nimport MerchantOrderAheadChip from '../common/MerchantOrderAheadChip';\n\nconst getCardSubtitles = (merchant: Merchant) => {\n  const subtitles = [];\n  const points = renderMerchantRewards(merchant);\n  if (points) {\n    subtitles.push(points)\n  }\n  return subtitles;\n}\n\nconst getCardBackgroundSrc = (merchant: Merchant) => {\n  if (!isEmptyOrNil(merchant.heroPhoto)) return merchant.heroPhoto\n  if (!isEmptyOrNil(merchant.logo)) return merchant.logo\n  return PlaceholderImage\n}\n\nconst ClassifiedPromotionCard = ({ merchant, promotion }: { merchant: Merchant, promotion: MerchantPromotion }): JSX.Element => {\n  const classes = useCardStyles();\n  const cardBackgroundSrc = getCardBackgroundSrc(merchant);\n\n  const subtitles = getCardSubtitles(merchant)\n\n  const categoriesList: string[] = useMemo(() => {\n    return pipe(propOr('', 'category'), split(','), slice(0, 3), without([' ', '']), take(1))(merchant)\n  }, [merchant]);\n\n  const BackgroundImage = (props: any) => (\n    <img\n      className=\"card-background-img\"\n      src={`${cardBackgroundSrc}_medium`}\n      onError={props.onError}\n    />\n  );\n  const EnhancedBackgroundImage = withFallbackPath(BackgroundImage, cardBackgroundSrc)\n\n  const expenseLevel = MERCHANT_EXPENSE_LEVELS?.find((item: any) => item.value === merchant?.expenseLevel)\n\n  return (\n    <Card elevation={3} className={classes.root}>\n      <CardActionArea\n        className=\"card-action-container\"\n        component={Link}\n        to={{\n          pathname: `/${merchant.username}`,\n          state: { from: window.location.pathname, promotion },\n        }}\n      >\n        <EnhancedBackgroundImage />\n        <div className='overlay' />\n\n        <Box className=\"card-highlight-text-container\">\n          <MerchantPromotionChip promotion={promotion} />\n          {/* <MerchantOrderAheadChip merchant={merchant} /> */}\n        </Box>\n\n        <CardContent className=\"card-content\">\n          <Typography className=\"card-title\" title={merchant.officialName} component=\"div\" variant=\"h6\">\n            {merchant.officialName}\n          </Typography>\n\n          <div className=\"card-info-container\">\n            <If condition={!isEmptyOrNil(subtitles)}>\n              {subtitles.map<React.ReactNode>((t, index) => <React.Fragment key={`${index}-${Math.random() * 100}`}>{t}</React.Fragment>)}\n            </If>\n          </div>\n\n          <Box sx={{ pr: 2, mt: 1, display: \"flex\", alignItems: \"flex-end\" }}>\n            <If condition={!isEmptyOrNil(merchant?.expenseLevel) && !isEmptyOrNil(expenseLevel)}>\n              <Then>\n                <StyledExpenseChip\n                  label={expenseLevel?.label || \"\"}\n                  variant=\"filled\"\n                  size=\"small\"\n                  sx={{ marginRight: 1 }}\n                />\n              </Then>\n            </If>\n            <If condition={!isEmptyOrNil(categoriesList)}>\n              <Then>\n                <MerchantCategoriesList categoriesList={categoriesList} />\n              </Then>\n            </If>\n          </Box>\n\n          <If condition={isValidExpiryDate(promotion.endDate)}>\n            <Typography className=\"card-subtitle\" component=\"div\" variant=\"subtitle1\">\n              Expires {format(new Date(promotion.endDate), 'MM/dd/yy')}\n            </Typography>\n          </If>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  )\n}\n\nexport default ClassifiedPromotionCard","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction HotItemsIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 12, height: 12 }} viewBox=\"0 0 10 10\" {...props} >\n      <path d=\"M8.7092 4.52981C8.48564 4.04591 8.16064 3.61158 7.75455 3.254L7.41944 2.9583C7.40807 2.94854 7.39437 2.94161 7.37956 2.93812C7.36475 2.93464 7.34927 2.9347 7.33449 2.93831C7.31971 2.94192 7.30608 2.94896 7.29479 2.95882C7.2835 2.96868 7.2749 2.98105 7.26974 2.99485L7.12004 3.40794C7.02676 3.66709 6.85518 3.93178 6.6122 4.19203C6.59608 4.20865 6.57765 4.21308 6.56498 4.21418C6.55232 4.21529 6.53274 4.21308 6.51547 4.19757C6.49934 4.18428 6.49128 4.16435 6.49244 4.14441C6.53504 3.47771 6.32776 2.72573 5.87405 1.90731C5.49864 1.22732 4.97698 0.696837 4.32519 0.32694L3.8496 0.0578234C3.78741 0.0223842 3.70795 0.0688981 3.71141 0.138669L3.73674 0.670258C3.75402 1.03351 3.71026 1.35468 3.60662 1.62158C3.47994 1.94829 3.298 2.25173 3.06538 2.52417C2.9035 2.71351 2.72002 2.88477 2.51839 3.03472C2.03278 3.39373 1.63792 3.85374 1.36337 4.3803C1.0895 4.91147 0.946837 5.49626 0.946503 6.08914C0.946503 6.61187 1.0536 7.11799 1.26549 7.59531C1.47008 8.05487 1.76533 8.47196 2.13492 8.8235C2.50802 9.17789 2.94101 9.45698 3.42352 9.65079C3.9233 9.85235 4.45302 9.95423 5.00001 9.95423C5.547 9.95423 6.07672 9.85235 6.5765 9.65189C7.05782 9.45922 7.4955 9.17823 7.8651 8.82461C8.23821 8.47022 8.5307 8.05602 8.73453 7.59642C8.9461 7.1204 9.05463 6.60793 9.05351 6.09025C9.05351 5.5498 8.93836 5.02486 8.7092 4.52981Z\" fill=\"url(#paint0_linear_8032_47430)\" />\n      <defs>\n        <linearGradient id=\"paint0_linear_8032_47430\" x1=\"5.00001\" y1=\"0.0456543\" x2=\"5.00001\" y2=\"9.95423\" gradientUnits=\"userSpaceOnUse\">\n          <stop stopColor=\"#E34D28\" />\n          <stop offset=\"1\" stopColor=\"#FF8E25\" />\n        </linearGradient>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default HotItemsIcon","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { If } from 'react-if';\nimport { head, pathOr, pipe, propOr } from 'ramda';\nimport { CardContent, Typography, Card, CardActionArea, Box, Stack } from '@material-ui/core';\nimport { isArray } from 'class-validator';\n\n// src\nimport { Merchandise, Merchant, MerchantCoupon } from '../../services/models';\nimport PlaceholderImage from \"../../assets/images/merchant-placeholder.png\";\nimport HotItemsIcon from '../../assets/icons/HotItemsIcon';\n\nimport { ClassifiedEntry } from '../../bos_common/src/types/ClassifiedType';\nimport { isEmptyOrNil, withFallbackPath } from '../../utils';\nimport MerchandisePrice from '../MerchantMenu/MerchandisePrice';\nimport { CardHighlightChip, EllipsizedText, StyledGreyChip } from './styledComponents';\nimport { useCardStyles } from './styles';\n\nconst getCardBackgroundSrc = (merchant: Merchant, merchandise: Merchandise) => {\n  if (!isEmptyOrNil(merchandise.photos)) return isArray(merchandise.photos) ? head(merchandise.photos) : merchandise.photos\n  if (!isEmptyOrNil(merchant.heroPhoto)) return merchant.heroPhoto\n\n  return PlaceholderImage\n}\n\nconst ClassifiedMerchandiseCard = ({ entry }: { entry: ClassifiedEntry }) => {\n  const classes = useCardStyles();\n\n  const merchant = entry.merchant!;\n  const merchandise = entry.merchandise!;\n  const cardBackgroundSrc = getCardBackgroundSrc(merchant!, merchandise!);\n\n  const BackgroundImage = (props: any) => (\n    <img\n      className=\"card-background-img\"\n      src={cardBackgroundSrc + \"_medium\"}\n      onError={props.onError}\n    />);\n  const EnhancedBackgroundImage = withFallbackPath(BackgroundImage, cardBackgroundSrc);\n\n  const promotionCoupon: MerchantCoupon | undefined = pipe(\n    pathOr({}, ['promotions', 0]),\n    pathOr(undefined, ['coupons', 0]),\n  )(merchant);\n\n  const classifiedOneLiner = propOr('', 'oneliner', entry);\n\n  return (\n    <Card elevation={3} className={classes.root}>\n      <CardActionArea\n        className=\"card-action-container\"\n        component={Link}\n        to={{\n          pathname: `/${merchant.username}/item/${merchandise.id}`,\n          state: { from: `/${merchant.username}`, sanMateo: true },\n        }}\n      >\n        <EnhancedBackgroundImage />\n\n        <Box className=\"card-highlight-text-container\">\n          <If condition={!isEmptyOrNil(classifiedOneLiner)}>\n            <CardHighlightChip\n              style={{ backgroundColor: \"white\", color: 'black' }}\n              size=\"small\"\n              label={(\n                <div className='ellipsized-label'>\n                  <HotItemsIcon/><EllipsizedText>{classifiedOneLiner}</EllipsizedText>\n                </div>\n              )}\n              variant=\"filled\"\n            />\n          </If>\n        </Box>\n\n        <CardContent className=\"card-content\">\n          <div className='merchandise-title-container'>\n            <Typography className=\"card-title\" title={merchandise.name} component=\"div\" variant=\"h6\">\n              {merchandise.name}\n            </Typography>\n\n            <Typography className=\"card-subtitle\" component=\"div\" variant=\"h6\">\n              {merchant.officialName}\n            </Typography>\n\n            <div className=\"card-info-container\">\n              <MerchandisePrice merchandise={merchandise} coupon={promotionCoupon} />\n            </div>\n          </div>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  )\n}\n\nexport default ClassifiedMerchandiseCard","import React from 'react';\nimport { filter, flatten, map, pathEq, pathOr, pipe, pluck } from \"ramda\";\nimport { If, Then, Else } from 'react-if';\n\nimport { ClassifiedDetailsType, ClassifiedEntry, ClassifiedKey, ClassifiedType } from \"../../bos_common/src/types/ClassifiedType\";\nimport { MerchantPromotion } from '../../bos_common/src/types/MerchantPromotionType';\nimport { Merchant, User } from '../../services/models';\nimport { isEmptyOrNil, isUserEligibleForPromotion } from \"../../utils\";\nimport { CarousellItemWrapper } from './styledComponents';\nimport ClassifiedMerchantCard from './ClassifiedMerchantCard';\nimport ClassifiedPromotionCard from './ClassifiedPromotionCard';\nimport ClassifiedMerchandiseCard from './ClassifiedMerchandiseCard';\nimport { isPromotionValid } from '../../bos_common/src/services/PromotionUtils';\n\nexport const isClassifiedForMerchant = (entry: ClassifiedEntry) => {\n  return entry.type === ClassifiedType.merchant && !isEmptyOrNil(entry.merchant)\n}\n\nexport const isClassifiedForMerchandise = (entry: ClassifiedEntry) => {\n  return entry.type === ClassifiedType.merchandise && !isEmptyOrNil(entry.merchandise)\n}\n\nexport const isClassifiedForPromotion = (entry: ClassifiedEntry) => {\n  return pathEq(['details', 'key'], ClassifiedKey.hotDeal, entry)\n    && entry.type === ClassifiedType.merchant\n    && !isEmptyOrNil(entry.merchant)\n    && !isEmptyOrNil(pathOr([], ['merchant', 'promotions'], entry))\n}\n\nexport const isBigSavingsClassified = (entry: ClassifiedEntry) => {\n  return entry.details.key === ClassifiedKey.bigSavings && !isEmptyOrNil(entry.value)\n}\n\nexport const getBigSavingsValue = (entry: ClassifiedEntry) => {\n  const { value, valueType } = entry\n  const isPercentageType = valueType == 'percentage'\n\n  return `${value * (isPercentageType ? 100 : 1)}${isPercentageType ? '%' : ''}`\n}\n\nexport const getClassifiedItemsElementsList = (itemsList: ClassifiedEntry[]) => {\n  return itemsList.map((entry: ClassifiedEntry, j) => {\n    const { merchant, merchandise } = entry;\n\n    return (\n      <If condition={isClassifiedForMerchant(entry) && Boolean(merchant)} key={merchant?.id}>\n        <Then>\n          <CarousellItemWrapper key={merchant?.id}>\n            <ClassifiedMerchantCard entry={entry} />\n          </CarousellItemWrapper>\n        </Then>\n        <Else>\n          <If condition={isClassifiedForMerchandise(entry) && Boolean(merchandise) && Boolean(merchant)}>\n            <Then>\n              <CarousellItemWrapper key={merchant?.id}>\n                <ClassifiedMerchandiseCard entry={entry} />\n              </CarousellItemWrapper>\n            </Then>\n          </If>\n        </Else>\n      </If>\n    )\n  });\n}\n\nexport type FormattedPromotionsList = Array<{ merchant: Merchant, promotions: MerchantPromotion[] }>\nexport const getPromotionsList = (itemsList: ClassifiedEntry[], user?: User): FormattedPromotionsList => {\n  return map(\n    (data: ClassifiedEntry) => ({\n      merchant: data.merchant,\n      promotions: filter((p: MerchantPromotion) => {\n        return isPromotionValid(p) && isUserEligibleForPromotion(p, user)\n      }, pathOr([], ['merchant', 'promotions'], data)),\n    }),\n    itemsList\n  )\n}\n\nexport const getPromotionsElementsList = (itemsList: ClassifiedEntry[], user: User | undefined, includeWrapper = true) => {\n  const promotionsList = getPromotionsList(itemsList, user)\n\n  let promotionCardElements: JSX.Element[] = []\n\n  promotionsList.forEach((data: { merchant: Merchant, promotions: MerchantPromotion[] }) => {\n    const { merchant, promotions } = data\n    if (isEmptyOrNil(promotions)) return;\n\n    const thisPromotionCardsList = promotions.map((promotion: MerchantPromotion) => (\n      <If condition={includeWrapper} key={`${merchant.id}_${promotion.id}`}>\n        <Then>\n          <CarousellItemWrapper key={`${merchant.id}_${promotion.id}`}>\n            <ClassifiedPromotionCard\n              key={`${merchant.id}_${promotion.id}`}\n              merchant={merchant}\n              promotion={promotion}\n            />\n          </CarousellItemWrapper>\n        </Then>\n        <Else>\n          <ClassifiedPromotionCard\n            key={`${merchant.id}_${promotion.id}`}\n            merchant={merchant}\n            promotion={promotion}\n          />\n        </Else>\n      </If>\n    ))\n    promotionCardElements = [...promotionCardElements, ...thisPromotionCardsList]\n  })\n\n  return promotionCardElements;\n}","import React, { useContext, useMemo, useRef } from 'react';\nimport { CardContent, createStyles, Grid, makeStyles, Theme, Typography, useMediaQuery } from '@material-ui/core';\nimport { pathOr } from 'ramda';\nimport { If } from 'react-if';\nimport LazyLoad, { forceCheck } from 'react-lazyload';\n\nimport { ClassifiedDetailsType, ClassifiedEntry, ClassifiedKey } from '../../bos_common/src/types/ClassifiedType';\n\nimport { isEmptyOrNil } from '../../utils';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\nimport { getPromotionsElementsList, isClassifiedForMerchandise, isClassifiedForMerchant } from './utils';\nimport ClassifiedMerchantCard from './ClassifiedMerchantCard';\nimport ClassifiedMerchandiseCard from './ClassifiedMerchandiseCard';\nimport CountBox from '../common/CountBox';\nimport BottomDrawer from '../../bos_common/src/components/BottomDrawer';\nimport MerchantCardPlaceholder from '../MerchantCardPlaceholder';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n\n      '&.MuiCardContent-root': {\n        height: '70vh',\n        overflow: 'auto',\n\n        [theme.breakpoints.up('sm')]: {\n          height: 'calc(100vh - 113px)'\n        },\n      },\n\n      '& .drawerContent': {\n        height: '70vh',\n        paddingTop: 0,\n\n        [theme.breakpoints.up('sm')]: {\n          height: '65vh'\n        },\n\n        [theme.breakpoints.up('md')]: {\n          height: 'auto'\n        },\n      },\n\n      '& .MuiCard-root': {\n        borderRadius: '20px',\n        width: '100%',\n\n        '&:before': {\n          display: 'none'\n        }\n      }\n    },\n\n    classifiedDrawer: {\n      '& .MuiDrawer-paper': {\n        width: \"60vw\",\n        borderRadius: 0,\n        \n        [theme.breakpoints.down('sm')]: {\n          width: \"100vw\",\n          borderTopLeftRadius: theme.spacing(1),\n          borderTopRightRadius: theme.spacing(1),\n        }\n      }\n    }\n  }),\n);\n\ninterface ClassifiedDrawerProps {\n  open: boolean,\n  setDrawerOpen: (o: boolean) => void,\n  list: ClassifiedEntry[]\n}\nconst ClassfiedDrawer = (props: ClassifiedDrawerProps) => {\n  const { open, list, setDrawerOpen } = props;\n  const classes = useStyles();\n  const classified: ClassifiedDetailsType = pathOr({}, [0, 'details'], list);\n  const scrollTimeoutRef = useRef<number>();\n  const { user } = useContext(UserContext)\n\n  const isHotDealClassified = classified.key === ClassifiedKey.hotDeal;\n\n  const promotionElementsList = useMemo(() => {\n    return isHotDealClassified ? getPromotionsElementsList(list, user, false) : []\n  }, [list, isHotDealClassified]);\n\n  const itemsList = isHotDealClassified ? promotionElementsList : list\n\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const onCardContainerScroll = () => {\n    clearTimeout(scrollTimeoutRef.current);\n    scrollTimeoutRef.current = window.setTimeout(forceCheck, 100);\n  }\n\n  return (\n    <BottomDrawer\n      open={open}\n      setOpen={setDrawerOpen}\n      anchor={isMobile ? \"bottom\" : \"right\"}\n      className={classes.classifiedDrawer}\n      title={\n        <>\n          <Typography variant=\"h6\" className=\"drawerTitle\" component=\"div\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n            {classified.name}&nbsp;\n            <CountBox count={itemsList.length} />\n          </Typography>\n          <If condition={!isEmptyOrNil(classified.oneliner)}>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" className=\"drawerSubtitle\" component=\"div\">\n              {classified.oneliner}\n            </Typography>\n          </If>\n        </>\n      }\n    >\n      <CardContent className={classes.root} onScroll={onCardContainerScroll}>\n        <Grid container spacing={3}>\n          {\n            itemsList.map((entry: any, i: number) => {\n              let item;\n\n              if (isHotDealClassified) {\n                item = entry\n              } else {\n                const { merchant, merchandise } = entry as ClassifiedEntry;\n\n                if (isClassifiedForMerchant(entry as ClassifiedEntry) && merchant) {\n                  item = <ClassifiedMerchantCard entry={entry as ClassifiedEntry} />\n                } else if (isClassifiedForMerchandise(entry as ClassifiedEntry) && merchandise && merchant) {\n                  item = <ClassifiedMerchandiseCard entry={entry as ClassifiedEntry} />\n                }\n              }\n\n              return (\n                <Grid item xs={12} sm={6} md={6} key={`row-item-${i}`}>\n                  <LazyLoad height={250} offset={250} unmountIfInvisible placeholder={<MerchantCardPlaceholder />}>\n                    {item}\n                  </LazyLoad>\n                </Grid>\n              )\n            })\n          }\n        </Grid>\n      </CardContent>\n    </BottomDrawer>\n  )\n}\n\nexport default ClassfiedDrawer;","import React, { useState, useMemo, useContext, useEffect } from 'react';\nimport AliceCarousel from 'react-alice-carousel';\nimport { Box, Stack, Theme, Typography, useMediaQuery } from '@material-ui/core';\nimport { flatten, length, pathOr, pipe, pluck, take, without } from 'ramda';\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\nimport { If } from 'react-if';\n\nimport { ClassifiedDetailsType, ClassifiedEntry, ClassifiedKey } from '../../bos_common/src/types/ClassifiedType';\nimport { CarousellNavigationButton, CarousellWrapper } from './styledComponents';\nimport ClassifiedShowAllCard from './ClassifiedShowAllCard';\nimport ClassifiedDrawer from './ClassifiedDrawer';\nimport CountBox from '../common/CountBox';\n\nimport { getClassifiedItemsElementsList, getPromotionsElementsList, getPromotionsList } from './utils';\nimport { UserContext } from '../../bos_common/src/context/UserContext';\n\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport { isEmptyOrNil } from '../../utils';\nimport { useWindowStorage } from '../../bos_common/src';\n\nconst sortClassifiedEntriesBySortOrder = (unsortedList: ClassifiedEntry[], sortOrder: number[]) => {\n  const sortedList = unsortedList\n    .map((item: ClassifiedEntry, index: number) =>\n    ({\n      item,\n      sortKey: sortOrder[index] ?? 9999\n    }))\n    .sort((a, b) => a.sortKey - b.sortKey)\n    .map(({ item }) => ({ ...item }));\n\n  return sortedList\n}\n\nconst generateSortOrder = (listLength: number) => {\n  const sortOrder = Array.from(Array(listLength).keys());\n  sortOrder.sort(() => Math.random() - 0.5);\n  return sortOrder;\n}\n\nconst ClassifiedCarousel = ({ list = [] }: { list: ClassifiedEntry[] }) => {\n  const [sortedClassifiedList, setSortedClassifiedList] = useState<ClassifiedEntry[]>([]);\n  const { user } = useContext(UserContext)\n\n  const classified: ClassifiedDetailsType = pathOr({}, [0, 'details'], list)\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const [isDrawerOpen, toggleDrawer] = useState<boolean>(false);\n  const [sortOrder, setSortOrder] = useWindowStorage<number[] | null>(classified.name, null, 'sessionStorage');\n\n  // on mobile show the first 3 items, else show the first 5 items\n  const isHotDealClassified = classified.key === ClassifiedKey.hotDeal;\n  const totalItems = isHotDealClassified ? pipe(pluck('promotions'), flatten, without([undefined]), length)(getPromotionsList(list, user)) : list.length\n\n  useEffect(() => {\n    if (list.length < 1) return;\n\n    let newSortOrder = sortOrder;\n    if (!newSortOrder) {\n      newSortOrder = generateSortOrder(list.length);\n      setSortOrder(newSortOrder);\n    }\n    const sortedList = sortClassifiedEntriesBySortOrder(list, newSortOrder);\n    setSortedClassifiedList(sortedList);\n  }, [list]);\n\n  const cardsLimit = isMobile ? 3 : 5\n\n  const classifiedsList = useMemo(() => {\n    if (sortedClassifiedList.length < 1) {\n      return [];\n    }\n\n    const partialList: ClassifiedEntry[] = take(cardsLimit, sortedClassifiedList);\n    const cards: (JSX.Element)[] = isHotDealClassified ? take(cardsLimit, getPromotionsElementsList(partialList, user)) : getClassifiedItemsElementsList(partialList);\n\n    // Add see more card to Carousal when cardlimit is less than totalItems\n    if (totalItems > cardsLimit) {\n      cards.push(<ClassifiedShowAllCard onCardClick={() => toggleDrawer(true)} />)\n    }\n    return cards;\n  }, [sortedClassifiedList, cardsLimit, user, totalItems]);\n\n  const RenderLeftCarouselScrollHandler = ({ isDisabled }: { isDisabled: boolean }) => {\n    if (isDisabled) return null\n    return (\n      <CarousellNavigationButton size='small' color='primary' disabled={isDisabled}>\n        <ChevronLeft />\n      </CarousellNavigationButton>\n    )\n  }\n\n  const RenderRightCarouselScrollHandler = ({ isDisabled }: { isDisabled: boolean }) => {\n    if (isDisabled) return null\n    return (\n      <CarousellNavigationButton size='small' color='primary' disabled={isDisabled}>\n        <ChevronRight />\n      </CarousellNavigationButton>\n    )\n  }\n\n  if (isEmptyOrNil(classifiedsList)) return null;\n\n  return (\n    <Box sx={{ mt: 2 }}>\n      <Stack direction={\"row\"} alignItems={'center'} justifyContent={'space-between'} sx={{ mb: 2, zIndex: 0 }}>\n        <div>\n          <Typography variant='h6' sx={{ display: 'flex', alignItems: \"center\", fontWeight: 700 }}>\n            {classified.name}\n            &nbsp;\n            <CountBox count={totalItems} />\n          </Typography>\n          <Typography variant='subtitle2' fontWeight=\"600\" lineHeight=\"16px\" color=\"textSecondary\">{classified.oneliner}</Typography>\n        </div>\n      </Stack>\n\n      <CarousellWrapper>\n        <AliceCarousel\n          autoWidth\n          disableDotsControls\n          mouseTracking\n          disableButtonsControls={isMobile}\n          items={classifiedsList}\n          renderPrevButton={RenderLeftCarouselScrollHandler}\n          renderNextButton={RenderRightCarouselScrollHandler}\n          paddingRight={10}\n        />\n      </CarousellWrapper>\n\n      <If condition={isDrawerOpen}>\n        <ClassifiedDrawer\n          open={isDrawerOpen}\n          setDrawerOpen={toggleDrawer}\n          list={sortedClassifiedList}\n        />\n      </If>\n    </Box>\n  )\n}\n\nexport default ClassifiedCarousel","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CouponIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"49px\", height: \"48px\" }}\n      viewBox=\"0 0 49 48\"\n      fill=\"none\"\n      {...props}\n    >\n      <g clipPath=\"url(#clip0_9962_54482)\">\n        <path\n          d=\"M31.6022 1.23816L47.5122 17.1482C49.1627 18.7987 49.1627 21.4636 47.5122 23.1141L29.8304 40.7959C29.2734 41.3525 28.3986 41.3525 27.8416 40.7959C27.8416 40.7959 24.4211 38.25 23.8641 38.807C23.3071 39.364 25.853 42.7844 25.853 42.7844C26.4097 43.3414 26.4097 44.2163 25.853 44.7733L23.8641 46.7618C22.2136 48.4127 19.5487 48.4127 17.8978 46.7618L1.98816 30.8522C0.33728 29.2013 0.33728 26.5367 1.98816 24.8859L3.97668 22.897C4.53369 22.3403 5.40857 22.3403 5.96558 22.897C5.96558 22.897 9.38599 25.4429 9.94299 24.8859C10.4996 24.3289 7.9541 20.9084 7.9541 20.9084C7.39709 20.3514 7.39709 19.4766 7.9541 18.9196L25.6359 1.23816C27.2867 -0.41272 29.9513 -0.41272 31.6022 1.23816Z\"\n          fill=\"#FF7816\"\n        />\n        <path\n          d=\"M39.5569 9.19287L47.5121 17.1477C49.1626 18.7986 49.1626 21.4631 47.5121 23.114L29.8303 40.7958C29.2733 41.3524 28.3984 41.3524 27.8414 40.7958C27.8414 40.7958 24.421 38.2499 23.864 38.8069C23.307 39.3639 25.8529 42.7843 25.8529 42.7843C26.4095 43.3413 26.4095 44.2162 25.8529 44.7732L23.864 46.7617C22.2135 48.4126 19.5486 48.4126 17.8977 46.7617L9.94287 38.8069L39.5569 9.19287Z\"\n          fill=\"#FF4B00\"\n        />\n        <path\n          d=\"M11.9321 26.8745C12.4818 26.3248 12.4818 25.4353 11.9321 24.8856L7.95471 20.9082C8.5033 21.4568 8.5033 22.3481 7.95471 22.8967C7.40613 23.4457 6.5144 23.4457 5.96582 22.8967L9.94324 26.8745C10.4929 27.4238 11.3824 27.4238 11.9321 26.8745Z\"\n          fill=\"#FF4B00\"\n        />\n        <path\n          d=\"M21.8756 36.8185C21.326 37.3682 21.326 38.2577 21.8756 38.807L25.8531 42.7845C25.3045 42.2359 25.3045 41.3445 25.8531 40.7959C26.4016 40.2473 27.293 40.2473 27.8416 40.7959L23.8642 36.8185C23.3145 36.2688 22.425 36.2688 21.8756 36.8185Z\"\n          fill=\"#D03B00\"\n        />\n        <path\n          d=\"M23.647 17.1478C22.0023 15.5028 19.326 15.5028 17.681 17.1478C16.036 18.7928 16.036 21.4691 17.681 23.1141C19.3257 24.7592 22.002 24.7592 23.647 23.1141C25.2924 21.4691 25.2924 18.7928 23.647 17.1478ZM21.6584 21.1256C21.3018 21.4823 20.8824 21.5354 20.6642 21.5354C20.4459 21.5354 20.0266 21.4823 19.6699 21.1256C19.3132 20.7689 19.2598 20.3492 19.2598 20.131C19.2598 19.9127 19.3129 19.4934 19.6696 19.1367C20.0266 18.78 20.4459 18.7269 20.6642 18.7269C20.8824 18.7269 21.3018 18.78 21.6584 19.1367C22.2067 19.6849 22.2067 20.577 21.6584 21.1256Z\"\n          fill=\"#FDBF00\"\n        />\n        <path\n          d=\"M39.5572 17.1478C37.9122 15.5028 35.2359 15.5028 33.5909 17.1478C31.9463 18.7928 31.9463 21.4691 33.5909 23.1141C35.2359 24.7592 37.9122 24.7592 39.5572 23.1141C41.2022 21.4691 41.2022 18.7928 39.5572 17.1478ZM37.5687 21.1256C37.212 21.4823 36.7927 21.5354 36.5744 21.5354C36.3562 21.5354 35.9365 21.4823 35.5798 21.1256C35.0316 20.577 35.0316 19.6849 35.5798 19.1367C35.9365 18.78 36.3562 18.7269 36.5744 18.7269C36.7927 18.7269 37.212 18.78 37.5687 19.1367C38.1169 19.6849 38.1169 20.577 37.5687 21.1256Z\"\n          fill=\"#FF9F00\"\n        />\n        <path\n          d=\"M28.0225 9.90897L29.832 18.9181L31.9999 29.7964C32.0794 30.2736 31.9201 30.7511 31.6022 31.069C31.4034 31.2679 31.1646 31.3873 30.8859 31.4667C30.1106 31.6062 29.3746 31.1089 29.2156 30.3531L27.4058 21.3443L25.2382 10.4656C25.099 9.68998 25.596 8.95426 26.3518 8.79532C27.1275 8.65616 27.8632 9.15311 28.0225 9.90897Z\"\n          fill=\"#FDBF00\"\n        />\n        <path\n          d=\"M15.9093 28.8631L19.8867 32.8405C20.4434 33.3975 20.4434 34.2724 19.8867 34.8294C19.3297 35.3864 18.4548 35.3864 17.8978 34.8294L13.9204 30.852C13.3638 30.295 13.3638 29.4201 13.9204 28.8631C14.4774 28.3061 15.3523 28.3061 15.9093 28.8631Z\"\n          fill=\"#FF4B00\"\n        />\n        <path\n          d=\"M15.9092 32.8406L17.8977 30.8521L19.8866 32.8406C20.4432 33.3976 20.4432 34.2725 19.8866 34.8295C19.3296 35.3865 18.4547 35.3865 17.8977 34.8295L15.9092 32.8406Z\"\n          fill=\"#D03B00\"\n        />\n        <path\n          d=\"M29.8324 18.918L32 29.7963C32.0795 30.2734 31.9206 30.751 31.6023 31.0689C31.4035 31.2677 31.1647 31.3871 30.8864 31.4666C30.1107 31.6061 29.375 31.1088 29.2157 30.3529L27.4062 21.3441L29.8324 18.918Z\"\n          fill=\"#FF9F00\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_9962_54482\">\n          <rect\n            width=\"48\"\n            height=\"48\"\n            fill=\"white\"\n            transform=\"translate(0.75)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default CouponIcon;\n","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction LocationIcon(props: any) {\n  return (\n    <SvgIcon color=\"inherit\" sx={{ width: 16, height: 16 }} viewBox=\"0 0 16 16\" fill=\"none\" {...props} >\n      <path d=\"M11.9598 11.164C13.0101 10.1131 13.6001 8.68817 13.6001 7.2024C13.6001 5.71663 13.0101 4.29167 11.9598 3.2408C11.4399 2.72054 10.8225 2.30783 10.143 2.02625C9.46357 1.74466 8.73527 1.59973 7.99976 1.59973C7.26425 1.59973 6.53595 1.74466 5.85648 2.02625C5.177 2.30783 4.55967 2.72054 4.03976 3.2408C2.98944 4.29167 2.39941 5.71663 2.39941 7.2024C2.39941 8.68817 2.98944 10.1131 4.03976 11.164L5.25656 12.3632L6.89096 13.9512L6.99736 14.0456C7.61736 14.548 8.52536 14.516 9.10936 13.9512L11.0574 12.0552L11.9598 11.164ZM7.99976 9.6C7.36324 9.6 6.75279 9.34714 6.30271 8.89706C5.85262 8.44697 5.59976 7.83652 5.59976 7.2C5.59976 6.56348 5.85262 5.95303 6.30271 5.50294C6.75279 5.05286 7.36324 4.8 7.99976 4.8C8.63628 4.8 9.24673 5.05286 9.69682 5.50294C10.1469 5.95303 10.3998 6.56348 10.3998 7.2C10.3998 7.83652 10.1469 8.44697 9.69682 8.89706C9.24673 9.34714 8.63628 9.6 7.99976 9.6Z\" fill=\"#E34D28\"/>\n    </SvgIcon>\n  );\n}\n\nexport default LocationIcon","\nimport React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction NoFeesBubble(props: any) {\n  return (\n    <SvgIcon  sx={{width: \"209px\", height: \"188px\"}} viewBox=\"0 0 209 188\" fill=\"none\" {...props} >\n      <g clipPath=\"url(#clip0_9962_54174)\">\n<path d=\"M58.2821 39.7839C48.8409 33.5609 41.5167 24.7828 36.3092 13.4498C30.864 29.4662 32.7616 44.2893 39.2953 58.368C32.6496 67.4585 27.9942 77.9443 26.5029 89.0723C20.1558 136.399 73.0671 164.399 112.577 170.427C121.246 171.747 130.216 172.481 138.694 170.24C171.618 161.54 192.388 129.801 190.926 96.3452C190.405 83.6468 186.522 71.3142 179.675 60.6074C167.223 41.0982 145.724 27.7653 121.377 24.3504C99.4118 21.2668 76.3877 27.0184 58.2821 39.7839Z\" fill=\"white\"/>\n<rect x=\"58.1045\" y=\"58.5068\" width=\"89.1987\" height=\"89.1987\" transform=\"rotate(-10.8783 58.1045 58.5068)\" fill=\"url(#pattern0)\"/>\n</g>\n<defs>\n<pattern id=\"pattern0\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\n<use xlinkHref=\"#image0_9962_54174\" transform=\"scale(0.00195312)\"/>\n</pattern>\n<clipPath id=\"clip0_9962_54174\">\n<rect width=\"175.575\" height=\"144.772\" fill=\"white\" transform=\"translate(168.702 187.749) rotate(-163.915)\"/>\n</clipPath>\n<image id=\"image0_9962_54174\" width=\"512\" height=\"512\" xlinkHref=\"data:image/png;base64,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\"/>\n</defs>\n    </SvgIcon>\n  );\n}\n\nexport default NoFeesBubble","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction NoFeesIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"35px\", height: \"48px\" }}\n      viewBox=\"0 0 35 48\"\n      fill=\"none\"\n      {...props}\n    >\n      <path\n        d=\"M17.25 19.6875C22.6866 19.6875 27.0938 15.2803 27.0938 9.84375C27.0938 4.4072 22.6866 0 17.25 0C11.8134 0 7.40625 4.4072 7.40625 9.84375C7.40625 15.2803 11.8134 19.6875 17.25 19.6875Z\"\n        fill=\"#FFBA00\"\n      />\n      <path\n        d=\"M27.0938 9.84375C27.0938 4.41591 22.6778 0 17.25 0V19.6875C22.6778 19.6875 27.0938 15.2716 27.0938 9.84375Z\"\n        fill=\"#F5A000\"\n      />\n      <path\n        d=\"M17.25 16.875C21.1333 16.875 24.2812 13.727 24.2812 9.84375C24.2812 5.9605 21.1333 2.8125 17.25 2.8125C13.3667 2.8125 10.2188 5.9605 10.2188 9.84375C10.2188 13.727 13.3667 16.875 17.25 16.875Z\"\n        fill=\"#FFEA98\"\n      />\n      <path\n        d=\"M24.2812 9.84375C24.2812 5.96672 21.127 2.8125 17.25 2.8125V16.875C21.127 16.875 24.2812 13.7208 24.2812 9.84375Z\"\n        fill=\"#FFD845\"\n      />\n      <path\n        d=\"M18.3143 9.13462C18.1787 9.08672 18.0405 9.03694 17.9023 8.98538V6.53381C18.1355 6.60881 18.266 6.71606 18.2931 6.74044C18.5219 7.03209 18.9416 7.09716 19.2491 6.882C19.5672 6.65934 19.6446 6.22088 19.4219 5.90278C19.2628 5.67553 18.7398 5.22309 17.9023 5.08856V4.6875C17.9023 4.29909 17.5875 3.98438 17.1992 3.98438C16.8109 3.98438 16.4961 4.29909 16.4961 4.6875V5.17153C16.443 5.18531 16.3893 5.20031 16.3349 5.21663C15.4738 5.47603 14.8307 6.21141 14.6564 7.13597C14.4968 7.98328 14.7712 8.80266 15.3726 9.27441C15.663 9.50222 16.0182 9.711 16.4961 9.92869V13.098C16.1404 13.0531 15.8781 12.9398 15.4641 12.6691C15.1392 12.4565 14.7034 12.5475 14.4908 12.8726C14.2781 13.1976 14.3694 13.6333 14.6943 13.8459C15.3986 14.3067 15.8928 14.4636 16.4961 14.5119V15C16.4961 15.3884 16.8109 15.7031 17.1992 15.7031C17.5875 15.7031 17.9023 15.3884 17.9023 15V14.4459C19.1267 14.147 19.912 13.1063 20.0845 12.0802C20.3081 10.75 19.6133 9.59381 18.3143 9.13462ZM16.2403 8.16788C16.0565 8.02369 15.9771 7.72078 16.0383 7.39641C16.0856 7.14581 16.2296 6.85406 16.496 6.67819V8.34338C16.4031 8.28619 16.3167 8.22778 16.2403 8.16788ZM18.6976 11.847C18.6263 12.2712 18.3566 12.7187 17.9022 12.9551V10.482C18.793 10.8298 18.7373 11.6116 18.6976 11.847Z\"\n        fill=\"#FFBA00\"\n      />\n      <path\n        d=\"M18.3142 9.13453C18.1787 9.08663 18.0405 9.03685 17.9023 8.98529V6.53372C18.1355 6.60872 18.266 6.71597 18.2931 6.74035C18.5219 7.032 18.9416 7.09707 19.249 6.88191C19.5672 6.65925 19.6446 6.22079 19.4219 5.90269C19.2628 5.67544 18.7398 5.223 17.9023 5.08847V4.68741C17.9023 4.31625 17.6145 4.01297 17.25 3.98682V15.7004C17.6145 15.6743 17.9023 15.3711 17.9023 14.9998V14.4458C19.1267 14.1468 19.9119 13.1062 20.0844 12.08C20.3081 10.7499 19.6132 9.59372 18.3142 9.13453ZM18.6976 11.8469C18.6263 12.2711 18.3565 12.7186 17.9022 12.955V10.4819C18.7929 10.8297 18.7373 11.6115 18.6976 11.8469Z\"\n        fill=\"#F5A000\"\n      />\n      <path\n        d=\"M30.1958 25.9861L22.8579 18.6482L23.9015 17.6544C27.2474 14.4687 32.5582 14.7231 32.7825 14.7348C33.4983 14.7743 34.0698 15.3458 34.1091 16.0616C34.1215 16.286 34.3755 21.5966 31.1896 24.9424L30.1958 25.9861Z\"\n        fill=\"#FFBCA7\"\n      />\n      <path\n        d=\"M4.30412 25.9862L3.31037 24.9426C0.124465 21.5969 0.378434 16.2862 0.390809 16.0618C0.430278 15.346 1.00178 14.7745 1.71747 14.735C1.94172 14.7227 7.25256 14.4687 10.5984 17.6546L11.642 18.6484L4.30412 25.9862Z\"\n        fill=\"#FFCBBC\"\n      />\n      <path\n        d=\"M28.5001 48.0005H22.8751C22.1585 48.0005 21.5566 47.4617 21.4775 46.7496L20.894 41.4992L29.9063 37.7637V46.5943C29.9063 47.3709 29.2767 48.0005 28.5001 48.0005Z\"\n        fill=\"#FFBCA7\"\n      />\n      <path\n        d=\"M11.625 48.0005H6C5.22338 48.0005 4.59375 47.3709 4.59375 46.5943V37.7637L13.606 41.4992L13.0226 46.7496C12.9435 47.4617 12.3415 48.0005 11.625 48.0005Z\"\n        fill=\"#FFCBBC\"\n      />\n      <path\n        d=\"M17.25 44.2505C12.4864 44.2505 8.65875 43.3259 5.87316 41.5024C4.26956 40.4527 3.02841 39.1066 2.18419 37.5016C1.29478 35.8107 0.84375 33.8231 0.84375 31.5942C0.84375 22.5478 8.20359 15.188 17.25 15.188C26.2964 15.188 33.6562 22.5478 33.6562 31.5942C33.6562 33.8231 33.2052 35.8107 32.3158 37.5016C31.4716 39.1066 30.2304 40.4527 28.6268 41.5024C25.8412 43.3259 22.0136 44.2505 17.25 44.2505Z\"\n        fill=\"#FFDDCE\"\n      />\n      <path\n        d=\"M28.6268 41.5024C30.2304 40.4527 31.4716 39.1066 32.3158 37.5016C33.2052 35.8107 33.6562 33.8231 33.6562 31.5942C33.6562 22.5478 26.2964 15.188 17.25 15.188V44.2505C22.0136 44.2505 25.8412 43.3259 28.6268 41.5024Z\"\n        fill=\"#FFCBBC\"\n      />\n      <path\n        d=\"M17.25 38.6255C13.6314 38.6255 10.6875 36.1021 10.6875 33.0005C10.6875 29.8989 13.6314 27.3755 17.25 27.3755C20.8686 27.3755 23.8125 29.8989 23.8125 33.0005C23.8125 36.1021 20.8686 38.6255 17.25 38.6255Z\"\n        fill=\"#FFCBBC\"\n      />\n      <path\n        d=\"M23.8125 33.0005C23.8125 29.8989 20.8686 27.3755 17.25 27.3755V38.6255C20.8686 38.6255 23.8125 36.1021 23.8125 33.0005Z\"\n        fill=\"#FFBCA7\"\n      />\n      <path\n        d=\"M11.1562 25.9692C11.9329 25.9692 12.5625 25.3396 12.5625 24.563C12.5625 23.7863 11.9329 23.1567 11.1562 23.1567C10.3796 23.1567 9.75 23.7863 9.75 24.563C9.75 25.3396 10.3796 25.9692 11.1562 25.9692Z\"\n        fill=\"#646E7D\"\n      />\n      <path\n        d=\"M23.3438 25.9692C24.1204 25.9692 24.75 25.3396 24.75 24.563C24.75 23.7863 24.1204 23.1567 23.3438 23.1567C22.5671 23.1567 21.9375 23.7863 21.9375 24.563C21.9375 25.3396 22.5671 25.9692 23.3438 25.9692Z\"\n        fill=\"#465064\"\n      />\n    </SvgIcon>\n  );\n}\n\nexport default NoFeesIcon;\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction TelescopeIcon(props: any) {\n  return (\n    <SvgIcon sx={{width: \"24\", height: \"24\"}} viewBox=\"0 0 24 24\" fill=\"none\" {...props}>\n      <path\n        d=\"M5.0416 11.7187C4.94217 11.5465 4.77843 11.4209 4.58636 11.3694C4.3943 11.3178 4.18964 11.3447 4.01738 11.4441L1.68723 12.788C1.46909 12.913 1.27855 13.0809 1.12709 13.2816C0.975627 13.4823 0.866393 13.7116 0.805976 13.9556C0.689717 14.4395 0.7662 14.9497 1.01926 15.3783L1.22363 15.7317C1.47243 16.1619 1.88186 16.4758 2.36195 16.6043C2.84203 16.7328 3.3535 16.6654 3.78395 16.417L6.11223 15.075C6.1976 15.0258 6.27244 14.9603 6.33248 14.8821C6.39251 14.804 6.43656 14.7148 6.46212 14.6197C6.48767 14.5245 6.49422 14.4252 6.4814 14.3276C6.46858 14.2299 6.43663 14.1357 6.38738 14.0503L5.0416 11.7187Z\"\n        fill=\"#E34D28\"\n      />\n      <path\n        d=\"M17.9454 20.6626L13.5335 11.9064C13.5228 11.885 13.5207 11.8603 13.5275 11.8374C13.5344 11.8144 13.5498 11.795 13.5706 11.7831L13.9596 11.5586C14.045 11.5093 14.1198 11.4438 14.1797 11.3656C14.2397 11.2875 14.2837 11.1983 14.3092 11.1031C14.3348 11.008 14.3413 10.9087 14.3284 10.811C14.3156 10.7134 14.2836 10.6192 14.2343 10.5339L12.0063 6.67465C11.9572 6.58928 11.8916 6.51443 11.8135 6.4544C11.7354 6.39436 11.6462 6.35031 11.551 6.32476C11.4559 6.2992 11.3566 6.29265 11.2589 6.30548C11.1612 6.3183 11.067 6.35025 10.9817 6.39949L6.93259 8.73387C6.71884 8.85633 6.53151 9.01998 6.38145 9.21534C6.23139 9.4107 6.12158 9.63389 6.05837 9.87199C6.01538 10.0207 5.99376 10.1747 5.99415 10.3295C5.99697 10.6857 6.4254 11.3936 6.84353 12.1239C7.29306 12.909 7.7454 13.712 8.07822 13.9121C8.29009 14.0396 8.66415 14.1418 8.97869 14.1418H9.01806L5.29994 22.1856C5.25851 22.275 5.23512 22.3717 5.23109 22.4702C5.22707 22.5687 5.2425 22.667 5.27649 22.7595C5.31048 22.852 5.36237 22.9369 5.42919 23.0093C5.49602 23.0818 5.57647 23.1404 5.66594 23.1817C5.75541 23.223 5.85215 23.2463 5.95063 23.2502C6.04911 23.2541 6.14739 23.2386 6.23987 23.2045C6.33234 23.1704 6.41719 23.1185 6.48956 23.0516C6.56194 22.9847 6.62041 22.9042 6.66165 22.8146L11.0529 13.3154C11.0852 13.2451 11.1386 13.1866 11.2057 13.1481L12.1062 12.6287C12.1172 12.6224 12.1295 12.6184 12.1421 12.617C12.1548 12.6155 12.1676 12.6167 12.1798 12.6204C12.192 12.6241 12.2033 12.6302 12.2131 12.6384C12.2228 12.6466 12.2308 12.6567 12.2365 12.6681L16.6057 21.34C16.65 21.4279 16.7113 21.5063 16.7859 21.5706C16.8605 21.6349 16.947 21.6839 17.0406 21.7148C17.1341 21.7456 17.2328 21.7578 17.331 21.7505C17.4293 21.7432 17.5251 21.7166 17.6131 21.6723C17.701 21.628 17.7794 21.5668 17.8437 21.4922C17.908 21.4175 17.957 21.331 17.9879 21.2375C18.0187 21.1439 18.0309 21.0452 18.0236 20.947C18.0163 20.8488 17.9897 20.7529 17.9454 20.665V20.6626ZM22.9784 5.42543L20.8165 1.68762C20.567 1.25803 20.1575 0.944744 19.6776 0.816313C19.1977 0.687882 18.6864 0.754756 18.2557 1.0023L13.8804 3.52324C13.6666 3.64562 13.4792 3.80924 13.3291 4.00462C13.1791 4.19999 13.0693 4.42323 13.0062 4.66137C12.944 4.86214 12.9238 5.07354 12.9467 5.28246C13.0282 5.87402 13.556 6.70746 14.1846 7.80856C14.8212 8.9209 15.5398 10.1748 15.9157 10.4462C16.2335 10.6709 16.6131 10.7915 17.0023 10.7917C17.3301 10.7918 17.6522 10.7055 17.936 10.5414L22.3123 8.01902C22.53 7.8943 22.7202 7.72686 22.8716 7.52677C23.0229 7.32668 23.1323 7.09806 23.1931 6.85465C23.3102 6.36846 23.2332 5.85576 22.9784 5.42543V5.42543Z\"\n        fill=\"#E34D28\"\n      />\n    </SvgIcon>\n  );\n}\n\nexport default TelescopeIcon;\n","export default __webpack_public_path__ + \"static/media/san-mateo-banner.e3f3f008.png\";","export default __webpack_public_path__ + \"static/media/san-mateo-banner-mobile.4c0f1e73.png\";","export default __webpack_public_path__ + \"static/media/dialog-banner.6535e689.png\";","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction MapColoredIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"25px\", height: \"24px\" }}\n      viewBox=\"0 0 25 24\"\n      fill=\"none\"\n      {...props}\n    >\n      <path d=\"M15.0833 0.5L14.95 0.525L10.5 2.25L5.5 0.5L0.8 2.08333C0.625 2.14167 0.5 2.29167 0.5 2.48333V15.0833C0.5 15.1938 0.543899 15.2998 0.622039 15.378C0.700179 15.4561 0.80616 15.5 0.916667 15.5L1.05 15.475L5.5 13.75L10.5 15.5L15.2 13.9167C15.375 13.8583 15.5 13.7083 15.5 13.5167V0.916667C15.5 0.80616 15.4561 0.700179 15.378 0.622039C15.2998 0.543899 15.1938 0.5 15.0833 0.5ZM6.33333 2.55833L9.66667 3.725V13.4417L6.33333 12.275V2.55833ZM2.16667 3.38333L4.66667 2.54167V12.2917L2.16667 13.2583V3.38333ZM13.8333 12.6167L11.3333 13.4583V3.71667L13.8333 2.75V12.6167Z\" />\n\n      <g clipPath=\"url(#clip0_9962_55275)\">\n        <path\n          d=\"M24.8341 22.2975L22.9486 11.9095C22.9298 11.8058 22.8655 11.716 22.7733 11.6648L18.0276 9.02524C17.966 8.99093 17.8969 8.97728 17.8291 8.98253L18.6925 20.1204L18.6636 20.1334L24.3431 22.6814C24.3894 22.702 24.4385 22.7123 24.4874 22.7123C24.5648 22.7123 24.6415 22.6868 24.7045 22.6374C24.8075 22.557 24.8574 22.4261 24.8341 22.2975Z\"\n          fill=\"#44C868\"\n        />\n        <path\n          d=\"M12.84 11.5487L7.98635 9.0207C7.92818 8.99037 7.86368 8.978 7.80017 8.98226C7.81699 8.98123 7.83392 8.98133 7.8507 8.98264L6.9873 20.1205L12.6958 22.6815C12.7419 22.7021 12.7911 22.7124 12.84 22.7124V11.5487Z\"\n          fill=\"#44C868\"\n        />\n        <path\n          d=\"M7.85047 8.98302C7.78265 8.97777 7.7136 8.99141 7.65201 9.02568L2.90623 11.6652C2.81408 11.7165 2.74976 11.8062 2.73097 11.91L0.84551 22.298C0.822166 22.4265 0.872041 22.5574 0.975026 22.6379C1.03817 22.6873 1.11481 22.7127 1.19215 22.7127C1.24104 22.7127 1.29021 22.7026 1.33639 22.6818L6.98502 20.1477L7.85047 8.98302Z\"\n          fill=\"#4CE166\"\n        />\n        <path\n          d=\"M17.8292 8.98291C17.7825 8.98652 17.7363 8.99894 17.6935 9.02125L12.8398 11.5492V22.7129C12.8398 22.7129 12.8398 22.7129 12.8399 22.7129C12.8889 22.7129 12.9381 22.7027 12.9841 22.682L18.6926 20.121L17.8292 8.98291Z\"\n          fill=\"#4CE166\"\n        />\n        <path\n          d=\"M2.15938 15.0577L1.77637 17.1679L7.44797 14.1723L7.57964 12.4736L7.60149 12.1919L2.15938 15.0577Z\"\n          fill=\"#FFDB56\"\n        />\n        <path\n          d=\"M7.49919 13.5137L7.44815 14.1724L1.77654 17.168L0.84551 22.2976C0.822166 22.4262 0.872041 22.557 0.975026 22.6376C1.03817 22.6869 1.11481 22.7124 1.19215 22.7124C1.24104 22.7124 1.29021 22.7022 1.33639 22.6815L6.98502 20.1474L7.49919 13.5137Z\"\n          fill=\"#A8EEFC\"\n        />\n        <path\n          d=\"M12.8414 12.9416L7.60176 12.1924L7.44824 14.1728L12.84 22.3609V19.3835L9.62259 14.3173L12.8414 14.7023V12.9416Z\"\n          fill=\"#FFBB24\"\n        />\n        <path\n          d=\"M22.3999 11.4575L20.1201 10.1895L17.9619 10.6937L17.9889 11.0423L18.0955 12.4173L22.3999 11.4575Z\"\n          fill=\"#FFBB24\"\n        />\n        <path\n          d=\"M18.2864 14.8862L18.082 12.2496L17.9614 10.6934L12.8408 12.9411V14.7018L16.1856 13.2473L18.2864 14.8862Z\"\n          fill=\"#FFDB56\"\n        />\n        <path\n          d=\"M24.8345 22.2977L24.3609 19.6883L18.0957 12.417L18.2871 14.8863L24.7123 22.631C24.81 22.5501 24.8572 22.4229 24.8345 22.2977Z\"\n          fill=\"#FFBB24\"\n        />\n        <path\n          d=\"M12.8621 1.2876C10.1451 1.2876 7.93457 3.49626 7.93457 6.21108C7.93457 7.89042 8.73187 9.69343 10.3044 11.5699C11.4593 12.9482 12.5986 13.8347 12.6465 13.8717C12.71 13.9208 12.786 13.9453 12.8621 13.9453C12.9382 13.9453 13.0142 13.9208 13.0777 13.8717C13.1256 13.8347 14.2649 12.9482 15.4199 11.5699C16.9924 9.69343 17.7897 7.89047 17.7897 6.21108C17.7896 3.49626 15.5791 1.2876 12.8621 1.2876ZM14.6869 6.21103C14.6869 7.218 13.8699 8.03438 12.8621 8.03438C11.8543 8.03438 11.0372 7.21805 11.0372 6.21103C11.0372 5.20401 11.8543 4.38768 12.8621 4.38768C13.8699 4.38768 14.6869 5.20406 14.6869 6.21103Z\"\n          fill=\"#FF4A4A\"\n        />\n        <path\n          d=\"M12.8621 1.2876C12.6468 1.2876 12.4347 1.30157 12.2266 1.32847C14.6445 1.64099 16.5185 3.71142 16.5185 6.21108C16.5185 7.89042 15.7212 9.69343 14.1487 11.5699C13.406 12.4562 12.6703 13.1387 12.2266 13.5232C12.4729 13.7365 12.6295 13.8585 12.6466 13.8717C12.7101 13.9208 12.7861 13.9453 12.8622 13.9453C12.9382 13.9453 13.0143 13.9208 13.0778 13.8717C13.1257 13.8347 14.265 12.9482 15.4199 11.5699C16.9924 9.69343 17.7897 7.89047 17.7897 6.21108C17.7897 3.49626 15.5792 1.2876 12.8621 1.2876Z\"\n          fill=\"#E7343F\"\n        />\n        <path\n          d=\"M12.9841 22.6818L15.1069 21.7294L12.8398 19.3833V22.7127C12.8398 22.7127 12.8398 22.7127 12.8399 22.7127C12.8889 22.7127 12.938 22.7025 12.9841 22.6818Z\"\n          fill=\"#FFDB56\"\n        />\n        <path\n          d=\"M22.949 11.9096C22.9302 11.8059 22.8659 11.7161 22.7737 11.6648L22.4001 11.457L18.0957 12.4169L24.3608 19.6882L22.949 11.9096Z\"\n          fill=\"#1EA4E9\"\n        />\n        <path\n          d=\"M12.8401 22.7124C12.8401 22.7124 12.8401 22.7124 12.8401 22.7124V22.3605L7.44842 14.1724L6.9873 20.1206L12.6958 22.6816C12.7419 22.7022 12.7911 22.7124 12.8401 22.7124Z\"\n          fill=\"#1EA4E9\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_9962_55275\">\n          <rect\n            width=\"24\"\n            height=\"24\"\n            fill=\"white\"\n            transform=\"translate(0.839844)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default MapColoredIcon;\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction ExclusiveDealsIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"41px\", height: \"40px\" }}\n      viewBox=\"0 0 41 40\"\n      fill=\"none\"\n      {...props}\n    >\n      <g clipPath=\"url(#clip0_10177_55508)\">\n        <path\n          d=\"M39.25 18.0469H39.2914C39.6086 18.057 39.9164 17.9383 40.1438 17.7172C40.3711 17.4969 40.5 17.193 40.5 16.8758V12.5C40.5 11.8531 39.975 11.3281 39.3281 11.3281H39.25C38.3945 11.3281 37.5898 10.9945 36.9852 10.3906C36.3805 9.78516 36.0469 8.98047 36.0469 8.125C36.0469 7.47813 35.5219 6.95312 34.875 6.95312H6.125C5.47813 6.95312 4.95312 7.47813 4.95312 8.125C4.95312 9.89141 3.51641 11.3281 1.75 11.3281H1.67188C1.025 11.3281 0.5 11.8531 0.5 12.5V16.8758C0.5 17.193 0.628906 17.4969 0.85625 17.7172C1.08359 17.9375 1.38984 18.057 1.70859 18.0469H1.75C2.82734 18.0469 3.70312 18.9227 3.70312 20C3.70312 21.0773 2.82734 21.9531 1.75 21.9531H1.70625C1.39062 21.943 1.08281 22.0625 0.855469 22.2836C0.628125 22.5039 0.5 22.8078 0.5 23.1242V27.5C0.5 28.1469 1.025 28.6719 1.67188 28.6719H1.75C2.60547 28.6719 3.41016 29.0055 4.01484 29.6094C4.61953 30.2148 4.95312 31.0195 4.95312 31.875C4.95312 32.5219 5.47813 33.0469 6.125 33.0469H34.875C35.5219 33.0469 36.0469 32.5219 36.0469 31.875C36.0469 30.1086 37.4836 28.6719 39.25 28.6719H39.3281C39.975 28.6719 40.5 28.1469 40.5 27.5V23.1242C40.5 22.8078 40.3719 22.5039 40.1445 22.2836C39.9172 22.0625 39.6102 21.9445 39.2937 21.9531H39.25C38.1727 21.9531 37.2969 21.0773 37.2969 20C37.2969 18.9227 38.1727 18.0469 39.25 18.0469Z\"\n          fill=\"#FF6C6C\"\n        />\n        <path\n          d=\"M37.2969 20C37.2969 21.0773 38.1727 21.9531 39.25 21.9531H39.2937C39.6102 21.9445 39.9172 22.0625 40.1445 22.2836C40.3719 22.5039 40.5 22.8078 40.5 23.1242V27.5C40.5 28.1469 39.975 28.6719 39.3281 28.6719H39.25C37.4836 28.6719 36.0469 30.1086 36.0469 31.875C36.0469 32.5219 35.5219 33.0469 34.875 33.0469H20.5V6.95312H34.875C35.5219 6.95312 36.0469 7.47813 36.0469 8.125C36.0469 8.98047 36.3805 9.78516 36.9852 10.3906C37.5898 10.9945 38.3945 11.3281 39.25 11.3281H39.3281C39.975 11.3281 40.5 11.8531 40.5 12.5V16.8758C40.5 17.193 40.3711 17.4969 40.1438 17.7172C39.9164 17.9383 39.6086 18.057 39.2914 18.0469H39.25C38.1727 18.0469 37.2969 18.9227 37.2969 20Z\"\n          fill=\"#E53950\"\n        />\n        <path\n          d=\"M5.5 35.7031H4.79688V35C4.79688 34.3528 4.27219 33.8281 3.625 33.8281C2.97781 33.8281 2.45312 34.3528 2.45312 35V35.7031H1.67188C1.02469 35.7031 0.5 36.2278 0.5 36.875C0.5 37.5222 1.02469 38.0469 1.67188 38.0469H2.45312V38.8281C2.45312 39.4753 2.97781 40 3.625 40C4.27219 40 4.79688 39.4753 4.79688 38.8281V38.0469H5.5C6.14719 38.0469 6.67188 37.5222 6.67188 36.875C6.67188 36.2278 6.14719 35.7031 5.5 35.7031Z\"\n          fill=\"#FFE062\"\n        />\n        <path\n          d=\"M16.7514 38.0469C16.1042 38.0469 15.5791 37.5222 15.5791 36.875C15.5791 36.2278 16.1033 35.7031 16.7506 35.7031H16.7514C17.3986 35.7031 17.9232 36.2278 17.9232 36.875C17.9232 37.5222 17.3986 38.0469 16.7514 38.0469Z\"\n          fill=\"#FFE062\"\n        />\n        <path\n          d=\"M33 38.6719C32.4955 38.6719 32.0477 38.3491 31.8883 37.8705L31.7907 37.5779C31.1359 35.6137 29.7976 33.9452 28.0221 32.8799C27.6691 32.668 27.4531 32.2866 27.4531 31.875C27.4531 31.4634 27.6691 31.082 28.0221 30.8702C29.7976 29.8048 31.1359 28.1364 31.7907 26.1721L31.8883 25.8795C32.0477 25.4009 32.4955 25.0781 33 25.0781C33.5045 25.0781 33.9523 25.4009 34.1117 25.8795L34.2093 26.1721C34.8641 28.1363 36.2024 29.8048 37.9779 30.8701C38.3309 31.082 38.5469 31.4634 38.5469 31.875C38.5469 32.2866 38.3309 32.668 37.9779 32.8798C36.2024 33.9452 34.8641 35.6136 34.2093 37.5779L34.1117 37.8705C33.9523 38.3491 33.5045 38.6719 33 38.6719Z\"\n          fill=\"#FCD544\"\n        />\n        <path\n          d=\"M28.6587 15.2805C28.2884 15.0289 27.8071 15.0102 27.4188 15.2328L24.022 17.1734L21.4938 13.1289C21.2798 12.7859 20.904 12.5781 20.5001 12.5781C20.0962 12.5781 19.7204 12.7859 19.5063 13.1289L16.9782 17.1734L13.5813 15.2328C13.1931 15.0102 12.7118 15.0289 12.3415 15.2805C11.9712 15.532 11.7766 15.9727 11.8399 16.4156L13.0899 25.1656C13.1727 25.743 13.6673 26.1719 14.2501 26.1719H26.7501C27.3329 26.1719 27.8274 25.743 27.9102 25.1656L29.1602 16.4156C29.2235 15.9727 29.029 15.532 28.6587 15.2805Z\"\n          fill=\"#FFF4F4\"\n        />\n        <path\n          d=\"M29.1602 16.4156L27.9102 25.1656C27.8273 25.743 27.3328 26.1719 26.75 26.1719H20.5V12.5781C20.9039 12.5781 21.2797 12.7859 21.4937 13.1289L24.0219 17.1734L27.4187 15.2328C27.807 15.0102 28.2883 15.0289 28.6586 15.2805C29.0289 15.532 29.2234 15.9727 29.1602 16.4156V16.4156Z\"\n          fill=\"#EEE1DC\"\n        />\n        <path\n          d=\"M7.99992 14.9219C7.53117 14.9219 7.10742 14.6425 6.92281 14.2116L6.26328 12.6727C5.54883 11.0058 4.4043 9.54938 2.95336 8.46117L2.92203 8.43766C2.62687 8.21633 2.45312 7.86898 2.45312 7.50016C2.45312 7.13133 2.62672 6.78383 2.9218 6.5625C4.39125 5.46039 5.54476 3.98305 6.25758 2.29008L6.91984 0.717109C7.10289 0.282578 7.52844 0 7.99992 0C8.4714 0 8.89695 0.282578 9.08 0.717109L9.74234 2.29016C10.4551 3.98305 11.6086 5.46039 13.078 6.5625C13.3731 6.78383 13.5468 7.13125 13.5468 7.50008C13.5468 7.86891 13.373 8.21633 13.0779 8.43758L13.0463 8.46125C11.5956 9.5493 10.451 11.0056 9.73656 12.6727L9.07703 14.2116C8.89242 14.6425 8.46867 14.9219 7.99992 14.9219V14.9219Z\"\n          fill=\"#FFE062\"\n        />\n        <path\n          d=\"M28.6264 4.29688C27.9792 4.29688 27.4541 3.77219 27.4541 3.125C27.4541 2.47781 27.9783 1.95312 28.6256 1.95312H28.6264C29.2736 1.95312 29.7982 2.47781 29.7982 3.125C29.7982 3.77219 29.2736 4.29688 28.6264 4.29688Z\"\n          fill=\"#FCD544\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_10177_55508\">\n          <rect\n            width=\"40\"\n            height=\"40\"\n            fill=\"white\"\n            transform=\"translate(0.5)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default ExclusiveDealsIcon;\n","import React from \"react\";\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction RewardsIcon(props: any) {\n  return (\n    <SvgIcon\n      sx={{ width: \"41px\", height: \"40px\" }}\n      viewBox=\"0 0 41 40\"\n      fill=\"none\"\n      {...props}\n    >\n      <g clipPath=\"url(#clip0_10177_55534)\">\n        <path\n          d=\"M29.8892 2.51587H11.1108C10.6744 2.51587 10.2711 2.74868 10.0529 3.12665L0.663652 19.3892C0.445449 19.7672 0.445449 20.2328 0.663652 20.6108L10.0529 36.8734C10.2711 37.2514 10.6744 37.4842 11.1108 37.4842H29.8892C30.3256 37.4842 30.7289 37.2514 30.9471 36.8734L40.3363 20.6108C40.5545 20.2328 40.5545 19.7672 40.3363 19.3892L30.9471 3.12665C30.7289 2.74868 30.3256 2.51587 29.8892 2.51587Z\"\n          fill=\"#FFD45D\"\n        />\n        <path\n          d=\"M40.5002 20H32.494L26.4971 30.387L30.5002 37.3205C30.6829 37.215 30.8382 37.0623 30.9473 36.8734L40.3365 20.6107C40.4457 20.4218 40.5002 20.2109 40.5002 20Z\"\n          fill=\"#FF6500\"\n        />\n        <path\n          d=\"M26.4969 30.387H14.5031L10.5 37.3205C10.6827 37.4259 10.8926 37.4841 11.1108 37.4841H29.8892C30.1074 37.4841 30.3173 37.4259 30.5 37.3205L26.4969 30.387Z\"\n          fill=\"#FF9416\"\n        />\n        <path\n          d=\"M14.5031 30.387L8.50617 20H0.5C0.5 20.2109 0.554531 20.4218 0.663672 20.6108L10.0529 36.8734C10.162 37.0624 10.3173 37.2151 10.5 37.3205L14.5031 30.387Z\"\n          fill=\"#FFC13F\"\n        />\n        <path\n          d=\"M14.5031 9.61304L10.5 2.67944C10.3173 2.78491 10.162 2.93757 10.0529 3.12655L0.663672 19.3893C0.554531 19.5782 0.5 19.7891 0.5 20H8.50617L14.5031 9.61304Z\"\n          fill=\"#FFD45D\"\n        />\n        <path\n          d=\"M14.5031 9.61308H26.4969L30.5 2.67948C30.3173 2.57401 30.1074 2.51581 29.8892 2.51581H11.1108C10.8926 2.51581 10.6827 2.57401 10.5 2.67948L14.5031 9.61308Z\"\n          fill=\"#FFC13F\"\n        />\n        <path\n          d=\"M26.4971 9.61304L32.494 20H40.5002C40.5002 19.7891 40.4457 19.5782 40.3365 19.3893L30.9473 3.12655C30.8382 2.93757 30.6829 2.78491 30.5002 2.67944L26.4971 9.61304Z\"\n          fill=\"#FF9416\"\n        />\n        <path\n          d=\"M26.4971 9.61304H14.5032L8.50635 20L14.5032 30.3869H26.4971L32.494 20L26.4971 9.61304Z\"\n          fill=\"#FF7B05\"\n        />\n        <path\n          d=\"M14.7191 8.88581L15.4836 8.3148C15.6576 8.18487 15.8877 8.37894 15.7891 8.57237L15.3555 9.42237C15.3091 9.51323 15.3366 9.62425 15.4199 9.68308L16.1991 10.2337C16.3765 10.359 16.2631 10.6379 16.0486 10.6038L15.1062 10.454C15.0055 10.438 14.9083 10.4984 14.8781 10.5958L14.5952 11.5071C14.5308 11.7145 14.2305 11.6928 14.1966 11.4783L14.0478 10.5358C14.0319 10.4351 13.9445 10.3614 13.8425 10.3627L12.8884 10.3753C12.6713 10.3782 12.5991 10.0858 12.7926 9.98737L13.643 9.55456C13.7338 9.50831 13.777 9.40237 13.7441 9.30581L13.4374 8.4023C13.3675 8.19667 13.6232 8.03777 13.7767 8.19136L14.4511 8.86644C14.5233 8.93855 14.6374 8.94683 14.7191 8.88581Z\"\n          fill=\"white\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_10177_55534\">\n          <rect\n            width=\"40\"\n            height=\"40\"\n            fill=\"white\"\n            transform=\"translate(0.5)\"\n          />\n        </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n}\n\nexport default RewardsIcon;\n","import { Button, makeStyles, Theme, createStyles, Link, useMediaQuery } from \"@material-ui/core\";\nimport { ArrowRightAlt } from \"@material-ui/icons\";\nimport React, { useState } from \"react\";\nimport { Link as RouterLink } from 'react-router-dom';\nimport CouponIcon from \"../assets/icons/CouponIcon\";\nimport LocationIcon from \"../assets/icons/LocationIcon\";\nimport NoFeesBubble from \"../assets/icons/NoFeesBubble\";\nimport NoFeesIcon from \"../assets/icons/NoFeesIcon\";\nimport TelescopeIcon from \"../assets/icons/TelescopeIcon\";\nimport BannerIllustration from \"../assets/images/banner/san-mateo-banner.png\";\nimport BannerMobile from \"../assets/images/banner/san-mateo-banner-mobile.png\";\nimport LearnMoreDialog from \"./LearnMoreDialog\";\nimport BannerImage from \"../assets/images/banner/dialog-banner.png\";\nimport { Else, If, Then } from \"react-if\";\nimport MapColoredIcon from \"../assets/icons/MapColoredIcon\";\nimport ExclusiveDealsIcon from \"../assets/icons/ExclusiveDealsIcon\";\nimport RewardsIcon from \"../assets/icons/RewardsIcon\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      background: `url(${BannerIllustration})`,\n      backgroundSize: \"auto 100%\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundPosition: \"right\",\n      padding: theme.spacing(3),\n      paddingLeft: 5,\n      maxWidth: 1270,\n      width: \"95%\",\n      margin: \"auto\",\n      borderRadius: 35,\n\n      [theme.breakpoints.down('md')]: {\n          backgroundPosition: 'left',\n          background: 'unset',\n          padding: 0,\n          margin: 0,\n          width: '100%'\n      },\n\n      \"& .headerContentWrapper\": {\n        position: 'relative',\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr\",\n        alignItems: \"center\",\n\n        [theme.breakpoints.down('md')]: {\n          display: 'flex',\n          flexDirection: 'column-reverse'\n        }\n      },\n\n      '& .mobileBanner': {\n        maxHeight: '500px',\n        objectFit: 'cover',\n        width: '100%',\n      },\n\n      '& .exploreButton': {\n        position: 'absolute',\n        top: theme.spacing(2),\n        zIndex: 1,\n        maxWidth: '95% !important',\n        width: '100%',\n        left: '50%',\n        transform: 'translateX(-50%)',\n\n        '&.MuiButton-root': {\n          background: '#e1e4e5',\n          border: 0,\n          padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\n          maxWidth: 650,\n\n          '& .MuiButton-label': {\n            textTransform: 'none',\n            justifyContent: 'flex-start',\n            fontSize: 14,\n            color: theme.palette.secondary.light\n          },\n\n          '& .mapIcon': {\n            marginLeft: 'auto',\n          }\n        },\n      }\n    },\n\n    headerCard: {\n      background: theme.palette.background.paper,\n      boxShadow: \"0px 3px 12px rgba(0, 0, 0, 0.07)\",\n      borderRadius: \"30px\",\n      maxWidth: \"515px\",\n      width: \"100%\",\n\n      [theme.breakpoints.down('md')]: {\n        marginTop: `-20%`,\n        zIndex: 1,\n        maxWidth: \"100%\",\n        borderBottomLeftRadius: 0,\n        borderBottomRightRadius: 0,\n      },\n\n      \"& .heading\": {\n        fontSize: 36,\n        fontWeight: 700,\n        margin: 0,\n        marginBottom: theme.spacing(1),\n        maxWidth: 275,\n        width: \"100%\",\n        color: theme.palette.info.light,\n\n        \"& span\": {\n          color: theme.palette.primary.main,\n        },\n\n        [theme.breakpoints.down('sm')]: {\n          fontSize: 26\n        }\n      },\n\n      \"& .subheading\": {\n        fontSize: 14,\n        fontWeight: 600,\n        color: theme.palette.secondary.light,\n        margin: 0,\n        marginBottom: theme.spacing(1),\n      },\n\n      \"& .learnMore\": {\n        display: 'flex',\n        fontSize: 14,\n        cursor: 'pointer',\n      },\n\n      \"& .cardContent\": {\n        padding: `${theme.spacing(3)} ${theme.spacing(4)}`,\n      },\n\n      \"& .cardFooter\": {\n        padding: `${theme.spacing(2)} ${theme.spacing(3)}`,\n        borderTop: `1px solid ${theme.palette.divider}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: 'wrap',\n        gap: theme.spacing(2),\n\n        \"& .iconWithText\": {\n          fontSize: 14,\n          fontWeight: 700,\n          color: theme.palette.info.light,\n          marginRight: theme.spacing(0.5),\n          display: \"flex\",\n\n          \"& span\": {\n            color: theme.palette.primary.main,\n            margin: \"0 5px\",\n          },\n        },\n\n        \"& .locationChip\": {\n          background: \"rgba(0, 0, 0, 0.03)\",\n          padding: theme.spacing(1),\n          borderRadius: 100,\n          fontSize: 14,\n          fontWeight: 700,\n          display: \"flex\",\n          alignItems: \"center\",\n\n          '& .MuiSvgIcon-root': {\n            marginRight: theme.spacing(1),\n          }\n        },\n      },\n    },\n  })\n);\n\ntype HeaderCardProps = {\n  heading: string | React.ReactNode;\n  subheading: string;\n};\n\nconst HeaderCard = (props: HeaderCardProps) => {\n  const { heading, subheading } = props;\n\n  const [isDialogOpen, setDialogOpen] = useState(false);\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.headerCard}>\n      <div className=\"cardContent\">\n        <h3 className=\"heading\">{heading}</h3>\n        <p className=\"subheading\">{subheading}</p>\n        <Link className=\"learnMore\" color={\"inherit\"} onClick={() => setDialogOpen(true)}>\n          Learn More <ArrowRightAlt fontSize=\"small\" sx={{ marginLeft: 1 }} />\n        </Link>\n      </div>\n\n      <div className=\"cardFooter\">\n        <div className=\"iconWithText\">\n          <TelescopeIcon sx={{ marginRight: 1 }} /> Discovering{\" \"}\n          <span>Local</span> at\n        </div>\n        <div className=\"locationChip\">\n          <LocationIcon /> San Mateo, CA\n        </div>\n      </div>\n\n      <LearnMoreDialog\n        isOpen={isDialogOpen}\n        onCancel={() => setDialogOpen(false)}\n        illustration={<img src={BannerImage} className=\"dialogImage\" />}\n        heading={<>Order Takeout with <span>In-Store Prices</span></>}\n        subHeading=\"Discover local favorites completely fee-free\"\n        description=\"Tired of extra fees and markups? Skip the extra fees, in line wait,\n        and phone calls, while earning rewards and saving big with special\n        offers. Directly online order your local favorites with the best\n        in-store price every time.\"\n        cardsHeading=\"The best in-store price every time?\"\n        cardsList={[\n          {\n            heading: \"No markups\",\n            description: \"Order local online at the same unbeatable in-store price\",\n            icon: <CouponIcon />,\n          },\n          {\n            heading: \"No extra fees\",\n            description: \"Our marketplace includes no service or commission fees\",\n            icon: <NoFeesIcon />,\n          },\n          {\n            heading: \"Exclusive deals\",\n            description: \"Save more on your online orders with special offers only found on 1m.app\",\n            icon: <ExclusiveDealsIcon />,\n          },\n          {\n            heading: \"Rewards\",\n            description: \"Earn rewards for shopping small that add up to bigger savings\",\n            icon: <RewardsIcon />,\n          },\n        ]}\n      />\n    </div>\n  );\n};\n\nconst DiscoveryPageHeader = () => {\n  const classes = useStyles();\n  const isTabletView = useMediaQuery((theme: Theme) => theme.breakpoints.down('md'));\n  const isMobileView = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n\n  return (\n    <header className={classes.root}>\n      <div className=\"headerContentWrapper\">\n        <HeaderCard\n          heading={\n            <>\n              Order takeout with <span>in-store prices</span>\n            </>\n          }\n          subheading=\"Discover local favorites, completely fee-free\"\n        />\n\n       <If condition={isMobileView}>\n          <Button\n           variant=\"outlined\"\n           color=\"inherit\"\n           fullWidth\n           component={RouterLink}\n           to={'/sanmateo/discovery'}\n           size=\"large\"\n           className='exploreButton'>\n             Search in San Mateo... <MapColoredIcon className=\"mapIcon\" />\n          </Button>\n        </If>\n\n        <If condition={isTabletView}>\n          <Then>\n            <img src={BannerMobile} className=\"mobileBanner\" alt=\"banner\" />\n          </Then>\n          <Else>\n            <NoFeesBubble />\n          </Else>\n        </If>\n      </div>\n    </header>\n  );\n};\n\nexport default DiscoveryPageHeader;\n","export default __webpack_public_path__ + \"static/media/orange-bubbles.f57eb853.svg\";","export default __webpack_public_path__ + \"static/media/green-bubbles.a7c19ea9.svg\";","export default __webpack_public_path__ + \"static/media/deserve-rewards-landscape.5d6a0c66.png\";","export default __webpack_public_path__ + \"static/media/deserve-rewards-landscape-min.7d222aee.png\";","export default __webpack_public_path__ + \"static/media/no-markup-offer.02d94dcc.svg\";","import React, { useState } from \"react\";\nimport { Link } from \"@material-ui/core\";\nimport { ArrowRightAlt } from \"@material-ui/icons\";\n\nimport LearnMoreDialog from \"./LearnMoreDialog\";\nimport RewardsInfoContent from \"./common/RewardsInfoContent\";\n\nconst DeserveRewardsDialog = () => {\n  const [isDialogOpen, setDialogOpen] = useState(false);\n\n  return (\n    <>\n      <Link\n        color=\"inherit\"\n        onClick={() => setDialogOpen(true)}\n        className=\"learnMore\"\n      >\n        Learn More <ArrowRightAlt fontSize=\"small\" sx={{ marginLeft: 1 }} />\n      </Link>\n      <LearnMoreDialog\n        isOpen={isDialogOpen}\n        onCancel={() => setDialogOpen(false)}\n        isMultiColumn={false}\n      >\n        <RewardsInfoContent />\n      </LearnMoreDialog>\n    </>\n  );\n};\n\nexport default DeserveRewardsDialog;\n","export default __webpack_public_path__ + \"static/media/fee-free.2f315821.png\";","import React from 'react'\nimport { SvgIcon } from \"@material-ui/core\";\n\nfunction CommisssionIcon(props: any) {\n  return (\n    <SvgIcon width=\"49\" sx={{height: \"48px\"}} viewBox=\"0 0 49 48\" fill=\"none\"  {...props} >\n      <g clipPath=\"url(#clip0_10177_55044)\">\n<path d=\"M4.46582 37.5563V27.8378C4.46582 21.6312 9.44235 16.5028 15.6489 16.4689C21.8804 16.435 26.9595 21.4934 26.9595 27.7156V37.5563C26.9595 38.3329 26.3299 38.9625 25.5533 38.9625H5.87207C5.09545 38.9625 4.46582 38.3329 4.46582 37.5563Z\" fill=\"#FF7C48\"/>\n<path d=\"M15.7124 16.4688C11.172 16.4688 7.47803 12.7748 7.47803 8.23444C7.47803 3.69403 11.172 0 15.7124 0C20.2528 0 23.9467 3.69394 23.9467 8.23434C23.9467 12.7747 20.2528 16.4688 15.7124 16.4688Z\" fill=\"#FFE5DD\"/>\n<path d=\"M26.9593 37.5561V27.7155C26.9593 21.5145 21.9146 16.4701 15.7124 16.4692V38.9624H25.5531C26.3297 38.9624 26.9593 38.3328 26.9593 37.5561Z\" fill=\"#FF415B\"/>\n<path d=\"M23.9467 8.23434C23.9467 3.69394 20.2528 0 15.7124 0V16.4688C20.2528 16.4688 23.9467 12.7748 23.9467 8.23434Z\" fill=\"#FFC3B6\"/>\n<path d=\"M38.3062 31.4313C37.5295 31.4313 36.8999 30.8017 36.8999 30.025V24C36.8999 23.2234 37.5295 22.5938 38.3062 22.5938C39.0828 22.5938 39.7124 23.2234 39.7124 24V30.025C39.7124 30.8017 39.0828 31.4313 38.3062 31.4313Z\" fill=\"#D2DCE6\"/>\n<path d=\"M44.3313 25.4061H32.2813C31.5046 25.4061 30.875 24.7765 30.875 23.9999V17.9749C30.875 17.1982 31.5046 16.5686 32.2813 16.5686H44.3312C45.1078 16.5686 45.7375 17.1982 45.7375 17.9749V23.9999C45.7376 24.7765 45.1079 25.4061 44.3313 25.4061Z\" fill=\"#E3E9EE\"/>\n<path d=\"M44.3312 38.9626H23.2437C22.467 38.9626 21.8374 38.333 21.8374 37.5564V30.0251C21.8374 29.2485 22.467 28.6189 23.2437 28.6189H44.3312C45.1078 28.6189 45.7375 29.2485 45.7375 30.0251V37.5564C45.7375 38.333 45.1078 38.9626 44.3312 38.9626Z\" fill=\"#E3E9EE\"/>\n<path d=\"M47.3438 47.9999H2.15625C1.37962 47.9999 0.75 47.3703 0.75 46.5937V37.5562C0.75 36.7795 1.37962 36.1499 2.15625 36.1499H47.3438C48.1204 36.1499 48.75 36.7795 48.75 37.5562V46.5937C48.75 47.3703 48.1204 47.9999 47.3438 47.9999Z\" fill=\"#FFCB00\"/>\n<path d=\"M48.7499 46.5937V37.5562C48.7499 36.7795 48.1203 36.1499 47.3437 36.1499H15.7124V47.9999H47.3437C48.1203 47.9999 48.7499 47.3703 48.7499 46.5937Z\" fill=\"#FF9D22\"/>\n</g>\n<defs>\n<clipPath id=\"clip0_10177_55044\">\n<rect width=\"48\" height=\"48\" fill=\"white\" transform=\"translate(0.75)\"/>\n</clipPath>\n</defs>\n    </SvgIcon>\n  );\n}\n\nexport default CommisssionIcon\n","import React, { useState } from \"react\";\nimport NoFeesIcon from \"../assets/icons/NoFeesIcon\";\n\nimport LearnMoreDialog from \"./LearnMoreDialog\";\nimport BannerImage from \"../assets/images/banner/fee-free.png\";\nimport FeeFreeBanner from \"../assets/images/banner/fee-free-banner.png\";\nimport CouponIcon from \"../assets/icons/CouponIcon\";\nimport ArrowDownFilledIcon from '../assets/icons/ArrowDownFilledIcon';\nimport CommisssionIcon from \"../assets/icons/CommissionIcon\";\nimport {\n  Divider,\n  makeStyles,\n  Theme,\n  createStyles,\n  Link,\n} from \"@material-ui/core\";\nimport { ArrowRightAlt } from \"@material-ui/icons\";\nimport { StyledGreenChip } from \"./Classifieds/styledComponents\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"& .contentVisual\": {\n        width: \"100%\",\n      },\n\n      \"& .contentDescription\": {\n        fontSize: 14,\n        fontWeight: 500,\n        color: \"#939393\",\n\n        \"& span\": {\n          color: \"#22AC38\",\n        },\n      },\n\n      \"& .dialogContentHeading\": {\n        color: \"#22AC38\",\n        fontSize: \"14px\",\n        fontWeight: \"700\",\n      },\n    },\n  })\n);\n\nconst NoMarkupDialog = () => {\n  const [isDialogOpen, setDialogOpen] = useState(false);\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <Link\n        color=\"inherit\"\n        onClick={() => setDialogOpen(true)}\n        className=\"learnMore\"\n      >\n        Learn More <ArrowRightAlt fontSize=\"small\" sx={{ marginLeft: 1 }} />\n      </Link>\n      <LearnMoreDialog\n        isOpen={isDialogOpen}\n        onCancel={() => setDialogOpen(false)}\n        illustration={<img src={BannerImage} className=\"dialogImage\" />}\n        title=\"One Market 101\"\n        heading={\n          <>\n            Fee-Free Means <span className=\"green\">No Markups</span>\n          </>\n        }\n        description=\"Find these stores on 1m.app fee-free, or elsewhere with pricey markups.\"\n        // cardsHeading=\"STEP 2       Know Your Rewards!\"\n        cardsList={[\n          {\n            heading: \"$0 Commission Charge\",\n            icon: <CommisssionIcon />,\n            description: \"for local merchants\",\n          },\n          {\n            heading: \"0% markup\",\n            description: \"on your online orders\",\n            icon: <CouponIcon />,\n          },\n        ]}\n      >\n        <div className={classes.root}>\n          <Divider sx={{ margin: `32px 0` }} />\n\n          <p className=\"contentDescription\">\n            Unlike other third-party delivery platforms charging customers 7-91%\n            markup and local merchants 6-30% commission,{\" \"}\n            <span>One Market’s marketplace is entirely fee-free.</span>\n          </p>\n\n          {/* <img\n            className=\"contentVisual\"\n            src={FeeFreeBanner}\n            alt=\"know-your-rewards\"\n          /> */}\n\n          <Divider sx={{ margin: `32px 0` }} />\n\n          <h3>On other online ordering platforms...</h3>\n\n          <h4 className=\"dialogContentHeading\">Commission fees</h4>\n          <p>\n            When third-party delivery platforms charge local merchants\n            commission fees, the platform takes a portion of the revenue -\n            leaving local shops with little profit.\n          </p>\n\n          <h4 className=\"dialogContentHeading\">Markups</h4>\n          <p>\n            With costly commission fees, local merchants markup prices to ensure\n            they receive fair margins. With a fee-free marketplace, merchants\n            can price online items the exact same as in-store.\n          </p>\n\n          <Divider sx={{ margin: `32px 0` }} />\n\n          <h3>\n            With <span style={{ color: \"#22AC38\" }}>One Market...</span>\n          </h3>\n            <StyledGreenChip\n              label=\"20% only on 1m.app\"\n              icon={<ArrowDownFilledIcon />}\n              variant=\"filled\"\n              size=\"small\"\n            />\n\n          <p className=\"contentDescription\">\n            A pill like above shows how much the store’s price is lower in\n            average compared to their pricing on other platforms.\n          </p>\n          <p className=\"contentDescription\">\n            You can enjoy all of the convenience of online ordering with the\n            assurance that you are <span>getting the same in-store price and keeping\n            local businesses’ margins healthy.</span>\n          </p>\n        </div>\n      </LearnMoreDialog>\n    </>\n  );\n};\n\nexport default NoMarkupDialog;\n","import React, { useContext, useEffect } from 'react';\nimport { Button, createStyles, makeStyles, Theme, useMediaQuery } from '@material-ui/core';\nimport { pickAll, propOr } from 'ramda';\nimport { Link } from 'react-router-dom';\nimport useAxios from 'axios-hooks';\nimport { If } from 'react-if';\nimport { rgba } from 'polished';\nimport AliceCarousel from 'react-alice-carousel';\n\n// src\nimport { FullscreenPaper } from '../bos_common/src';\nimport SimpleLoader from '../bos_common/src/components/SimpleLoader';\nimport { ClassifiedKey, ClassifiedsApiResponseType } from '../bos_common/src/types/ClassifiedType';\nimport 'react-alice-carousel/lib/alice-carousel.css';\n\nimport ClassifiedCarousel from '../components/Classifieds/ClassifiedCarousel';\nimport { FabContainer } from '../bos_common/src/components/FabContainers';\nimport { MenuDrawer } from '../components/common/MenuDrawer';\nimport { UserContext } from '../bos_common/src/context/UserContext';\nimport AppFooter from '../components/common/AppFooter';\nimport DiscoveryPageHeader from '../components/DiscoveryPageHeader';\nimport OrangeBubblesIllustrations from '../assets/images/banner/orange-bubbles.svg';\nimport GreenBubblesIllustration from '../assets/images/banner/green-bubbles.svg';\nimport RewardsOfferImg from '../assets/images/banner/deserve-rewards-landscape.png';\nimport RewardsOfferMobileImg from '../assets/images/banner/deserve-rewards-landscape-min.png';\nimport NoMarkupOfferImg from '../assets/images/banner/no-markup-offer.svg';\nimport MapColoredIcon from '../assets/icons/MapColoredIcon';\nimport Navbar from '../components/common/Navbar';\nimport DeserveRewardsDialog from '../components/DeserveRewardsDialog';\nimport NoMarkupDialog from '../components/NoMarkupDialog';\nimport { PIXEL_EVENTS_TYPE, trackRPEvent } from '../services/Tracking/FbPixelTracking';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    exploreButton: {\n      '&.MuiButton-root': {\n        background: rgba(theme.palette.secondary.light, 0.3),\n        border: 0,\n        padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\n        maxWidth: 650,\n\n        '& .MuiButton-label': {\n          textTransform: 'none',\n          justifyContent: 'flex-start',\n          fontSize: 14,\n          color: theme.palette.secondary.light\n        },\n\n        '& .mapIcon': {\n          marginLeft: 'auto',\n        }\n      },\n    },\n\n    root: {\n      overflow: 'auto',\n      position: 'relative',\n      backgroundColor: 'white',\n      padding: `${theme.spacing(2)} 0`,\n      paddingTop: 0,\n\n      '& .offersWrapper': {\n        background: 'rgba(0, 0, 0, 0.02)',\n        display: 'flex',\n        justifyContent: 'center',\n\n        '& .alice-carousel': {\n          '& .alice-carousel__dots': {\n            margin: 0,\n          },\n        },\n\n        [theme.breakpoints.down('md')]: {\n          flexDirection: 'column'\n        },\n      },\n\n      \"& .classified-sections-container\": {\n        width: '100%',\n        margin: 'auto',\n        boxSizing: 'border-box',\n        padding: theme.spacing(2),\n\n        [theme.breakpoints.down('md')]: {\n          padding: theme.spacing(2),\n        }\n      },\n\n      '& .browseMerchants': {\n        border: `1px solid ${rgba(theme.palette.secondary.light, 0.5)}`,\n        fontSize: 14,\n        padding: theme.spacing(1),\n        background: theme.palette.background.paper,\n        textTransform: 'unset',\n        marginTop: theme.spacing(2),\n\n        '& .MuiButton-label': {\n          color: theme.palette.info.light,\n          display: 'flex',\n          justifyContent: 'center',\n\n          '& .MuiSvgIcon-root': {\n            marginRight: theme.spacing(2),\n          }\n        }\n      },\n    },\n\n    offerCard: {\n      boxShadow: \"0px 3px 12px rgba(0, 0, 0, 0.07)\",\n      borderRadius: '20px',\n      margin: `${theme.spacing(2)} ${theme.spacing(2)} ${theme.spacing(2)} 0`,\n      backgroundSize: 'auto 100%',\n      backgroundPosition: 'right',\n      backgroundRepeat: 'no-repeat',\n      display: \"grid\",\n      gridTemplateColumns: \"1fr 1fr\",\n\n      '& .cardContent': {\n        padding: `${theme.spacing(3)} 0 ${theme.spacing(3)} ${theme.spacing(3)}`,\n\n        [theme.breakpoints.down('sm')]: {\n          padding: `${theme.spacing(2)} ${theme.spacing(1)}`,\n        }\n      },\n\n      '& .heading': {\n        fontSize: 18,\n        fontWeight: 700,\n        margin: 0,\n        marginBottom: theme.spacing(1),\n        maxWidth: 166,\n        width: \"100%\",\n        color: theme.palette.info.light,\n        minHeight: '85px',\n\n        [theme.breakpoints.down('md')]: {\n          fontSize: 14,\n          minHeight: 60,\n        },\n\n        '& span': {\n          color: theme.palette.secondary.main,\n          '&.green': {\n            color: '#22AC38'\n          }\n        }\n      },\n\n      '& .learnMore': {\n        fontSize: '14px',\n        display: 'flex',\n        cursor: 'pointer',\n      },\n\n      '& .cardVisualContainer': {\n        display: \"flex\",\n        justifyContent: \"right\",\n      },\n\n      '& .cardThumbnail': {\n        maxWidth: 285,\n        height: '100%',\n        borderRadius: '0 20px 20px 0',\n        objectFit: 'cover',\n        objectPosition: '85% center',\n        maxHeight: 160,\n\n        [theme.breakpoints.down('md')]: {\n          maxWidth: 200,\n          objectPosition: '58% 76%',\n          maxHeight: 135,\n        },\n\n        [theme.breakpoints.down('sm')]: {\n          maxWidth: 180,\n          width: \"100%\",\n          objectFit: 'contain',\n          objectPosition: 'bottom right',\n        },\n      }\n    },\n\n    menuToggleButtonContainer: {\n      position: 'fixed',\n      bottom: 0,\n      backgroundColor: 'transparent !important', // to override inline style\n    },\n  })\n);\n\ntype OfferCardProps = {\n  heading: string | React.ReactNode;\n  imageSrc: string;\n  illustrationsSrc: string;\n  children: React.ReactElement;\n}\n\nconst OfferCard = (props: OfferCardProps) => {\n  const { heading, imageSrc, children, illustrationsSrc } = props;\n  const classes = useStyles();\n\n  return (\n    <div className={classes.offerCard} style={{ backgroundImage: `url(${illustrationsSrc})` }}>\n      <div className='cardContent'>\n        <h3 className=\"heading\">{heading}</h3>\n        {children}\n      </div>\n      <div className=\"cardVisualContainer\">\n        <img src={imageSrc} className=\"cardThumbnail\" />\n      </div>\n    </div>\n  )\n}\n\nconst SanMateoDiscoveryPage = () => {\n  const classes = useStyles()\n  const isMobile = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const isTabletMode = useMediaQuery((theme: Theme) => theme.breakpoints.down('md'));\n\n  const { user } = useContext(UserContext)\n\n  const [{ data, loading }] = useAxios<ClassifiedsApiResponseType>(\n    { url: `/classifieds/data`, method: \"GET\" },\n  )\n\n  const offersList = [\n    <OfferCard\n      heading={<>Supporting Local <span>Deserves Rewards</span></>}\n      imageSrc={isMobile ? RewardsOfferMobileImg : RewardsOfferImg}\n      illustrationsSrc={OrangeBubblesIllustrations}\n      key={0}\n    >\n      <DeserveRewardsDialog />\n    </OfferCard>,\n    <OfferCard\n      heading={<>Fee-Free Means <span className=\"green\">No Markups</span></>}\n      imageSrc={NoMarkupOfferImg}\n      illustrationsSrc={GreenBubblesIllustration}\n      key={1}\n    >\n      <NoMarkupDialog />\n    </OfferCard>\n  ]\n\n  useEffect(() => {\n    trackRPEvent(PIXEL_EVENTS_TYPE.visitedSanMateoMP, { user })\n  }, [])\n\n  return (\n    <div className=\"container\" style={{ minHeight: '90vh', maxWidth: '1080px', margin: 'auto', }}>\n      <If condition={loading}>\n        <SimpleLoader loading={loading} />\n      </If>\n      <If condition={!isMobile}>\n        <Navbar>\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            fullWidth\n            component={Link}\n            to={'/sanmateo/discovery'}\n            size=\"large\"\n            className={classes.exploreButton}\n          >\n            Search in San Mateo... <MapColoredIcon className=\"mapIcon\" />\n          </Button>\n        </Navbar>\n      </If>\n      <FullscreenPaper className={classes.root} elevation={0} sx={{ overflow: \"unset\", boxShadow: 'unset' }} square={true}>\n        <DiscoveryPageHeader />\n\n        <div className='classified-sections-container'>\n          <ClassifiedCarousel key={ClassifiedKey.hotDeal} list={propOr([], ClassifiedKey.hotDeal, data)} />\n        </div>\n        <div className=\"offersWrapper\">\n          <div className='classified-sections-container'>\n            <AliceCarousel\n              autoHeight\n              disableButtonsControls\n              items={offersList}\n              mouseTracking\n              disableDotsControls={!isTabletMode}\n              autoPlayInterval={2000}\n              infinite={isTabletMode}\n              responsive={{ 0: { items: 1 }, 800: { items: 2 } }}\n              autoPlay={true}\n            />\n          </div>\n        </div>\n        <div className='classified-sections-container'>\n          <ClassifiedCarousel key={ClassifiedKey.hotItem} list={propOr([], ClassifiedKey.hotItem, data)} />\n          <ClassifiedCarousel key={ClassifiedKey.exclusive} list={propOr([], ClassifiedKey.exclusive, data)} />\n          <ClassifiedCarousel key={ClassifiedKey.bigSavings} list={propOr([], ClassifiedKey.bigSavings, data)} />\n          <ClassifiedCarousel key={ClassifiedKey.localGem} list={propOr([], ClassifiedKey.localGem, data)} />\n\n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            fullWidth\n            component={Link}\n            to={'/sanmateo/discovery'}\n            size=\"medium\"\n            className=\"browseMerchants\"\n          >\n            <MapColoredIcon className=\"mapIcon\" /> Browse All Local Merchants in Map\n          </Button>\n        </div>\n      </FullscreenPaper>\n\n      <If condition={isMobile}>\n        <FabContainer\n          alignment='right'\n          fabStyle={{ padding: \"32px 16px 24px\", background: 'linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 100%)', bottom: 0, }}\n          fadeTop={isMobile}\n          className={classes.menuToggleButtonContainer}\n        >\n          <MenuDrawer menuButtonProps={{ color: \"primary\", variant: \"contained\" }} />\n        </FabContainer>\n      </If>\n      <AppFooter />\n    </div>\n  );\n}\n\nexport default SanMateoDiscoveryPage;\n","import React, { useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport AccountBalanceWallet from '@material-ui/icons/AccountBalanceWallet';\nimport CreditCardIcon from '@material-ui/icons/CreditCard';\n\nimport { FullscreenPaper } from \"../bos_common/src\";\n\nimport { fetchUserPaymentMethods } from \"../redux/slice/stripe/stripeAction\";\nimport { useAppDispatch, useAppSelector } from \"../redux/hooks\";\nimport { getToken } from \"../redux/slice/auth/authSelector\";\nimport { getStripeLoadingStatus, getStripeUpdatingStatus, getUserPaymentMethods } from \"../redux/slice/stripe/stripeSelector\";\n\nimport PageHeader from \"../components/common/PageHeader\";\nimport CountBox from \"../components/common/CountBox\";\nimport SimpleLoader from \"../bos_common/src/components/SimpleLoader\";\nimport { headerCustomStyle } from '../styles/Common.style';\nimport { CreditCardList } from \"../components/Payment/CreditCardList\";\nimport AddPaymentFormDrawer from \"../components/Payment/AddPaymentFormDrawer\";\nimport { stripePublicKey } from \"../utils\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      borderRadius: \"20px 20px 0px 0px !important\",\n      zIndex: 1,\n\n      \"& .paper-item\": {\n        display: 'flex',\n        padding: '1rem',\n        margin: '1rem',\n        cursor: \"pointer\"\n      },\n    },\n    navWrapper: {\n      ...headerCustomStyle(theme, theme.palette.primary.main),\n    },\n  })\n);\n\nexport const UserPaymentMethods = (): JSX.Element => {\n  const title = 'Payment';\n  const pStripe = React.useMemo(() => loadStripe(stripePublicKey()), []);\n  const classes = useStyles();\n  const loading = useAppSelector(getStripeLoadingStatus);\n  const updating = useAppSelector(getStripeUpdatingStatus);\n  const token = useAppSelector(getToken);\n  const userPaymentMethods = useAppSelector(getUserPaymentMethods);\n  const reduxDispatch = useAppDispatch();\n  const [formShown, setFormShown] = React.useState<boolean>(false);\n\n  const handleClickAddPayment = () => {\n    setFormShown(true);\n  }\n\n  const handleClose = () => {\n    setFormShown(false);\n  }\n\n  useEffect(() => {\n    if (token) {\n      reduxDispatch(fetchUserPaymentMethods());\n    }\n  }, [token]);\n\n  return (\n    <div className=\"container\">\n      <div className={classes.navWrapper}>\n        <PageHeader title={title} leftChild={<AccountBalanceWallet fontSize=\"large\" style={{padding: 12}} />} />\n      </div>\n\n      <SimpleLoader loading={loading || updating} />\n      <FullscreenPaper className={classes.root}>\n        <Typography variant=\"subtitle1\" style={{ textAlign: 'center', gap: \"10px\" }} mt=\"1rem\">\n          Saved Cards <CountBox count={Number(userPaymentMethods?.length)} />\n        </Typography>\n        <CreditCardList paymentMethods={userPaymentMethods} />\n        <Box>\n          <Paper elevation={3} className=\"paper-item\" onClick={handleClickAddPayment}>\n            <CreditCardIcon sx={{ height: '54px', width: '54px' }} fontSize=\"large\" />\n            <Box sx={{ marginLeft: '1rem' }}>\n              <Box style={{ display: 'flex' }}>\n                <Typography variant=\"subtitle1\" style={{ marginTop: '.75rem' }}>Add Payment Method</Typography>\n              </Box>\n            </Box>\n          </Paper>\n        </Box>\n        <CardContent>\n          <Typography variant=\"caption\" style={{ margin: '1rem', color: '#C4C4C4' }}>\n            Your card information is kept strictly encrypted on One Market servers. Secure payments are processed by Stripe as third-party service provider.\n          </Typography>\n        </CardContent>\n      </FullscreenPaper>\n      <Elements stripe={pStripe}>\n        <AddPaymentFormDrawer\n          open={formShown}\n          setOpen={setFormShown}\n          hidePhoneNumber />\n      </Elements>\n    </div>\n  );\n}\n\nexport default UserPaymentMethods;\n","import React from 'react';\nimport BottomDrawer from '../../bos_common/src/components/BottomDrawer';\nimport RewardsEducationInfo from '../RewardsEducationInfo';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { setShowRewardsEducationDrawer } from '../../redux/slice/merchant/action';\nimport { getShowRewardsEducationDrawer } from '../../redux/slice/merchant/merchantSelector';\n\n\n\n\nconst RewardsEducationDrawer = (): JSX.Element => {\n  const open = useAppSelector(getShowRewardsEducationDrawer);\n  const dispatch = useAppDispatch()\n\n  const setOpen = (open: boolean) => {\n    dispatch(setShowRewardsEducationDrawer(open))\n  }\n\n  return (\n    <BottomDrawer\n      open={open}\n      setOpen={setOpen}\n      keepMounted={false}\n    >\n      <RewardsEducationInfo openOnDrawer />\n    </BottomDrawer>\n  )\n}\n\nexport default RewardsEducationDrawer;","import React, { useEffect } from 'react';\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport { History } from \"history\";\nimport { Provider } from \"react-redux\";\nimport store from './redux/store';\n\nimport CallbackPage from './bos_common/src/pages/CallbackPage';\nimport PrivacyPolicyPage from './bos_common/src/pages/PrivacyPolicyPage';\nimport TermsOfServicePage from './bos_common/src/pages/TermsOfServicePage';\nimport CopyrightPolicyPage from './bos_common/src/pages/CopyrightPolicyPage';\nimport UserContextProvider from './bos_common/src/context/UserContextProvider';\nimport ErrorBoundary, { ErrorReporterParams } from './bos_common/src/components/ErrorBoundary';\n\nimport ProtectedRoute from './components/ProtectedRoute';\nimport NoneExistPage from './pages/NoneExistPage';\nimport MerchantPage from './pages/MerchantPage';\nimport ShoppingCartPage from './pages/ShoppingCartPage';\nimport LandingPage from './pages/LandingPage';\nimport HomePage from './pages/HomePage';\nimport OrderStatusPage from './pages/OrderStatusPage';\nimport KioskOrderStatusPage from './pages/KioskOrderStatusPage';\nimport CheckoutPage from './pages/CheckoutPage';\nimport LogoutPage from './pages/LogoutPage';\nimport UserSettingsPage from './pages/UserSettingsPage';\nimport OneMarketPointsPage from './pages/OneMarketPointsPage';\nimport FavoritesPage from './pages/FavoritesPage';\nimport LoginPage from './pages/LoginPage';\nimport NotificationPage from './pages/NotificationPage';\nimport OrdersPage from './pages/OrdersPage';\nimport HelpOneMarketPointsPage from './pages/HelpOneMarketPointsPage';\nimport PlaceOpenCheckOrderPage from './pages/PlaceOpenCheckOrderPage';\nimport OpenCheckOrderStatusPage from './pages/OpenCheckOrderStatusPage';\nimport VisitHistoryPage from \"./pages/VisitHistoryPage\";\nimport ReviewPage from './pages/ReviewPage';\nimport ReviewMerchandisePage from './pages/ReviewMerchandisePage';\n\nimport NativeAuthHandler from './components/NativeAuthHandler';\nimport AppContextProvider from './context/AppContextProvider';\nimport MUIThemeProvider from \"./theme/MUIThemeProvider\"\nimport ShoppingCartContextProvider from './context/ShoppingCart/ShoppingCartContextProvider';\nimport VisitedMerchantContextProvider from './context/VisitedMerchantContext/VisitedMerchantContextProvider';\n\nimport { isKioskDevice, isEmbeddedMode } from './utils';\nimport logger from './services/logger';\nimport config from './config/config';\n\nimport './App.css';\nimport LootboxPage from './pages/LootboxPage';\nimport LootboxVotesPage from './pages/LootboxVotesPage';\nimport MapSearchPage from './pages/MapSearchPage';\nimport MerchantDiscoveryPage from './pages/MerchantDiscoveryPage';\nimport SanMateoDiscoveryPage from './pages/SanMateoDiscoveryPage';\nimport UserPaymentMethods from './pages/UserPaymentMethods';\nimport RewardsEducationDrawer from './components/common/RewardsEducationDrawer';\n\nfunction App({ history }: { history: History }): React.ReactElement {\n  const skipLogin = isKioskDevice() || isEmbeddedMode()\n\n  useEffect(() => {\n    logger.setTag('AppType', config.appConfig.appType)\n    logger.setTag('DeviceType', config.appConfig.deviceType)\n    logger.setTag('ClientType', config.appConfig.clientType)\n  }, []);\n\n  const logErrorToSentry = (params: ErrorReporterParams) => {\n    const { source, error, errorInfo } = params\n    logger.error(error, { source, errorInfo })\n  }\n\n  return (\n    <Provider store={store}>\n      <ErrorBoundary\n        source={config.appConfig.appType}\n        reportError={logErrorToSentry}\n      >\n        <div className=\"App\">\n          <MUIThemeProvider>\n            <UserContextProvider skipLogin={skipLogin}>\n              <AppContextProvider>\n                <VisitedMerchantContextProvider>\n                  <Router history={history}>\n                    <Switch>\n                      <Route exact path=\"/\" component={HomePage} />\n                      <Route exact path=\"/callback\" component={CallbackPage} />\n                      <Route exact path=\"/logout\" component={LogoutPage} />\n                      <Route exact path=\"/login\" component={LoginPage} />\n                      <Route exact path=\"/checkout\" component={CheckoutPage} />\n                      <Route exact path=\"/cart\">\n                        <ShoppingCartContextProvider>\n                          <ShoppingCartPage />\n                        </ShoppingCartContextProvider>\n                      </Route>\n                      <Route exact path=\"/dine-in-cart\">\n                        <ShoppingCartContextProvider>\n                          <ShoppingCartPage isCheckoutPage />\n                        </ShoppingCartContextProvider>\n                      </Route>\n                      <Route exact path=\"/discovery\" component={MapSearchPage} />\n                      <Route exact path=\"/notfound\" component={NoneExistPage} />\n                      <Route exact path=\"/help/privacy-policy\" component={PrivacyPolicyPage} />\n                      <Route exact path=\"/help/terms-of-use\" component={TermsOfServicePage} />\n                      <Route exact path=\"/help/copyright-policy\" component={CopyrightPolicyPage} />\n                      <Route exact path=\"/help/1mpoints\" component={HelpOneMarketPointsPage} />\n                      <ProtectedRoute exact path=\"/settings\" component={UserSettingsPage} />\n                      <ProtectedRoute exact path=\"/1mpoints\" component={OneMarketPointsPage} />\n                      <ProtectedRoute exact path=\"/favorites\" component={FavoritesPage} />\n                      <ProtectedRoute exact path=\"/orders\" component={OrdersPage} />\n                      <ProtectedRoute exact path=\"/lootbox/votes\" component={LootboxVotesPage} />\n                      <ProtectedRoute exact path=\"/lootbox\" component={LootboxPage} />\n                      <ProtectedRoute exact path=\"/place-open-check-order\" component={PlaceOpenCheckOrderPage} />\n                      <ProtectedRoute exact path=\"/open-check-order-status/:orderId\" component={OpenCheckOrderStatusPage} />\n                      <ProtectedRoute exact path=\"/payment-method\" component={UserPaymentMethods} />\n                      <Route exact path=\"/visit-history\" component={VisitHistoryPage} />\n                      <Route exact path=\"/order/:orderId\" component={isKioskDevice() ? KioskOrderStatusPage : OrderStatusPage} />\n                      <Route exact path=\"/sanmateo\" component={SanMateoDiscoveryPage} />\n                      <Route exact path=\"/sanmateo/discovery\" component={MerchantDiscoveryPage} />\n                      <Route exact path=\"/:merchantUserName/item/:merchandiseId\" component={MerchantPage} />\n                      <Route exact path=\"/:merchantUserName/item/:merchandiseId/reviews\" component={MerchantPage} />\n                      <Route exact path=\"/:merchantUserName\" component={MerchantPage} />\n                      <ProtectedRoute exact path=\"/order/:orderId/merchandise/:merchandiseId/reviews\" component={ReviewMerchandisePage} />\n                      <ProtectedRoute exact path=\"/order/:orderId/reviews\" component={ReviewPage} />\n                    </Switch>\n                    <NotificationPage />\n\n                    {/* Rewards Education Info Drawer, can be trigger from redux store State */}\n                    <RewardsEducationDrawer />\n                    {isEmbeddedMode() && <NativeAuthHandler />}\n                  </Router>\n                </VisitedMerchantContextProvider>\n              </AppContextProvider>\n            </UserContextProvider>\n          </MUIThemeProvider >\n          <audio id=\"app_order_update_audio\">\n            <source src=\"https://1m-assets.s3.us-west-1.amazonaws.com/audio/order-update.mp3\" type=\"audio/mpeg\" />\n            <track />\n          </audio>\n          <audio id=\"app_earn_1m_points_audio\">\n            <source src=\"https://1m-assets.s3.us-west-1.amazonaws.com/audio/earned-1m-points.mp3\" type=\"audio/mpeg\" />\n            <track />\n          </audio>\n          <audio id=\"app_add_to_cart_audio\">\n            <source src=\"https://1m-assets.s3.us-west-1.amazonaws.com/audio/add-to-cart.mp3\" type=\"audio/mpeg\" />\n            <track />\n          </audio>\n        </div >\n      </ErrorBoundary >\n    </Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport { createBrowserHistory, createHashHistory } from \"history\";\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\nimport { isKioskDevice, isEmbeddedMode } from './utils';\nimport App from './App';\nimport './index.css';\nimport { initializeGoogleTrackingManager, initializeReactGA } from './services/Tracking/EventsTracking';\nimport { initializeFbPixel } from './services/Tracking/FbPixelTracking';\n\nif (isKioskDevice() || isEmbeddedMode()) {\n  const history = createHashHistory();\n  ReactDOM.render(\n    <HashRouter>\n      <App history={history} />\n    </HashRouter>,\n    document.getElementById('root')\n  );\n} else {\n  const history = createBrowserHistory();\n  ReactDOM.render(\n    <BrowserRouter>\n      <App history={history} />\n    </BrowserRouter>,\n    document.getElementById('root')\n  );\n\n  initializeReactGA();\n  initializeGoogleTrackingManager();\n  initializeFbPixel();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { Primitive } from \"react-hook-form\";\n\nexport enum LogLevels {\n  \"fatal\" = \"fatal\",\n  \"error\" = \"error\",\n  \"warning\" = \"warning\",\n  \"debug\" = \"debug\",\n  \"info\" = \"info\",\n}\n\nexport interface LoggingFn {\n  (exception: string | Error, data?: { [s: string]: any }, tags?: { [s: string]: string }): void\n}\n\nexport interface Logger {\n  fatal: LoggingFn\n  error: LoggingFn\n  warning: LoggingFn\n  info: LoggingFn\n  debug: LoggingFn\n\n  setVersion(version: string): void\n\n  setUserId(userId: number | string | null): void\n\n  setDeviceId(deviceId: string): void\n\n  setUserProperties(userProperties: Record<string, any>): void\n\n  setTag(key: string, value: Primitive): void\n}"],"sourceRoot":""}